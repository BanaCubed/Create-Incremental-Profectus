/* empty css                    */import"./vue.742ed486.js";import{q as Vt,C as u,ab as z,t as F,aF as _,a1 as M,aL as tt,bv as Ht,G as ne,as as It,_ as I,az as Zt,a2 as f,J as W,O as R,aK as ut,a0 as D,I as Ie,a8 as m,a9 as s,b7 as B,aI as Le,aG as Ue,u as vn,b2 as Ve,l as ye,j as Kr,bw as rt,aH as sn,A as Ce,$ as G,b9 as bn,bt as br,ar as it,bc as yr,T as Zr,b3 as Ee,aM as De,aD as _r,w as Re,ap as Xr,aO as ue,z as He,bs as ei,am as fn,H as ti,bx as ni,bo as ri,ay as ii,bf as ai}from"./@vue.6b211d3c.js";import{L as yt}from"./lz-string.bfbf8ec3.js";import{c as wr}from"./nanoevents.1080beb7.js";import{i as si}from"./unofficial-galaxy-sdk.21372393.js";import{p as li}from"./vue-textarea-autosize.35804eaf.js";import{Y as oi}from"./vue-next-select.f685f7dc.js";import{s as ui,u as Cr}from"./vue-toastification.7f629511.js";import{D as ci}from"./vuedraggable.9ea763fc.js";import"./sortablejs.1710774d.js";const di=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}};di();const gi="modulepreload",cr={},fi="./",Wt=function(t,n){return!n||n.length===0?t():Promise.all(n.map(r=>{if(r=`${fi}${r}`,r in cr)return;cr[r]=!0;const i=r.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${a}`))return;const c=document.createElement("link");if(c.rel=i?"stylesheet":gi,i||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),i)return new Promise((o,d)=>{c.addEventListener("load",o),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t())},pi="./projInfo-schema.json",mi="Create Incremental",hi="A project made in Profectus",vi="CreateIncremental",bi="BanaCubed",yi="Create Incremental Server",_i="https://discord.gg/wt5XyPRtte",wi="1.0",Ci="Universal // \u03B24: Revamp II",Ni=!0,Si=!0,ki=2,Ii=!1,Mi=null,Pi="",$i=["main"],xi=3600,Ti=1,Ri=!0,Oi="lz",Di=!1;var J={$schema:pi,title:mi,description:hi,id:vi,author:bi,discordName:yi,discordLink:_i,versionNumber:wi,versionTitle:Ci,allowGoBack:Ni,defaultShowSmall:Si,defaultDecimalsShown:ki,useHeader:Ii,banner:Mi,logo:Pi,initialTabs:$i,maxTickLength:xi,offlineLimit:Ti,enablePausing:Ri,exportEncoding:Oi,disableHealthWarning:Di};const qi=Vt({id:"",devSpeed:1,name:"",tabs:[],time:-1,autosave:!0,offlineProd:!0,offlineTime:null,timePlayed:0,keepGoing:!1,modID:"",modVersion:"",layers:{}});var A=window.player=qi;function Ot(e){return JSON.stringify(e,(t,n)=>{var r;return(r=u(n))!=null?r:null})}var K=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n};const Fi=["onClick"],Vi=z({__name:"FeedbackButton",props:{left:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=F(!1),r=F(null);function i(){t("click"),r.value&&clearTimeout(r.value),n.value=!1,It(()=>{n.value=!0,r.value=setTimeout(()=>n.value=!1,500)})}return(a,c)=>(_(),M("button",{onClick:Ht(i,["stop"]),class:ne(["feedback",{activated:n.value,left:e.left}])},[tt(a.$slots,"default",{},void 0,!0)],10,Fi))}});var xn=K(Vi,[["__scopeId","data-v-01a1b95c"]]);const yn=e=>(Le("data-v-ac351c02"),e=e(),Ue(),e),Ei={class:"error"},Ai={class:"error-title"},Li={class:"error-details",style:{"margin-top":"-10px"}},Ui={key:0},Bi={class:"instructions"},Gi=["href"],ji=yn(()=>f("span",{class:"material-icons",style:{"font-size":"16px"}},"content_paste",-1)),zi=yn(()=>f("span",{style:{"margin-left":"8px","font-size":"medium"}},"Copy Save",-1)),Hi=yn(()=>f("br",null,null,-1)),Wi={key:0,style:{"margin-top":"20px"}},Qi=yn(()=>f("h3",null,"Other errors",-1)),Yi=[Qi],Ji={class:"error-details"},Ki={key:0,style:{"margin-top":"10px"}},Zi={key:1,style:{"margin-top":"10px"}},Xi=z({__name:"Error",props:{errors:null},setup(e){const t=e,n=I(()=>t.errors[0]),r=I(()=>t.errors.map(c=>c.stack==null?[]:c.stack.split(`
`))),i=I(()=>t.errors.map(c=>c.cause==null?[]:(typeof c.cause=="string"?c.cause:JSON.stringify(c.cause)).split(`
`)));function a(){let c=Ot(A);switch(J.exportEncoding){default:console.warn(`Unknown save encoding: ${J.exportEncoding}. Defaulting to lz`);case"lz":c=yt.compressToUTF16(c);break;case"base64":c=btoa(unescape(encodeURIComponent(c)));break;case"plain":break}console.log(c);const o=document.createElement("textarea");o.value=c,document.body.appendChild(o),o.select(),o.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(o)}return Zt(()=>{A.autosave=!1,A.devSpeed=0}),(c,o)=>(_(),M("div",Ei,[f("h1",Ai,W(u(n).name)+": "+W(u(n).message),1),f("div",Li,[u(n).cause?(_(),M("div",Ui,[(_(!0),M(R,null,ut(u(i)[0],d=>(_(),M("div",{key:d},W(d),1))),128))])):D("",!0),u(n).stack?(_(),M("div",{key:1,style:Ie(u(n).cause?"margin-top: 10px":"")},[(_(!0),M(R,null,ut(u(r)[0],d=>(_(),M("div",{key:d},W(d),1))),128))],4)):D("",!0)]),f("div",Bi,[m(" Check the console for more details, and consider sharing it with the developers on "),f("a",{href:u(J).discordLink||"https://discord.gg/yJ4fjnjU54",class:"discord-link"},"discord",8,Gi),m("! "),s(xn,{onClick:a,class:"button",style:{display:"inline-flex"}},{default:B(()=>[ji,zi]),_:1}),Hi,e.errors.length>1?(_(),M("div",Wi,Yi)):D("",!0),(_(!0),M(R,null,ut(e.errors.slice(1),(d,p)=>(_(),M("div",{key:p,style:{"margin-top":"20px"}},[f("details",Ji,[f("summary",null,W(d.name)+": "+W(d.message),1),d.cause?(_(),M("div",Ki,[(_(!0),M(R,null,ut(u(i)[p+1],b=>(_(),M("div",{key:b},W(b),1))),128))])):D("",!0),d.stack?(_(),M("div",Zi,[(_(!0),M(R,null,ut(u(r)[p+1],b=>(_(),M("div",{key:b},W(b),1))),128))])):D("",!0)])]))),128))])]))}});var Nr=K(Xi,[["__scopeId","data-v-ac351c02"]]);const Be={variables:{"--foreground":"#dfdfdf","--background":"#0f0f0f","--feature-foreground":"#0f0f0f","--tooltip-background":"rgba(0, 0, 0, 0.75)","--raised-background":"#0f0f0f","--points":"#ffffff","--locked":"#bf8f8f","--highlighted":"#333","--bought":"#77bf5f","--danger":"rgb(220, 53, 69)","--link":"#02f2f2","--outline":"#dfdfdf","--accent1":"#627a82","--accent2":"#658262","--accent3":"#7c6282","--border-radius":"15px","--modal-border":"4px solid rgba(0, 0, 0, 0.25)","--feature-margin":"0px"},floatingTabs:!0,mergeAdjacent:!0,showPin:!0};var Tn=(e=>(e.Classic="classic",e.Paper="paper",e.Nordic="nordic",e.Aqua="aqua",e.Cryo="cryo",e.Cubic="cubic",e))(Tn||{}),Xt={paper:{...Be,variables:{...Be.variables,"--background":"#2a323d","--feature-foreground":"#000","--raised-background":"#333c4a","--highlighted":"#434c5e","--bought":"#5CAA58","--outline":"#333c4a","--border-radius":"7px"},floatingTabs:!1},nordic:{...Be,variables:{...Be.variables,"--background":"#2a323d","--feature-foreground":"#000","--raised-background":"#333c4a","--highlighted":"#434c5e","--bought":"#5CAA58","--outline":"#333c4a","--border-radius":"7px"},floatingTabs:!1},cubic:{...Be,variables:{...Be.variables,"--background":"#030425","--feature-foreground":"#000002","--raised-background":"#031455","--highlighted":"#666668","--bought":"#5CAA58","--outline":"#222344","--border-radius":"0px","--modal-border":"4px solid #222344"},floatingTabs:!1},classic:Be,aqua:{...Be,variables:{...Be.variables,"--foreground":"#bfdfff","--background":"#001f3f","--tooltip-background":"rgba(0, 15, 31, 0.75)","--raised-background":"#001f3f","--points":"#dfefff","--locked":"#c4a7b3","--outline":"#bfdfff","--highlighted":"#06c"}},cryo:{...Be,variables:{...Be.variables,"--foreground":"#0391a3","--background":"#e6e6f2","--feature-foreground":"#002626","--tooltip-background":"#aaaaf2","--raised-background":"#aaaaf2","--points":"#4555bf"},floatingTabs:!1}},le=window.state=vn({lastTenTicks:[],mouseActivity:[!1],hasNaN:!1,NaNPath:[],errors:Vt([])});const Ne=wr();"fonts"in document&&(document.fonts.onloadingdone=()=>Ne.emit("fontsLoaded"));document.onmousemove=function(){le.mouseActivity[le.mouseActivity.length-1]=!0};var ea=Object.freeze(Object.defineProperty({__proto__:null,globalBus:Ne},Symbol.toStringTag,{value:"Module"}));function ct(e={}){return Object.assign({id:`${J.id}-0`,name:"Default Save",tabs:J.initialTabs.slice(),time:Date.now(),autosave:!0,offlineProd:!0,offlineTime:0,timePlayed:0,keepGoing:!1,modID:J.id,devSpeed:1,modVersion:J.versionNumber,layers:{}},e)}function ke(e){const t=yt.compressToUTF16(Ot(e!=null?e:A));return localStorage.setItem((e!=null?e:A).id,t),t}async function ta(){aa();try{let e=localStorage.getItem(j.active);if(e==null){await dt(xt());return}if(e=vt(e),e==null)throw"Unable to determine save encoding";const t=JSON.parse(e);if(t.modID!==J.id){await dt(xt());return}t.id=j.active,await dt(t)}catch(e){console.error(`Failed to load save. Falling back to new save.
`,e),await dt(xt())}}function vt(e){if(e[0]!=="{")if(e[0]==="e")e=decodeURIComponent(escape(atob(e)));else if(e[0]==="\u1BE1")e=yt.decompressFromUTF16(e);else return console.warn("Unable to determine preset encoding",e),null;return e}function xt(){const e=zt(),t=ct({id:e});return ke(t),j.saves.push(e),t}function zt(){let e,t=0;do e=`${J.id}-${t++}`;while(localStorage.getItem(e)!=null);return e}const Rn=F(!1);async function dt(e){console.info("Loading save",e),Rn.value=!0;const{layers:t,removeLayer:n,addLayer:r}=await Wt(()=>Promise.resolve().then(function(){return vl}),void 0),{fixOldSave:i,getInitialLayers:a}=await Wt(()=>Promise.resolve().then(function(){return Qu}),void 0);for(const c in t){const o=t[c];o&&n(o)}a(e).forEach(c=>r(c,e)),e=ct(e),e.offlineProd&&e.time!=null&&e.time&&e.devSpeed!==0&&(e.offlineTime==null&&(e.offlineTime=0),e.offlineTime+=Math.min(e.offlineTime+(Date.now()-e.time)/1e3,J.offlineLimit*3600)),e.time=Date.now(),e.modVersion!==J.versionNumber&&(i(e.modVersion,e),e.modVersion=J.versionNumber),Object.assign(A,e),j.active=A.id,Ne.emit("onLoad")}const Ge=vn({});function na(e){if(Ge[e]==null){let t=localStorage.getItem(e);if(t==null)Ge[e]={error:"Save doesn't exist in localStorage",id:e};else if(t==="dW5kZWZpbmVk")Ge[e]={error:"Save is undefined",id:e};else try{if(t=vt(t),t==null)return console.warn("Unable to determine preset encoding",t),Ge[e]={error:"Unable to determine preset encoding",id:e},Ge[e];Ge[e]={...JSON.parse(t),id:e}}catch(n){Ge[e]={error:n,id:e},console.warn(`Failed to load info about save with id ${e}:
${n}
${t}`)}}return Ge[e]}function ra(){Object.keys(Ge).forEach(e=>delete Ge[e])}function ln(e){Ge[e]=void 0}setInterval(()=>{A.autosave&&ke()},1e3);window.onbeforeunload=()=>{A.autosave&&ke()};window.save=ke;const ia=window.hardReset=async()=>{await dt(xt())};window.deleteLowerSaves=()=>{const e=Object.values(j.saves).indexOf(A.id)+1;Object.values(j.saves).slice(e).forEach(t=>localStorage.removeItem(t)),j.saves=j.saves.slice(0,e)};const Qt=Vt({active:"",saves:[],showTPS:!0,theme:Tn.Paper,unthrottled:!1,alignUnits:!1,notation:3,language:"en",appendLayers:!1,showHealthWarning:!0});Ve(Qt,e=>{const t=yt.compressToUTF16(JSON.stringify(e));localStorage.setItem(J.id,t)},{deep:!0});var j=window.settings=Qt;window.hardResetSettings=()=>{const e={active:"",saves:[],showTPS:!0,theme:Tn.Nordic,alignUnits:!1,notation:3,appendLayers:!1,unthrottled:!1,showHealthWarning:!0};Ne.emit("loadSettings",e),Object.assign(Qt,e),ia()};function aa(){try{let e=localStorage.getItem(J.id);if(e!=null&&e!==""){if(e=vt(e),e==null){console.warn("Unable to determine settings encoding",e);return}const t=JSON.parse(e);typeof t=="object"&&Object.assign(Qt,t)}Ne.emit("loadSettings",Qt)}catch{}}const Sr=Vt([]);function sa(e){Sr.push(e)}const On=Vt([]);function la(e){On.push(e)}const oa=Vt([]);class ua{constructor(t){this.map=new Map,this.first=void 0,this.last=void 0,this.maxSize=t}get size(){return this.map.size}get(t){const n=this.map.get(t);if(n!==void 0)return n!==this.first&&(n===this.last?(this.last=n.prev,this.last.next=void 0):(n.prev.next=n.next,n.next.prev=n.prev),n.next=this.first,this.first.prev=n,this.first=n),n.value}set(t,n){if(this.maxSize<1)return;if(this.map.has(t))throw new Error("Cannot update existing keys in the cache");const r=new ca(t,n);for(this.first===void 0?(this.first=r,this.last=r):(r.next=this.first,this.first.prev=r,this.first=r),this.map.set(t,r);this.map.size>this.maxSize;){const i=this.last;this.map.delete(i.key),this.last=i.prev,this.last.next=void 0}}}class ca{constructor(t,n){this.next=void 0,this.prev=void 0,this.key=t,this.value=n}}const Mn=17,da=9e15,ga=Math.log10(9e15),fa=1/9e15,pa=308,ma=-324,dr=5,ha=(1<<10)-1,va=function(){const e=[];for(let n=ma+1;n<=pa;n++)e.push(Number("1e"+n));const t=323;return function(n){return e[n+t]}}(),wt=[2,Math.E,3,4,5,6,7,8,9,10],ba=[[1,1.0891180521811203,1.1789767925673957,1.2701455431742086,1.3632090180450092,1.4587818160364217,1.5575237916251419,1.6601571006859253,1.767485818836978,1.8804192098842727,2],[1,1.1121114330934079,1.231038924931609,1.3583836963111375,1.4960519303993531,1.6463542337511945,1.8121385357018724,1.996971324618307,2.2053895545527546,2.4432574483385254,Math.E],[1,1.1187738849693603,1.2464963939368214,1.38527004705667,1.5376664685821402,1.7068895236551784,1.897001227148399,2.1132403089001035,2.362480153784171,2.6539010333870774,3],[1,1.1367350847096405,1.2889510672956703,1.4606478703324786,1.6570295196661111,1.8850062585672889,2.1539465047453485,2.476829779693097,2.872061932789197,3.3664204535587183,4],[1,1.1494592900767588,1.319708228183931,1.5166291280087583,1.748171114438024,2.0253263297298045,2.3636668498288547,2.7858359149579424,3.3257226212448145,4.035730287722532,5],[1,1.159225940787673,1.343712473580932,1.5611293155111927,1.8221199554561318,2.14183924486326,2.542468319282638,3.0574682501653316,3.7390572020926873,4.6719550537360774,6],[1,1.1670905356972596,1.3632807444991446,1.5979222279405536,1.8842640123816674,2.2416069644878687,2.69893426559423,3.3012632110403577,4.121250340630164,5.281493033448316,7],[1,1.1736630594087796,1.379783782386201,1.6292821855668218,1.9378971836180754,2.3289975651071977,2.8384347394720835,3.5232708454565906,4.478242031114584,5.868592169644505,8],[1,1.1793017514670474,1.394054150657457,1.65664127441059,1.985170999970283,2.4069682290577457,2.9647310119960752,3.7278665320924946,4.814462547283592,6.436522247411611,9],[1,1.1840100246247336,1.4061375836156955,1.6802272208863964,2.026757028388619,2.4770056063449646,3.080525271755482,3.9191964192627284,5.135152840833187,6.989961179534715,10]],ya=[[-1,-.9194161097107025,-.8335625019330468,-.7425599821143978,-.6466611521029437,-.5462617907227869,-.4419033816638769,-.3342645487554494,-.224140440909962,-.11241087890006762,0],[-1,-.90603157029014,-.80786507256596,-.7064666939634,-.60294836853664,-.49849837513117,-.39430303318768,-.29147201034755,-.19097820800866,-.09361896280296,0],[-1,-.9021579584316141,-.8005762598234203,-.6964780623319391,-.5911906810998454,-.486050182576545,-.3823089430815083,-.28106046722897615,-.1831906535795894,-.08935809204418144,0],[-1,-.8917227442365535,-.781258746326964,-.6705130326902455,-.5612813129406509,-.4551067709033134,-.35319256652135966,-.2563741554088552,-.1651412821106526,-.0796919581982668,0],[-1,-.8843387974366064,-.7678744063886243,-.6529563724510552,-.5415870994657841,-.4352842206588936,-.33504449124791424,-.24138853420685147,-.15445285440944467,-.07409659641336663,0],[-1,-.8786709358426346,-.7577735191184886,-.6399546189952064,-.527284921869926,-.4211627631006314,-.3223479611761232,-.23107655627789858,-.1472057700818259,-.07035171210706326,0],[-1,-.8740862815291583,-.7497032990976209,-.6297119746181752,-.5161838335958787,-.41036238255751956,-.31277212146489963,-.2233976621705518,-.1418697367979619,-.06762117662323441,0],[-1,-.8702632331800649,-.7430366914122081,-.6213373075161548,-.5072025698095242,-.40171437727184167,-.30517930701410456,-.21736343968190863,-.137710238299109,-.06550774483471955,0],[-1,-.8670016295947213,-.7373984232432306,-.6143173985094293,-.49973884395492807,-.394584953527678,-.2989649949848695,-.21245647317021688,-.13434688362382652,-.0638072667348083,0],[-1,-.8641642839543857,-.732534623168535,-.6083127477059322,-.4934049257184696,-.3885773075899922,-.29376029055315767,-.2083678561173622,-.13155653399373268,-.062401588652553186,0]];let N=function(t){return l.fromValue_noAlloc(t)},H=function(e,t,n){return l.fromComponents(e,t,n)},Q=function(t,n,r){return l.fromComponents_noNormalize(t,n,r)};const mt=function(t,n){const r=n+1,i=Math.ceil(Math.log10(Math.abs(t))),a=Math.round(t*Math.pow(10,r-i))*Math.pow(10,i-r);return parseFloat(a.toFixed(Math.max(r-i,0)))},Pn=function(e){return Math.sign(e)*Math.log10(Math.abs(e))},_a=function(e){if(!isFinite(e))return e;if(e<-50)return e===Math.trunc(e)?Number.NEGATIVE_INFINITY:0;let t=1;for(;e<10;)t=t*e,++e;e-=1;let n=.9189385332046727;n=n+(e+.5)*Math.log(e),n=n-e;const r=e*e;let i=e;return n=n+1/(12*i),i=i*r,n=n+1/(360*i),i=i*r,n=n+1/(1260*i),i=i*r,n=n+1/(1680*i),i=i*r,n=n+1/(1188*i),i=i*r,n=n+691/(360360*i),i=i*r,n=n+7/(1092*i),i=i*r,n=n+3617/(122400*i),Math.exp(n)/t},kr=.5671432904097838,gr=function(e,t=1e-10){let n,r;if(!Number.isFinite(e)||e===0)return e;if(e===1)return kr;e<10?n=0:n=Math.log(e)-Math.log(Math.log(e));for(let i=0;i<100;++i){if(r=(e*Math.exp(-n)+n*n)/(n+1),Math.abs(r-n)<t*Math.abs(r))return r;n=r}throw Error(`Iteration failed to converge: ${e.toString()}`)};function fr(e,t=1e-10){let n,r,i,a;if(!Number.isFinite(e.mag)||e.eq(l.dZero))return e;if(e.eq(l.dOne))return l.fromNumber(kr);n=l.ln(e);for(let c=0;c<100;++c){if(r=n.neg().exp(),i=n.sub(e.mul(r)),a=n.sub(i.div(n.add(1).sub(n.add(2).mul(i).div(l.mul(2,n).add(2))))),l.abs(a.sub(n)).lt(l.abs(a).mul(t)))return a;n=a}throw Error(`Iteration failed to converge: ${e.toString()}`)}const y=class{constructor(e){this.sign=0,this.mag=0,this.layer=0,e instanceof y?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"&&this.fromString(e)}get m(){if(this.sign===0)return 0;if(this.layer===0){const e=Math.floor(Math.log10(this.mag));let t;return this.mag===5e-324?t=5:t=this.mag/va(e),this.sign*t}else if(this.layer===1){const e=this.mag-Math.floor(this.mag);return this.sign*Math.pow(10,e)}else return this.sign}set m(e){this.layer<=2?this.fromMantissaExponent(e,this.e):(this.sign=Math.sign(e),this.sign===0&&(this.layer=0,this.exponent=0))}get e(){return this.sign===0?0:this.layer===0?Math.floor(Math.log10(this.mag)):this.layer===1?Math.floor(this.mag):this.layer===2?Math.floor(Math.sign(this.mag)*Math.pow(10,Math.abs(this.mag))):this.mag*Number.POSITIVE_INFINITY}set e(e){this.fromMantissaExponent(this.m,e)}get s(){return this.sign}set s(e){e===0?(this.sign=0,this.layer=0,this.mag=0):this.sign=e}get mantissa(){return this.m}set mantissa(e){this.m=e}get exponent(){return this.e}set exponent(e){this.e=e}static fromComponents(e,t,n){return new y().fromComponents(e,t,n)}static fromComponents_noNormalize(e,t,n){return new y().fromComponents_noNormalize(e,t,n)}static fromMantissaExponent(e,t){return new y().fromMantissaExponent(e,t)}static fromMantissaExponent_noNormalize(e,t){return new y().fromMantissaExponent_noNormalize(e,t)}static fromDecimal(e){return new y().fromDecimal(e)}static fromNumber(e){return new y().fromNumber(e)}static fromString(e){return new y().fromString(e)}static fromValue(e){return new y().fromValue(e)}static fromValue_noAlloc(e){if(e instanceof y)return e;if(typeof e=="string"){const t=y.fromStringCache.get(e);return t!==void 0?t:y.fromString(e)}else return typeof e=="number"?y.fromNumber(e):y.dZero}static abs(e){return N(e).abs()}static neg(e){return N(e).neg()}static negate(e){return N(e).neg()}static negated(e){return N(e).neg()}static sign(e){return N(e).sign}static sgn(e){return N(e).sign}static round(e){return N(e).round()}static floor(e){return N(e).floor()}static ceil(e){return N(e).ceil()}static trunc(e){return N(e).trunc()}static add(e,t){return N(e).add(t)}static plus(e,t){return N(e).add(t)}static sub(e,t){return N(e).sub(t)}static subtract(e,t){return N(e).sub(t)}static minus(e,t){return N(e).sub(t)}static mul(e,t){return N(e).mul(t)}static multiply(e,t){return N(e).mul(t)}static times(e,t){return N(e).mul(t)}static div(e,t){return N(e).div(t)}static divide(e,t){return N(e).div(t)}static recip(e){return N(e).recip()}static reciprocal(e){return N(e).recip()}static reciprocate(e){return N(e).reciprocate()}static cmp(e,t){return N(e).cmp(t)}static cmpabs(e,t){return N(e).cmpabs(t)}static compare(e,t){return N(e).cmp(t)}static isNaN(e){return e=N(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)}static isFinite(e){return e=N(e),isFinite(e.sign)&&isFinite(e.layer)&&isFinite(e.mag)}static eq(e,t){return N(e).eq(t)}static equals(e,t){return N(e).eq(t)}static neq(e,t){return N(e).neq(t)}static notEquals(e,t){return N(e).notEquals(t)}static lt(e,t){return N(e).lt(t)}static lte(e,t){return N(e).lte(t)}static gt(e,t){return N(e).gt(t)}static gte(e,t){return N(e).gte(t)}static max(e,t){return N(e).max(t)}static min(e,t){return N(e).min(t)}static minabs(e,t){return N(e).minabs(t)}static maxabs(e,t){return N(e).maxabs(t)}static clamp(e,t,n){return N(e).clamp(t,n)}static clampMin(e,t){return N(e).clampMin(t)}static clampMax(e,t){return N(e).clampMax(t)}static cmp_tolerance(e,t,n){return N(e).cmp_tolerance(t,n)}static compare_tolerance(e,t,n){return N(e).cmp_tolerance(t,n)}static eq_tolerance(e,t,n){return N(e).eq_tolerance(t,n)}static equals_tolerance(e,t,n){return N(e).eq_tolerance(t,n)}static neq_tolerance(e,t,n){return N(e).neq_tolerance(t,n)}static notEquals_tolerance(e,t,n){return N(e).notEquals_tolerance(t,n)}static lt_tolerance(e,t,n){return N(e).lt_tolerance(t,n)}static lte_tolerance(e,t,n){return N(e).lte_tolerance(t,n)}static gt_tolerance(e,t,n){return N(e).gt_tolerance(t,n)}static gte_tolerance(e,t,n){return N(e).gte_tolerance(t,n)}static pLog10(e){return N(e).pLog10()}static absLog10(e){return N(e).absLog10()}static log10(e){return N(e).log10()}static log(e,t){return N(e).log(t)}static log2(e){return N(e).log2()}static ln(e){return N(e).ln()}static logarithm(e,t){return N(e).logarithm(t)}static pow(e,t){return N(e).pow(t)}static pow10(e){return N(e).pow10()}static pow_base(e,t){return N(e).pow_base(t)}static root(e,t){return N(e).root(t)}static factorial(e,t){return N(e).factorial()}static gamma(e,t){return N(e).gamma()}static lngamma(e,t){return N(e).lngamma()}static exp(e){return N(e).exp()}static sqr(e){return N(e).sqr()}static sqrt(e){return N(e).sqrt()}static cube(e){return N(e).cube()}static cbrt(e){return N(e).cbrt()}static tetrate(e,t=2,n=Q(1,0,1)){return N(e).tetrate(t,n)}static iteratedexp(e,t=2,n=Q(1,0,1)){return N(e).iteratedexp(t,n)}static iteratedlog(e,t=10,n=1){return N(e).iteratedlog(t,n)}static layeradd10(e,t){return N(e).layeradd10(t)}static layeradd(e,t,n=10){return N(e).layeradd(t,n)}static slog(e,t=10){return N(e).slog(t)}static lambertw(e){return N(e).lambertw()}static ssqrt(e){return N(e).ssqrt()}static pentate(e,t=2,n=Q(1,0,1)){return N(e).pentate(t,n)}static sin(e){return N(e).sin()}static cos(e){return N(e).cos()}static tan(e){return N(e).tan()}static asin(e){return N(e).asin()}static acos(e){return N(e).acos()}static atan(e){return N(e).atan()}static sinh(e){return N(e).sinh()}static cosh(e){return N(e).cosh()}static tanh(e){return N(e).tanh()}static asinh(e){return N(e).asinh()}static acosh(e){return N(e).acosh()}static atanh(e){return N(e).atanh()}static affordGeometricSeries(e,t,n,r){return this.affordGeometricSeries_core(N(e),N(t),N(n),r)}static sumGeometricSeries(e,t,n,r){return this.sumGeometricSeries_core(e,N(t),N(n),r)}static affordArithmeticSeries(e,t,n,r){return this.affordArithmeticSeries_core(N(e),N(t),N(n),N(r))}static sumArithmeticSeries(e,t,n,r){return this.sumArithmeticSeries_core(N(e),N(t),N(n),N(r))}static efficiencyOfPurchase(e,t,n){return this.efficiencyOfPurchase_core(N(e),N(t),N(n))}static randomDecimalForTesting(e){if(Math.random()*20<1)return Q(0,0,0);const t=Math.random()>.5?1:-1;if(Math.random()*20<1)return Q(t,0,1);const n=Math.floor(Math.random()*(e+1));let r=n===0?Math.random()*616-308:Math.random()*16;Math.random()>.9&&(r=Math.trunc(r));let i=Math.pow(10,r);return Math.random()>.9&&(i=Math.trunc(i)),H(t,n,i)}static affordGeometricSeries_core(e,t,n,r){const i=t.mul(n.pow(r));return y.floor(e.div(i).mul(n.sub(1)).add(1).log10().div(n.log10()))}static sumGeometricSeries_core(e,t,n,r){return t.mul(n.pow(r)).mul(y.sub(1,n.pow(e))).div(y.sub(1,n))}static affordArithmeticSeries_core(e,t,n,r){const a=t.add(r.mul(n)).sub(n.div(2)),c=a.pow(2);return a.neg().add(c.add(n.mul(e).mul(2)).sqrt()).div(n).floor()}static sumArithmeticSeries_core(e,t,n,r){const i=t.add(r.mul(n));return e.div(2).mul(i.mul(2).plus(e.sub(1).mul(n)))}static efficiencyOfPurchase_core(e,t,n){return e.div(t).add(e.div(n))}normalize(){if(this.sign===0||this.mag===0&&this.layer===0)return this.sign=0,this.mag=0,this.layer=0,this;if(this.layer===0&&this.mag<0&&(this.mag=-this.mag,this.sign=-this.sign),this.layer===0&&this.mag<fa)return this.layer+=1,this.mag=Math.log10(this.mag),this;let e=Math.abs(this.mag),t=Math.sign(this.mag);if(e>=da)return this.layer+=1,this.mag=t*Math.log10(e),this;for(;e<ga&&this.layer>0;)this.layer-=1,this.layer===0?this.mag=Math.pow(10,this.mag):(this.mag=t*Math.pow(10,e),e=Math.abs(this.mag),t=Math.sign(this.mag));return this.layer===0&&(this.mag<0?(this.mag=-this.mag,this.sign=-this.sign):this.mag===0&&(this.sign=0)),this}fromComponents(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this.normalize(),this}fromComponents_noNormalize(e,t,n){return this.sign=e,this.layer=t,this.mag=n,this}fromMantissaExponent(e,t){return this.layer=1,this.sign=Math.sign(e),e=Math.abs(e),this.mag=t+Math.log10(e),this.normalize(),this}fromMantissaExponent_noNormalize(e,t){return this.fromMantissaExponent(e,t),this}fromDecimal(e){return this.sign=e.sign,this.layer=e.layer,this.mag=e.mag,this}fromNumber(e){return this.mag=Math.abs(e),this.sign=Math.sign(e),this.layer=0,this.normalize(),this}fromString(e){const t=e,n=y.fromStringCache.get(t);if(n!==void 0)return this.fromDecimal(n);e=e.replace(",","");const r=e.split("^^^");if(r.length===2){const S=parseFloat(r[0]),v=parseFloat(r[1]),$=r[1].split(";");let k=1;if($.length===2&&(k=parseFloat($[1]),isFinite(k)||(k=1)),isFinite(S)&&isFinite(v)){const x=y.pentate(S,v,k);return this.sign=x.sign,this.layer=x.layer,this.mag=x.mag,y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}}const i=e.split("^^");if(i.length===2){const S=parseFloat(i[0]),v=parseFloat(i[1]),$=i[1].split(";");let k=1;if($.length===2&&(k=parseFloat($[1]),isFinite(k)||(k=1)),isFinite(S)&&isFinite(v)){const x=y.tetrate(S,v,k);return this.sign=x.sign,this.layer=x.layer,this.mag=x.mag,y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}}const a=e.split("^");if(a.length===2){const S=parseFloat(a[0]),v=parseFloat(a[1]);if(isFinite(S)&&isFinite(v)){const $=y.pow(S,v);return this.sign=$.sign,this.layer=$.layer,this.mag=$.mag,y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}}e=e.trim().toLowerCase();let c,o,d=e.split("pt");if(d.length===2){c=10,o=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let S=parseFloat(d[1]);if(isFinite(S)||(S=1),isFinite(c)&&isFinite(o)){const v=y.tetrate(c,o,S);return this.sign=v.sign,this.layer=v.layer,this.mag=v.mag,y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}}if(d=e.split("p"),d.length===2){c=10,o=parseFloat(d[0]),d[1]=d[1].replace("(",""),d[1]=d[1].replace(")","");let S=parseFloat(d[1]);if(isFinite(S)||(S=1),isFinite(c)&&isFinite(o)){const v=y.tetrate(c,o,S);return this.sign=v.sign,this.layer=v.layer,this.mag=v.mag,y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}}const p=e.split("e"),b=p.length-1;if(b===0){const S=parseFloat(e);if(isFinite(S))return this.fromNumber(S),y.fromStringCache.size>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}else if(b===1){const S=parseFloat(e);if(isFinite(S)&&S!==0)return this.fromNumber(S),y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}const h=e.split("e^");if(h.length===2){this.sign=1,h[0].charAt(0)=="-"&&(this.sign=-1);let S="";for(let v=0;v<h[1].length;++v){const $=h[1].charCodeAt(v);if($>=43&&$<=57||$===101)S+=h[1].charAt(v);else return this.layer=parseFloat(S),this.mag=parseFloat(h[1].substr(v+1)),this.normalize(),y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}}if(b<1)return this.sign=0,this.layer=0,this.mag=0,y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this;const w=parseFloat(p[0]);if(w===0)return this.sign=0,this.layer=0,this.mag=0,y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this;let C=parseFloat(p[p.length-1]);if(b>=2){const S=parseFloat(p[p.length-2]);isFinite(S)&&(C*=Math.sign(S),C+=Pn(S))}if(!isFinite(w))this.sign=p[0]==="-"?-1:1,this.layer=b,this.mag=C;else if(b===1)this.sign=Math.sign(w),this.layer=1,this.mag=C+Math.log10(Math.abs(w));else if(this.sign=Math.sign(w),this.layer=b,b===2){const S=y.mul(H(1,2,C),N(w));return this.sign=S.sign,this.layer=S.layer,this.mag=S.mag,y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}else this.mag=C;return this.normalize(),y.fromStringCache.maxSize>=1&&y.fromStringCache.set(t,y.fromDecimal(this)),this}fromValue(e){return e instanceof y?this.fromDecimal(e):typeof e=="number"?this.fromNumber(e):typeof e=="string"?this.fromString(e):(this.sign=0,this.layer=0,this.mag=0,this)}toNumber(){return Number.isFinite(this.layer)?this.layer===0?this.sign*this.mag:this.layer===1?this.sign*Math.pow(10,this.mag):this.mag>0?this.sign>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:0:Number.NaN}mantissaWithDecimalPlaces(e){return isNaN(this.m)?Number.NaN:this.m===0?0:mt(this.m,e)}magnitudeWithDecimalPlaces(e){return isNaN(this.mag)?Number.NaN:this.mag===0?0:mt(this.mag,e)}toString(){return isNaN(this.layer)||isNaN(this.sign)||isNaN(this.mag)?"NaN":this.mag===Number.POSITIVE_INFINITY||this.layer===Number.POSITIVE_INFINITY?this.sign===1?"Infinity":"-Infinity":this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toString():this.m+"e"+this.e:this.layer===1?this.m+"e"+this.e:this.layer<=dr?(this.sign===-1?"-":"")+"e".repeat(this.layer)+this.mag:(this.sign===-1?"-":"")+"(e^"+this.layer+")"+this.mag}toExponential(e){return this.layer===0?(this.sign*this.mag).toExponential(e):this.toStringWithDecimalPlaces(e)}toFixed(e){return this.layer===0?(this.sign*this.mag).toFixed(e):this.toStringWithDecimalPlaces(e)}toPrecision(e){return this.e<=-7?this.toExponential(e-1):e>this.e?this.toFixed(e-this.exponent-1):this.toExponential(e-1)}valueOf(){return this.toString()}toJSON(){return this.toString()}toStringWithDecimalPlaces(e){return this.layer===0?this.mag<1e21&&this.mag>1e-7||this.mag===0?(this.sign*this.mag).toFixed(e):mt(this.m,e)+"e"+mt(this.e,e):this.layer===1?mt(this.m,e)+"e"+mt(this.e,e):this.layer<=dr?(this.sign===-1?"-":"")+"e".repeat(this.layer)+mt(this.mag,e):(this.sign===-1?"-":"")+"(e^"+this.layer+")"+mt(this.mag,e)}abs(){return Q(this.sign===0?0:1,this.layer,this.mag)}neg(){return Q(-this.sign,this.layer,this.mag)}negate(){return this.neg()}negated(){return this.neg()}sgn(){return this.sign}round(){return this.mag<0?y.dZero:this.layer===0?H(this.sign,0,Math.round(this.mag)):this}floor(){return this.mag<0?y.dZero:this.layer===0?H(this.sign,0,Math.floor(this.mag)):this}ceil(){return this.mag<0?y.dZero:this.layer===0?H(this.sign,0,Math.ceil(this.mag)):this}trunc(){return this.mag<0?y.dZero:this.layer===0?H(this.sign,0,Math.trunc(this.mag)):this}add(e){const t=N(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer)||this.sign===0)return t;if(t.sign===0)return this;if(this.sign===-t.sign&&this.layer===t.layer&&this.mag===t.mag)return Q(0,0,0);let n,r;if(this.layer>=2||t.layer>=2)return this.maxabs(t);if(y.cmpabs(this,t)>0?(n=this,r=t):(n=t,r=this),n.layer===0&&r.layer===0)return y.fromNumber(n.sign*n.mag+r.sign*r.mag);const i=n.layer*Math.sign(n.mag),a=r.layer*Math.sign(r.mag);if(i-a>=2)return n;if(i===0&&a===-1){if(Math.abs(r.mag-Math.log10(n.mag))>Mn)return n;{const c=Math.pow(10,Math.log10(n.mag)-r.mag),o=r.sign+n.sign*c;return H(Math.sign(o),1,r.mag+Math.log10(Math.abs(o)))}}if(i===1&&a===0){if(Math.abs(n.mag-Math.log10(r.mag))>Mn)return n;{const c=Math.pow(10,n.mag-Math.log10(r.mag)),o=r.sign+n.sign*c;return H(Math.sign(o),1,Math.log10(r.mag)+Math.log10(Math.abs(o)))}}if(Math.abs(n.mag-r.mag)>Mn)return n;{const c=Math.pow(10,n.mag-r.mag),o=r.sign+n.sign*c;return H(Math.sign(o),1,r.mag+Math.log10(Math.abs(o)))}}plus(e){return this.add(e)}sub(e){return this.add(N(e).neg())}subtract(e){return this.sub(e)}minus(e){return this.sub(e)}mul(e){const t=N(e);if(!Number.isFinite(this.layer))return this;if(!Number.isFinite(t.layer))return t;if(this.sign===0||t.sign===0)return Q(0,0,0);if(this.layer===t.layer&&this.mag===-t.mag)return Q(this.sign*t.sign,0,1);let n,r;if(this.layer>t.layer||this.layer==t.layer&&Math.abs(this.mag)>Math.abs(t.mag)?(n=this,r=t):(n=t,r=this),n.layer===0&&r.layer===0)return y.fromNumber(n.sign*r.sign*n.mag*r.mag);if(n.layer>=3||n.layer-r.layer>=2)return H(n.sign*r.sign,n.layer,n.mag);if(n.layer===1&&r.layer===0)return H(n.sign*r.sign,1,n.mag+Math.log10(r.mag));if(n.layer===1&&r.layer===1)return H(n.sign*r.sign,1,n.mag+r.mag);if(n.layer===2&&r.layer===1){const i=H(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(H(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return H(n.sign*r.sign,i.layer+1,i.sign*i.mag)}if(n.layer===2&&r.layer===2){const i=H(Math.sign(n.mag),n.layer-1,Math.abs(n.mag)).add(H(Math.sign(r.mag),r.layer-1,Math.abs(r.mag)));return H(n.sign*r.sign,i.layer+1,i.sign*i.mag)}throw Error("Bad arguments to mul: "+this+", "+e)}multiply(e){return this.mul(e)}times(e){return this.mul(e)}div(e){const t=N(e);return this.mul(t.recip())}divide(e){return this.div(e)}divideBy(e){return this.div(e)}dividedBy(e){return this.div(e)}recip(){return this.mag===0?y.dNaN:this.layer===0?H(this.sign,0,1/this.mag):H(this.sign,this.layer,-this.mag)}reciprocal(){return this.recip()}reciprocate(){return this.recip()}cmp(e){const t=N(e);return this.sign>t.sign?1:this.sign<t.sign?-1:this.sign*this.cmpabs(e)}cmpabs(e){const t=N(e),n=this.mag>0?this.layer:-this.layer,r=t.mag>0?t.layer:-t.layer;return n>r?1:n<r?-1:this.mag>t.mag?1:this.mag<t.mag?-1:0}compare(e){return this.cmp(e)}isNan(){return isNaN(this.sign)||isNaN(this.layer)||isNaN(this.mag)}isFinite(){return isFinite(this.sign)&&isFinite(this.layer)&&isFinite(this.mag)}eq(e){const t=N(e);return this.sign===t.sign&&this.layer===t.layer&&this.mag===t.mag}equals(e){return this.eq(e)}neq(e){return!this.eq(e)}notEquals(e){return this.neq(e)}lt(e){return this.cmp(e)===-1}lte(e){return!this.gt(e)}gt(e){return this.cmp(e)===1}gte(e){return!this.lt(e)}max(e){const t=N(e);return this.lt(t)?t:this}min(e){const t=N(e);return this.gt(t)?t:this}maxabs(e){const t=N(e);return this.cmpabs(t)<0?t:this}minabs(e){const t=N(e);return this.cmpabs(t)>0?t:this}clamp(e,t){return this.max(e).min(t)}clampMin(e){return this.max(e)}clampMax(e){return this.min(e)}cmp_tolerance(e,t){const n=N(e);return this.eq_tolerance(n,t)?0:this.cmp(n)}compare_tolerance(e,t){return this.cmp_tolerance(e,t)}eq_tolerance(e,t){const n=N(e);if(t==null&&(t=1e-7),this.sign!==n.sign||Math.abs(this.layer-n.layer)>1)return!1;let r=this.mag,i=n.mag;return this.layer>n.layer&&(i=Pn(i)),this.layer<n.layer&&(r=Pn(r)),Math.abs(r-i)<=t*Math.max(Math.abs(r),Math.abs(i))}equals_tolerance(e,t){return this.eq_tolerance(e,t)}neq_tolerance(e,t){return!this.eq_tolerance(e,t)}notEquals_tolerance(e,t){return this.neq_tolerance(e,t)}lt_tolerance(e,t){const n=N(e);return!this.eq_tolerance(n,t)&&this.lt(n)}lte_tolerance(e,t){const n=N(e);return this.eq_tolerance(n,t)||this.lt(n)}gt_tolerance(e,t){const n=N(e);return!this.eq_tolerance(n,t)&&this.gt(n)}gte_tolerance(e,t){const n=N(e);return this.eq_tolerance(n,t)||this.gt(n)}pLog10(){return this.lt(y.dZero)?y.dZero:this.log10()}absLog10(){return this.sign===0?y.dNaN:this.layer>0?H(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):H(1,0,Math.log10(this.mag))}log10(){return this.sign<=0?y.dNaN:this.layer>0?H(Math.sign(this.mag),this.layer-1,Math.abs(this.mag)):H(this.sign,0,Math.log10(this.mag))}log(e){return e=N(e),this.sign<=0||e.sign<=0||e.sign===1&&e.layer===0&&e.mag===1?y.dNaN:this.layer===0&&e.layer===0?H(this.sign,0,Math.log(this.mag)/Math.log(e.mag)):y.div(this.log10(),e.log10())}log2(){return this.sign<=0?y.dNaN:this.layer===0?H(this.sign,0,Math.log2(this.mag)):this.layer===1?H(Math.sign(this.mag),0,Math.abs(this.mag)*3.321928094887362):this.layer===2?H(Math.sign(this.mag),1,Math.abs(this.mag)+.5213902276543247):H(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}ln(){return this.sign<=0?y.dNaN:this.layer===0?H(this.sign,0,Math.log(this.mag)):this.layer===1?H(Math.sign(this.mag),0,Math.abs(this.mag)*2.302585092994046):this.layer===2?H(Math.sign(this.mag),1,Math.abs(this.mag)+.36221568869946325):H(Math.sign(this.mag),this.layer-1,Math.abs(this.mag))}logarithm(e){return this.log(e)}pow(e){const t=N(e),n=this,r=t;if(n.sign===0)return r.eq(0)?Q(1,0,1):n;if(n.sign===1&&n.layer===0&&n.mag===1)return n;if(r.sign===0)return Q(1,0,1);if(r.sign===1&&r.layer===0&&r.mag===1)return n;const i=n.absLog10().mul(r).pow10();return this.sign===-1?Math.abs(r.toNumber()%2)%2===1?i.neg():Math.abs(r.toNumber()%2)%2===0?i:y.dNaN:i}pow10(){if(!Number.isFinite(this.layer)||!Number.isFinite(this.mag))return y.dNaN;let e=this;if(e.layer===0){const t=Math.pow(10,e.sign*e.mag);if(Number.isFinite(t)&&Math.abs(t)>=.1)return H(1,0,t);if(e.sign===0)return y.dOne;e=Q(e.sign,e.layer+1,Math.log10(e.mag))}return e.sign>0&&e.mag>=0?H(e.sign,e.layer+1,e.mag):e.sign<0&&e.mag>=0?H(-e.sign,e.layer+1,-e.mag):y.dOne}pow_base(e){return N(e).pow(this)}root(e){const t=N(e);return this.pow(t.recip())}factorial(){return this.mag<0?this.add(1).gamma():this.layer===0?this.add(1).gamma():this.layer===1?y.exp(y.mul(this,y.ln(this).sub(1))):y.exp(this)}gamma(){if(this.mag<0)return this.recip();if(this.layer===0){if(this.lt(Q(1,0,24)))return y.fromNumber(_a(this.sign*this.mag));const e=this.mag-1;let t=.9189385332046727;t=t+(e+.5)*Math.log(e),t=t-e;const n=e*e;let r=e,i=12*r,a=1/i,c=t+a;if(c===t||(t=c,r=r*n,i=360*r,a=1/i,c=t-a,c===t))return y.exp(t);t=c,r=r*n,i=1260*r;let o=1/i;return t=t+o,r=r*n,i=1680*r,o=1/i,t=t-o,y.exp(t)}else return this.layer===1?y.exp(y.mul(this,y.ln(this).sub(1))):y.exp(this)}lngamma(){return this.gamma().ln()}exp(){return this.mag<0?y.dOne:this.layer===0&&this.mag<=709.7?y.fromNumber(Math.exp(this.sign*this.mag)):this.layer===0?H(1,1,this.sign*Math.log10(Math.E)*this.mag):this.layer===1?H(1,2,this.sign*(Math.log10(.4342944819032518)+this.mag)):H(1,this.layer+1,this.sign*this.mag)}sqr(){return this.pow(2)}sqrt(){if(this.layer===0)return y.fromNumber(Math.sqrt(this.sign*this.mag));if(this.layer===1)return H(1,2,Math.log10(this.mag)-.3010299956639812);{const e=y.div(Q(this.sign,this.layer-1,this.mag),Q(1,0,2));return e.layer+=1,e.normalize(),e}}cube(){return this.pow(3)}cbrt(){return this.pow(1/3)}tetrate(e=2,t=Q(1,0,1)){if(e===1)return y.pow(this,t);if(e===0)return new y(t);if(this.eq(y.dOne))return y.dOne;if(this.eq(-1))return y.pow(this,t);if(e===Number.POSITIVE_INFINITY){const i=this.toNumber();if(i<=1.444667861009766&&i>=.06598803584531254){if(i>1.444667861009099)return y.fromNumber(Math.E);const a=y.ln(this).neg();return a.lambertw().div(a)}else return i>1.444667861009766?y.fromNumber(Number.POSITIVE_INFINITY):y.dNaN}if(this.eq(y.dZero)){let i=Math.abs((e+1)%2);return i>1&&(i=2-i),y.fromNumber(i)}if(e<0)return y.iteratedlog(t,this,-e);t=N(t);const n=e;e=Math.trunc(e);const r=n-e;if(this.gt(y.dZero)&&this.lte(1.444667861009766)){e=Math.min(1e4,e);for(let i=0;i<e;++i){const a=t;if(t=this.pow(t),a.eq(t))return t}if(r!=0){const i=this.pow(t);return t.mul(1-r).add(i.mul(r))}return t}r!==0&&(t.eq(y.dOne)?this.gt(10)?t=this.pow(r):(t=y.fromNumber(y.tetrate_critical(this.toNumber(),r)),this.lt(2)&&(t=t.sub(1).mul(this.minus(1)).plus(1))):this.eq(10)?t=t.layeradd10(r):t=t.layeradd(r,this));for(let i=0;i<e;++i){if(t=this.pow(t),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(t.layer-this.layer>3)return Q(t.sign,t.layer+(e-i-1),t.mag);if(i>1e4)return t}return t}iteratedexp(e=2,t=Q(1,0,1)){return this.tetrate(e,t)}iteratedlog(e=10,t=1){if(t<0)return y.tetrate(e,-t,this);e=N(e);let n=y.fromDecimal(this);const r=t;t=Math.trunc(t);const i=r-t;if(n.layer-e.layer>3){const a=Math.min(t,n.layer-e.layer-3);t-=a,n.layer-=a}for(let a=0;a<t;++a){if(n=n.log(e),!isFinite(n.layer)||!isFinite(n.mag))return n.normalize();if(a>1e4)return n}return i>0&&i<1&&(e.eq(10)?n=n.layeradd10(-i):n=n.layeradd(-i,e)),n}slog(e=10,t=100){let n=.001,r=!1,i=!1,a=this.slog_internal(e).toNumber();for(let c=1;c<t;++c){const d=new y(e).tetrate(a).gt(this);if(c>1&&i!=d&&(r=!0),i=d,r?n/=2:n*=2,n=Math.abs(n)*(d?-1:1),a+=n,n===0)break}return y.fromNumber(a)}slog_internal(e=10){if(e=N(e),e.lte(y.dZero)||e.eq(y.dOne))return y.dNaN;if(e.lt(y.dOne))return this.eq(y.dOne)?y.dZero:this.eq(y.dZero)?y.dNegOne:y.dNaN;if(this.mag<0||this.eq(y.dZero))return y.dNegOne;let t=0,n=y.fromDecimal(this);if(n.layer-e.layer>3){const r=n.layer-e.layer-3;t+=r,n.layer-=r}for(let r=0;r<100;++r)if(n.lt(y.dZero))n=y.pow(e,n),t-=1;else{if(n.lte(y.dOne))return y.fromNumber(t+y.slog_critical(e.toNumber(),n.toNumber()));t+=1,n=y.log(n,e)}return y.fromNumber(t)}static slog_critical(e,t){return e>10?t-1:y.critical_section(e,t,ya)}static tetrate_critical(e,t){return y.critical_section(e,t,ba)}static critical_section(e,t,n){t*=10,t<0&&(t=0),t>10&&(t=10),e<2&&(e=2),e>10&&(e=10);let r=0,i=0;for(let c=0;c<wt.length;++c)if(wt[c]==e){r=n[c][Math.floor(t)],i=n[c][Math.ceil(t)];break}else if(wt[c]<e&&wt[c+1]>e){const o=(e-wt[c])/(wt[c+1]-wt[c]);r=n[c][Math.floor(t)]*(1-o)+n[c+1][Math.floor(t)]*o,i=n[c][Math.ceil(t)]*(1-o)+n[c+1][Math.ceil(t)]*o;break}const a=t-Math.floor(t);return r<=0||i<=0?r*(1-a)+i*a:Math.pow(e,Math.log(r)/Math.log(e)*(1-a)+Math.log(i)/Math.log(e)*a)}layeradd10(e){e=y.fromValue_noAlloc(e).toNumber();const t=y.fromDecimal(this);if(e>=1){t.mag<0&&t.layer>0?(t.sign=0,t.mag=0,t.layer=0):t.sign===-1&&t.layer==0&&(t.sign=1,t.mag=-t.mag);const n=Math.trunc(e);e-=n,t.layer+=n}if(e<=-1){const n=Math.trunc(e);if(e-=n,t.layer+=n,t.layer<0)for(let r=0;r<100;++r){if(t.layer++,t.mag=Math.log10(t.mag),!isFinite(t.mag))return t.sign===0&&(t.sign=1),t.layer<0&&(t.layer=0),t.normalize();if(t.layer>=0)break}}for(;t.layer<0;)t.layer++,t.mag=Math.log10(t.mag);return t.sign===0&&(t.sign=1,t.mag===0&&t.layer>=1&&(t.layer-=1,t.mag=1)),t.normalize(),e!==0?t.layeradd(e,10):t}layeradd(e,t){const r=this.slog(t).toNumber()+e;return r>=0?y.tetrate(t,r):Number.isFinite(r)?r>=-1?y.log(y.tetrate(t,r+1),t):y.log(y.log(y.tetrate(t,r+2),t),t):y.dNaN}lambertw(){if(this.lt(-.3678794411710499))throw Error("lambertw is unimplemented for results less than -1, sorry!");if(this.mag<0)return y.fromNumber(gr(this.toNumber()));if(this.layer===0)return y.fromNumber(gr(this.sign*this.mag));if(this.layer===1)return fr(this);if(this.layer===2)return fr(this);if(this.layer>=3)return Q(this.sign,this.layer-1,this.mag);throw new Error("Unhandled behavior in lambertw()")}ssqrt(){if(this.sign==1&&this.layer>=3)return Q(this.sign,this.layer-1,this.mag);const e=this.ln();return e.div(e.lambertw())}pentate(e=2,t=Q(1,0,1)){t=N(t);const n=e;e=Math.trunc(e);const r=n-e;r!==0&&(t.eq(y.dOne)?(++e,t=y.fromNumber(r)):this.eq(10)?t=t.layeradd10(r):t=t.layeradd(r,this));for(let i=0;i<e;++i){if(t=this.tetrate(t.toNumber()),!isFinite(t.layer)||!isFinite(t.mag))return t.normalize();if(i>10)return t}return t}sin(){return this.mag<0?this:this.layer===0?y.fromNumber(Math.sin(this.sign*this.mag)):Q(0,0,0)}cos(){return this.mag<0?y.dOne:this.layer===0?y.fromNumber(Math.cos(this.sign*this.mag)):Q(0,0,0)}tan(){return this.mag<0?this:this.layer===0?y.fromNumber(Math.tan(this.sign*this.mag)):Q(0,0,0)}asin(){return this.mag<0?this:this.layer===0?y.fromNumber(Math.asin(this.sign*this.mag)):Q(Number.NaN,Number.NaN,Number.NaN)}acos(){return this.mag<0?y.fromNumber(Math.acos(this.toNumber())):this.layer===0?y.fromNumber(Math.acos(this.sign*this.mag)):Q(Number.NaN,Number.NaN,Number.NaN)}atan(){return this.mag<0?this:this.layer===0?y.fromNumber(Math.atan(this.sign*this.mag)):y.fromNumber(Math.atan(this.sign*(1/0)))}sinh(){return this.exp().sub(this.negate().exp()).div(2)}cosh(){return this.exp().add(this.negate().exp()).div(2)}tanh(){return this.sinh().div(this.cosh())}asinh(){return y.ln(this.add(this.sqr().add(1).sqrt()))}acosh(){return y.ln(this.add(this.sqr().sub(1).sqrt()))}atanh(){return this.abs().gte(1)?Q(Number.NaN,Number.NaN,Number.NaN):y.ln(this.add(1).div(y.fromNumber(1).sub(this))).div(2)}ascensionPenalty(e){return e===0?this:this.root(y.pow(10,e))}egg(){return this.add(9)}lessThanOrEqualTo(e){return this.cmp(e)<1}lessThan(e){return this.cmp(e)<0}greaterThanOrEqualTo(e){return this.cmp(e)>-1}greaterThan(e){return this.cmp(e)>0}};let l=y;l.fromStringCache=new ua(ha);l.dZero=Q(0,0,0);l.dOne=Q(1,0,1);l.dNegOne=Q(-1,0,1);l.dTwo=Q(1,0,2);l.dTen=Q(1,0,10);l.dNaN=Q(Number.NaN,Number.NaN,Number.NaN);l.dInf=Q(1,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY);l.dNegInf=Q(-1,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY);l.dNumberMax=H(1,0,Number.MAX_VALUE);l.dNumberMin=H(1,0,Number.MIN_VALUE);N=l.fromValue_noAlloc;H=l.fromComponents;Q=l.fromComponents_noNormalize;l.fromMantissaExponent;l.fromMantissaExponent_noNormalize;const wa=new l(1);function Ca(e,t,n=!0){let r=l.log10(e).floor(),i=l.div(e,l.pow(10,r));i.toStringWithDecimalPlaces(t)==="10"&&(i=wa,r=r.add(1));const a=r.gte(1e9)?nt(r,Math.max(Math.max(t,3),J.defaultDecimalsShown)):r.gte(1e4)?Dn(r,0):r.toStringWithDecimalPlaces(0);return n?i.toStringWithDecimalPlaces(t)+"e"+a:"e"+a}function Dn(e,t){if(e==null)return"NaN";if(e=new l(e),e.mag<.001)return 0 .toFixed(t);const r=e.toStringWithDecimalPlaces(t).split(".");return r[0]=r[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),r.length===1?r[0]:r[0]+"."+r[1]}function Ir(e,t){return e==null?"NaN":(e=new l(e),e.mag<1e-4?0 .toFixed(t):(e.mag<.1&&t!==0&&(t=Math.max(Math.max(t,e.log10().negate().ceil().toNumber()),J.defaultDecimalsShown)),e.toStringWithDecimalPlaces(t)))}const Na=new l(.98),Sa=new l(0),on=[[new l(1e4),new l(1e9),new l("1e1000"),new l("1e9")],[new l(1e4),new l(1e306),new l("1e10000"),new l("1e4")],[new l(1e4),new l(1e9),new l(1e9),new l("1e9")],[new l(1e4),new l(1e36),new l("1e1000"),new l("1e6")],[new l(1e4),new l(1e9),new l(1e60),new l("1e9")]];function nt(e,t,n){return t==null&&(t=J.defaultDecimalsShown),n=n!=null?n:J.defaultShowSmall,e=new l(e),isNaN(e.sign)||isNaN(e.layer)||isNaN(e.mag)?"NaN":e.sign<0?"-"+nt(e.neg(),t):e.mag===Number.POSITIVE_INFINITY?"Infinity":e.gte(on[j.notation][2])?Mr(e,t):e.gte(on[j.notation][1])?Pr(e,t):e.gte(on[j.notation][3])?$r(e,t):e.gte(on[j.notation][0])?Dn(e,0):Ir(e,t)}function Mr(e,t=2){const n=l.log10(e);return"e"+n.mul(10**t).trunc().div(10**t).toStringWithDecimalPlaces(t)}function Pr(e,t=2){const n=l.log10(e).floor();return e=l.div(e,l.pow(10,n)),e=e.mul(10**t).trunc().div(10**t),e.toStringWithDecimalPlaces(t)+"e"+n.toStringWithDecimalPlaces(0)}const ka=["K","M","B","T","Qa","Qi","Sx","Sp","Oc","No","Dc","UDc","DDc","TDc","QaDc","QiDc","SxDc","SpDc","OcDc","NoDc","Vg","UVg","DVg","TVg","QaVg","QiVg","SxVg","SpVg","OcVg","NoVg","Tg","UTg","DTg","TTg","QaTg","QiTg","SxTg","SpTg","OcTg","NoTg","Qg","UQg","DQg","TQg","QaQg","QiQg","SxQg","SpQg","OcQg","NoQg","Qt","UQt","DQt","TQt","QaQt","QiQt","SxQt","SpQt","OcQt","NoQt","Se","USe","DSe","TSe","QaSe","QiSe","SxSe","SpSe","OcSe","NoSe","Sg","USg","DSg","TSg","QaSg","QiSg","SxSg","SpSg","OcSg","NoSg","Og","UOg","DOg","TOg","QaOg","QiOg","SxOg","SpOg","OcOg","NoOg","Nn","UNn","DNn","TNn","QaNn","QiNn","SxNn","SpNn","OcNn","NoNn","Ce","UCe"];function $r(e,t=2){const n=l.log(e,1e3).floor().toNumber()-1;return e=l.div(e,l.pow(1e3,n+1)),e=e.mul(10**(t-e.log10().floor().toNumber()+1)).trunc().div(10**(t-e.log10().floor().toNumber()+1)),e.toStringWithDecimalPlaces(t-e.log10().floor().toNumber()+1)+" "+ka[n]}function Me(e){return e=new l(e),e.sign<0?"-"+Me(e.neg()):e.gte(1e4)||e.lte(Na)&&!e.eq(Sa)?nt(e):nt(e,0)}function xr(e){return l.lt(e,0)?"-"+xr(l.neg(e)):l.gt(e,2**51)?nt(l.div(e,31536e3))+"y":(e=new l(e).toNumber(),e<60?nt(e)+"s":e<3600?Me(Math.floor(e/60))+"m "+nt(e%60)+"s":e<86400?Me(Math.floor(e/3600))+"h "+Me(Math.floor(e/60)%60)+"m "+Me(e%60)+"s":e<31536e3?Me(Math.floor(e/84600)%365)+"d "+Me(Math.floor(e/3600)%24)+"h "+Me(Math.floor(e/60)%60)+"m":Me(Math.floor(e/31536e3))+"y "+Me(Math.floor(e/84600)%365)+"d "+Me(Math.floor(e/3600)%24)+"h")}function Ia(e,t,n){e=new l(e);let r=e.toStringWithDecimalPlaces(t);return new l(r).gte(n)&&(r=l.sub(n,Math.pow(.1,t)).toStringWithDecimalPlaces(t)),r}function Ma(e,t){return nt(e,t,!0)}function Pa(e){let t=l.log10(e).ceil();const n=l.div(e,l.pow(10,t));return t=t.neg(),e=new l(10).pow(t).times(n),e}var $a=Object.freeze(Object.defineProperty({__proto__:null,default:l,exponentialFormat:Ca,commaFormat:Dn,regularFormat:Ir,format:nt,formatLog:Mr,formatSci:Pr,formatStan:$r,formatWhole:Me,formatTime:xr,toPlaces:Ia,formatSmall:Ma,invertOOM:Pa},Symbol.toStringTag,{value:"Module"}));const{exponentialFormat:xa,commaFormat:Ta,regularFormat:Ra,format:ae,formatWhole:Pe,formatTime:en,toPlaces:Oa,formatSmall:_n,invertOOM:Da}=$a;window.Decimal=l;window.exponentialFormat=xa;window.commaFormat=Ta;window.regularFormat=Ra;window.format=ae;window.formatWhole=Pe;window.formatTime=en;window.toPlaces=Oa;window.formatSmall=_n;window.invertOOM=Da;function Tr(e){let t=e.replace(/([A-Z])/g," $1");return t=t.charAt(0).toUpperCase()+t.slice(1),t}function qa(e){return(e[0]+e.slice(1).replace(/[A-Z]/g,t=>`-${t}`)).toLowerCase()}function pn(e){return typeof e=="function"}var fe=(e=>(e.Up="Up",e.Down="Down",e.Left="Left",e.Right="Right",e.Default="Up",e))(fe||{});const Yt=Symbol("DoNotCache");function T(e,t){const n=e[t];pn(n)&&n.length===0&&!n[Yt]?e[t]=I(n.bind(e)):pn(n)&&(e[t]=n.bind(e),e[t][Yt]=!0)}function _e(e){return pn(e)&&!e[Yt]&&(e=I(e)),e}const Oe=Symbol("Component"),Fe=Symbol("GatherProps");let Fa=0;function gt(e="feature-"){return e+Fa++}var de=(e=>(e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.None=2]="None",e))(de||{});function We(e){const t=u(e);return t!==2&&t!==!1}function Et(e){return u(e)===1}function O(e){return e[Yt]=!0,e}function te(e,t,n){e[t]==null&&n!=null&&(e[t]=n)}function qn(e,...t){const n=[],r=i=>{Object.keys(i).forEach(a=>{const c=i[a];c!=null&&typeof c=="object"&&(t.includes(c.type)?n.push(c):!(c instanceof l)&&!ye(c)&&r(c))})};return r(e),n}const ht=Symbol("ProxyState");function Se(e,t={}){const n=t;let r=!1,i=!1;function a(){return r||(i&&console.error("Cyclical dependency detected. Cannot evaluate lazy proxy."),i=!0,Object.assign(n,e.call(n,n)),r=!0),n}return new Proxy(n,{get(c,o){if(o===ht)return a();const d=a()[o];return d!=null&&typeof d=="object"&&et in d?d[et]:d},set(c,o,d){return a()[o]=d,!0},has(c,o){return o===ht?!0:Reflect.has(a(),o)},ownKeys(){return Reflect.ownKeys(a())},getOwnPropertyDescriptor(c,o){return r||(Object.assign(n,e.call(n,n)),r=!0),Object.getOwnPropertyDescriptor(c,o)}})}const Rr=l.ln(10);function cn(e){return e}function Bt(e,...t){const n=t.find(r=>P(r));return n==null?(console.error("Could not invert due to no input being a variable"),0):n.invert(e)}function Va(e,t){return P(t)?t.invert(l.neg(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ea(e,t){return P(t)?t.isIntegrable()?g.neg(t.getIntegralFormula(e)):(console.error("Could not integrate due to variable not being integrable"),g.constant(0)):(console.error("Could not integrate due to no input being a variable"),g.constant(0))}function Aa(e){return g.neg(e)}function La(e,t,n){return P(t)?t.invert(l.sub(e,me(n))):P(n)?n.invert(l.sub(e,me(t))):(console.error("Could not invert due to no input being a variable"),0)}function Ua(e,t,n){var r,i;if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const a=t.getIntegralFormula(e);return g.times(n,(r=t.innermostVariable)!=null?r:0).add(a)}else if(P(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const a=n.getIntegralFormula(e);return g.times(t,(i=n.innermostVariable)!=null?i:0).add(a)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Ba(e,t,n){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=t.getIntegralFormula(e);return g.add(r,n)}else if(P(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=n.getIntegralFormula(e);return g.add(r,t)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Ga(e,t,n){return P(t)?t.invert(l.add(e,me(n))):P(n)?n.invert(l.sub(me(t),e)):(console.error("Could not invert due to no input being a variable"),0)}function ja(e,t,n){var r,i;if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const a=t.getIntegralFormula(e);return g.sub(a,g.times(n,(r=t.innermostVariable)!=null?r:0))}else if(P(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const a=n.getIntegralFormula(e);return g.times(t,(i=n.innermostVariable)!=null?i:0).sub(a)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function za(e,t,n){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=t.getIntegralFormula(e);return g.sub(r,n)}else if(P(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=n.getIntegralFormula(e);return g.sub(r,t)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Ha(e,t,n){return P(t)?t.invert(l.div(e,me(n))):P(n)?n.invert(l.div(e,me(t))):(console.error("Could not invert due to no input being a variable"),0)}function Wa(e,t,n){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=t.getIntegralFormula(e);return g.times(r,n)}else if(P(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=n.getIntegralFormula(e);return g.times(r,t)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Qa(e,t,n){return P(t)?g.div(e,n):P(n)?g.div(e,t):(console.error("Could not apply substitution due to no input being a variable"),g.constant(0))}function Ya(e,t,n){return P(t)?t.invert(l.mul(e,me(n))):P(n)?n.invert(l.div(me(t),e)):(console.error("Could not invert due to no input being a variable"),0)}function Ja(e,t,n){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=t.getIntegralFormula(e);return g.div(r,n)}else if(P(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=n.getIntegralFormula(e);return g.div(t,r)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Ka(e,t,n){return P(t)?g.mul(e,n):P(n)?g.mul(e,t):(console.error("Could not apply substitution due to no input being a variable"),g.constant(0))}function Za(e,t){return P(t)?t.invert(l.recip(e)):(console.error("Could not invert due to no input being a variable"),0)}function Xa(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.ln(n)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function es(e,t){return P(t)?t.invert(l.pow10(e)):(console.error("Could not invert due to no input being a variable"),0)}function ts(e){return l.ln(e).sub(1).times(e).div(Rr)}function ns(e,t){if(P(t)){const n=Rr.times(e);return t.invert(n.div(n.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function rs(e,t){return P(t)?t.isIntegrable()?new g({inputs:[t.getIntegralFormula(e)],evaluate:ts,invert:ns}):(console.error("Could not integrate due to variable not being integrable"),g.constant(0)):(console.error("Could not integrate due to no input being a variable"),g.constant(0))}function is(e,t,n){return P(t)?t.invert(l.pow(me(n),e)):P(n)?n.invert(l.root(me(t),e)):(console.error("Could not invert due to no input being a variable"),0)}function as(e,t){return l.ln(e).sub(1).times(e).div(l.ln(t))}function ss(e,t,n){if(P(t)){const r=l.ln(me(n)).times(e);return t.invert(r.div(r.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function ls(e,t,n){return P(t)?t.isIntegrable()?new g({inputs:[t.getIntegralFormula(e),n],evaluate:as,invert:ss}):(console.error("Could not integrate due to variable not being integrable"),g.constant(0)):(console.error("Could not integrate due to no input being a variable"),g.constant(0))}function os(e,t){return P(t)?t.invert(l.pow(2,e)):(console.error("Could not invert due to no input being a variable"),0)}function us(e){return l.ln(e).sub(1).times(e).div(l.ln(2))}function cs(e,t){if(P(t)){const n=l.ln(2).times(e);return t.invert(n.div(n.div(Math.E).lambertw()))}return console.error("Could not invert due to no input being a variable"),0}function ds(e,t){return P(t)?t.isIntegrable()?new g({inputs:[t.getIntegralFormula(e)],evaluate:us,invert:cs}):(console.error("Could not integrate due to variable not being integrable"),g.constant(0)):(console.error("Could not integrate due to no input being a variable"),g.constant(0))}function gs(e,t){return P(t)?t.invert(l.exp(e)):(console.error("Could not invert due to no input being a variable"),0)}function fs(e){return l.ln(e).sub(1).times(e)}function ps(e,t){return P(t)?t.invert(l.div(e,l.div(e,Math.E).lambertw())):(console.error("Could not invert due to no input being a variable"),0)}function ms(e,t){return P(t)?t.isIntegrable()?new g({inputs:[t.getIntegralFormula(e)],evaluate:fs,invert:ps}):(console.error("Could not integrate due to variable not being integrable"),g.constant(0)):(console.error("Could not integrate due to no input being a variable"),g.constant(0))}function hs(e,t,n){return P(t)?t.invert(l.root(e,me(n))):P(n)?n.invert(l.ln(e).div(l.ln(me(t)))):(console.error("Could not invert due to no input being a variable"),0)}function vs(e,t,n){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=t.getIntegralFormula(e),i=g.add(n,1);return g.pow(r,i).div(i)}else if(P(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=n.getIntegralFormula(e);return g.pow(t,r).div(g.ln(t))}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function bs(e,t){return P(t)?t.invert(l.root(e,10)):(console.error("Could not invert due to no input being a variable"),0)}function ys(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.pow10(n).div(g.ln(10))}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function _s(e,t,n){return P(t)?t.invert(l.ln(e).div(l.ln(me(n)))):P(n)?n.invert(l.root(me(t),e)):(console.error("Could not invert due to no input being a variable"),0)}function ws(e,t,n){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=t.getIntegralFormula(e);return g.pow(n,r).div(g.ln(n))}else if(P(n)){if(!n.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=n.getIntegralFormula(e),i=g.add(t,1);return g.pow(r,i).div(i)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Cs(e,t,n){return P(t)?t.invert(l.root(e,l.recip(me(n)))):P(n)?n.invert(l.ln(me(t)).div(l.ln(e))):(console.error("Could not invert due to no input being a variable"),0)}function Ns(e,t,n){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const r=t.getIntegralFormula(e);return g.pow(r,g.recip(n).add(1)).times(n).div(g.add(n,1))}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Ss(e,t){return P(t)?t.invert(l.ln(e)):(console.error("Could not invert due to no input being a variable"),0)}function ks(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.exp(n)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Is(e,t=2,n=l.fromComponents_noNormalize(1,0,1)){const r=l.minabs(t,1e308).toNumber();return l.tetrate(e,r,n)}function Ms(e,t,n,r){return P(t)?t.invert(l.ssqrt(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ps(e,t=2,n=l.fromComponents_noNormalize(1,0,1)){const r=l.minabs(t,1e308).toNumber();return l.iteratedexp(e,r,new l(n))}function $s(e,t,n,r){return P(t)?t.invert(l.iteratedlog(e,Math.E,l.minabs(1e308,me(n)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function xs(e,t=10,n=2){const r=l.minabs(n,1e308).toNumber();return l.iteratedlog(e,t,r)}function Ts(e,t=10){const n=l.minabs(t,1e308).toNumber();return l.slog(e,n)}function Rs(e,t,n){return P(t)?t.invert(l.tetrate(e,l.minabs(1e308,me(n)).toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function Os(e,t,n){const r=l.minabs(t,1e308).toNumber();return l.layeradd(e,r,n)}function Ds(e,t,n,r){return P(t)?t.invert(l.layeradd(e,l.minabs(1e308,me(n)).negate().toNumber())):(console.error("Could not invert due to no input being a variable"),0)}function qs(e,t){return P(t)?t.invert(l.pow(Math.E,e).times(e)):(console.error("Could not invert due to no input being a variable"),0)}function Fs(e,t){return P(t)?t.invert(l.tetrate(e,2)):(console.error("Could not invert due to no input being a variable"),0)}function Vs(e,t,n){const r=l.minabs(t,1e308).toNumber();return l.pentate(e,r,n)}function Es(e,t){return P(t)?t.invert(l.asin(e)):(console.error("Could not invert due to no input being a variable"),0)}function As(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.cos(n).neg()}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Ls(e,t){return P(t)?t.invert(l.acos(e)):(console.error("Could not invert due to no input being a variable"),0)}function Us(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.sin(n)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Bs(e,t){return P(t)?t.invert(l.atan(e)):(console.error("Could not invert due to no input being a variable"),0)}function Gs(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.cos(n).ln().neg()}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function js(e,t){return P(t)?t.invert(l.sin(e)):(console.error("Could not invert due to no input being a variable"),0)}function zs(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.asin(n).times(n).add(g.sqrt(g.sub(1,g.pow(n,2))))}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Hs(e,t){return P(t)?t.invert(l.cos(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ws(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.acos(n).times(n).sub(g.sqrt(g.sub(1,g.pow(n,2))))}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Qs(e,t){return P(t)?t.invert(l.tan(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ys(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.atan(n).times(n).sub(g.ln(g.pow(n,2).add(1)).div(2))}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Js(e,t){return P(t)?t.invert(l.asinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Ks(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.cosh(n)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function Zs(e,t){return P(t)?t.invert(l.acosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function Xs(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.sinh(n)}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function el(e,t){return P(t)?t.invert(l.atanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function tl(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.cosh(n).ln()}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function nl(e,t){return P(t)?t.invert(l.sinh(e)):(console.error("Could not invert due to no input being a variable"),0)}function rl(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.asinh(n).times(n).sub(g.pow(n,2).add(1).sqrt())}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function il(e,t){return P(t)?t.invert(l.cosh(e)):(console.error("Could not invert due to no input being a variable"),0)}function al(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.acosh(n).times(n).sub(g.add(n,1).sqrt().times(g.sub(n,1).sqrt()))}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function sl(e,t){return P(t)?t.invert(l.tanh(e)):(console.error("Could not invert due to no input being a variable"),0)}function ll(e,t){if(P(t)){if(!t.isIntegrable())return console.error("Could not integrate due to variable not being integrable"),g.constant(0);const n=t.getIntegralFormula(e);return g.atanh(n).times(n).add(g.sub(1,g.pow(n,2)).ln().div(2))}return console.error("Could not integrate due to no input being a variable"),g.constant(0)}function At(e){return(t,n)=>new g({inputs:[t,n],evaluate:e,invert:cn})}function P(e){return e instanceof ge&&e.hasVariable()}function me(e,t){return e instanceof ge?e.evaluate(t):u(e)}function ol(){return g.pow(this,2).div(2)}function ul(){return this}const pe=class{constructor(e){this.negate=this.neg,this.negated=this.neg,this.sgn=this.sign,this.plus=this.add,this.subtract=this.sub,this.minus=this.sub,this.multiply=this.mul,this.times=this.mul,this.divide=this.div,this.divideBy=this.div,this.dividedBy=this.div,this.reciprocal=this.recip,this.reciprocate=this.recip,this.logarithm=this.log;let t;"inputs"in e&&(e.inputs=e.inputs.map(n=>typeof n=="object"&&et in n?n[et]:n)),"variable"in e?(typeof e.variable=="object"&&et in e.variable&&(e.variable=e.variable[et]),t=this.setupVariable(e)):"evaluate"in e?t=this.setupFormula(e):t=this.setupConstant(e),this.inputs=t.inputs,this.internalVariables=t.internalVariables,this.innermostVariable=t.innermostVariable,this.internalEvaluate=t.internalEvaluate,this.internalInvert=t.internalInvert,this.internalIntegrate=t.internalIntegrate,this.internalIntegrateInner=t.internalIntegrateInner,this.applySubstitution=t.applySubstitution,this.description=e.description}setupVariable({variable:e}){return{inputs:[e],internalVariables:1,innermostVariable:e,internalIntegrate:ol,internalIntegrateInner:ul,applySubstitution:cn}}setupConstant({inputs:e}){return e.length!==1&&console.error("Evaluate function is required if inputs is not length 1"),{inputs:e,internalVariables:0}}setupFormula(e){var w,C;const{inputs:t,evaluate:n,invert:r,integrate:i,integrateInner:a,applySubstitution:c}=e,o=t.reduce((S,v)=>S+(v instanceof pe?v.internalVariables:0),0),d=t.find(S=>S instanceof pe&&S.hasVariable()),p=o===1?d==null?void 0:d.innermostVariable:void 0,b=(w=d==null?void 0:d.isInvertible())!=null?w:!1,h=(C=d==null?void 0:d.isIntegrable())!=null?C:!1;return{inputs:t,internalEvaluate:n,internalInvert:b?r:void 0,internalIntegrate:h?i:void 0,internalIntegrateInner:a,applySubstitution:c,innermostVariable:p,internalVariables:o}}isInvertible(){return this.hasVariable()&&(this.internalInvert!=null||this.internalEvaluate==null)}isIntegrable(){return this.hasVariable()&&this.internalIntegrate!=null}isIntegralInvertible(){return this.isIntegrable()?this.getIntegralFormula().isInvertible():!1}hasVariable(){return this.internalVariables===1}evaluate(e){var t,n,r;return(r=(n=(t=this.internalEvaluate)==null?void 0:t.call(this,...this.inputs.map(i=>me(i,e))))!=null?n:this.hasVariable()?e:null)!=null?r:me(this.inputs[0])}equals(e){return this.inputs.length===e.inputs.length&&this.inputs.every((t,n)=>t instanceof pe&&e.inputs[n]instanceof pe?t.equals(e.inputs[n]):!(t instanceof pe)&&!(e.inputs[n]instanceof pe)&&l.eq(u(t),u(e.inputs[n])))&&this.internalEvaluate===e.internalEvaluate&&this.internalInvert===e.internalInvert&&this.internalIntegrate===e.internalIntegrate&&this.internalVariables===e.internalVariables}static constant(e){return new g({inputs:[e]})}static variable(e){return new g({variable:e})}static stringify(e){var t;return e instanceof pe?e.description!=null?e.description:e.internalEvaluate==null?e.hasVariable()?"x":ae((t=e.inputs[0])!=null?t:0):`${e.internalEvaluate.name}(${e.inputs.map(g.stringify).join(", ")})`:ae(u(e))}static step(e,t,n){const r=n(g.variable(0)),i=_e(t);function a(o){return l.lt(o,u(i))?o:l.add(r.evaluate(l.sub(o,u(i))),u(i))}function c(o,d){return P(d)&&r.isInvertible()?(l.gt(o,u(i))&&(o=l.add(r.invert(l.sub(o,u(i))),u(i))),d.invert(o)):(console.error("Could not invert due to no input being a variable"),0)}return new g({inputs:[e],evaluate:a,invert:r.isInvertible()&&r.hasVariable()?c:void 0,description:"indeterminate"})}static if(e,t,n,r){const i=F(0),a=g.variable(i),c=n(a),o=r==null?void 0:r(a),d=_e(t);function p(h){return u(d)?(i.value=h,c.evaluate()):o?(i.value=h,o.evaluate()):h}function b(h,w){return!P(w)||!c.isInvertible()||o!=null&&!o.isInvertible()?(console.error("Could not invert due to no input being a variable"),0):u(d)?w.invert(c.invert(h)):o?w.invert(o.invert(h)):w.invert(h)}return new g({inputs:[e],evaluate:p,invert:c.isInvertible()&&c.hasVariable()?b:void 0,description:"indeterminate"})}static conditional(e,t,n,r){return g.if(e,t,n,r)}static abs(e){return new g({inputs:[e],evaluate:l.abs})}static neg(e){return new g({inputs:[e],evaluate:l.neg,invert:Va,applySubstitution:Aa,integrate:Ea})}static sign(e){return new g({inputs:[e],evaluate:l.sign})}static round(e){return new g({inputs:[e],evaluate:l.round,invert:Bt})}static floor(e){return new g({inputs:[e],evaluate:l.floor,invert:Bt})}static ceil(e){return new g({inputs:[e],evaluate:l.ceil,invert:Bt})}static trunc(e){return new g({inputs:[e],evaluate:l.trunc,invert:Bt})}static add(e,t){return new g({inputs:[e,t],evaluate:l.add,invert:La,integrate:Ua,integrateInner:Ba,applySubstitution:cn})}static sub(e,t){return new g({inputs:[e,t],evaluate:l.sub,invert:Ga,integrate:ja,integrateInner:za,applySubstitution:cn})}static mul(e,t){return new g({inputs:[e,t],evaluate:l.mul,invert:Ha,integrate:Wa,applySubstitution:Qa})}static div(e,t){return new g({inputs:[e,t],evaluate:l.div,invert:Ya,integrate:Ja,applySubstitution:Ka})}static recip(e){return new g({inputs:[e],evaluate:l.recip,invert:Za,integrate:Xa})}static clamp(e,t,n){return new g({inputs:[e,t,n],evaluate:l.clamp,invert:Bt})}static pLog10(e){return new g({inputs:[e],evaluate:l.pLog10})}static absLog10(e){return new g({inputs:[e],evaluate:l.absLog10})}static log10(e){return new g({inputs:[e],evaluate:l.log10,invert:es,integrate:rs})}static log(e,t){return new g({inputs:[e,t],evaluate:l.log,invert:is,integrate:ls})}static log2(e){return new g({inputs:[e],evaluate:l.log2,invert:os,integrate:ds})}static ln(e){return new g({inputs:[e],evaluate:l.ln,invert:gs,integrate:ms})}static pow(e,t){return new g({inputs:[e,t],evaluate:l.pow,invert:hs,integrate:vs})}static pow10(e){return new g({inputs:[e],evaluate:l.pow10,invert:bs,integrate:ys})}static pow_base(e,t){return new g({inputs:[e,t],evaluate:l.pow_base,invert:_s,integrate:ws})}static root(e,t){return new g({inputs:[e,t],evaluate:l.root,invert:Cs,integrate:Ns})}static factorial(e){return new g({inputs:[e],evaluate:l.factorial})}static gamma(e){return new g({inputs:[e],evaluate:l.gamma})}static lngamma(e){return new g({inputs:[e],evaluate:l.lngamma})}static exp(e){return new g({inputs:[e],evaluate:l.exp,invert:Ss,integrate:ks})}static sqr(e){return g.pow(e,2)}static sqrt(e){return g.root(e,2)}static cube(e){return g.pow(e,3)}static cbrt(e){return g.root(e,3)}static tetrate(e,t=2,n=l.fromComponents_noNormalize(1,0,1)){return new g({inputs:[e,t,n],evaluate:Is,invert:Ms})}static iteratedexp(e,t=2,n=l.fromComponents_noNormalize(1,0,1)){return new g({inputs:[e,t,n],evaluate:Ps,invert:$s})}static iteratedlog(e,t=10,n=1){return new g({inputs:[e,t,n],evaluate:xs})}static slog(e,t=10){return new g({inputs:[e,t],evaluate:Ts,invert:Rs})}static layeradd10(e,t){return new g({inputs:[e,t],evaluate:l.layeradd10})}static layeradd(e,t,n=10){return new g({inputs:[e,t,n],evaluate:Os,invert:Ds})}static lambertw(e){return new g({inputs:[e],evaluate:l.lambertw,invert:qs})}static ssqrt(e){return new g({inputs:[e],evaluate:l.ssqrt,invert:Fs})}static pentate(e,t=2,n=l.fromComponents_noNormalize(1,0,1)){return new g({inputs:[e,t,n],evaluate:Vs})}static sin(e){return new g({inputs:[e],evaluate:l.sin,invert:js,integrate:As})}static cos(e){return new g({inputs:[e],evaluate:l.cos,invert:Hs,integrate:Us})}static tan(e){return new g({inputs:[e],evaluate:l.tan,invert:Qs,integrate:Gs})}static asin(e){return new g({inputs:[e],evaluate:l.asin,invert:Es,integrate:zs})}static acos(e){return new g({inputs:[e],evaluate:l.acos,invert:Ls,integrate:Ws})}static atan(e){return new g({inputs:[e],evaluate:l.atan,invert:Bs,integrate:Ys})}static sinh(e){return new g({inputs:[e],evaluate:l.sinh,invert:nl,integrate:Ks})}static cosh(e){return new g({inputs:[e],evaluate:l.cosh,invert:il,integrate:Xs})}static tanh(e){return new g({inputs:[e],evaluate:l.tanh,invert:sl,integrate:tl})}static asinh(e){return new g({inputs:[e],evaluate:l.asinh,invert:Js,integrate:rl})}static acosh(e){return new g({inputs:[e],evaluate:l.acosh,invert:Zs,integrate:al})}static atanh(e){return new g({inputs:[e],evaluate:l.atanh,invert:el,integrate:ll})}stringify(){return g.stringify(this)}step(e,t){return g.step(this,e,t)}if(e,t){return g.if(this,e,t)}conditional(e,t){return g.if(this,e,t)}abs(){return g.abs(this)}neg(){return g.neg(this)}sign(){return g.sign(this)}round(){return g.round(this)}floor(){return g.floor(this)}ceil(){return g.ceil(this)}trunc(){return g.trunc(this)}add(e){return g.add(this,e)}sub(e){return g.sub(this,e)}mul(e){return g.mul(this,e)}div(e){return g.div(this,e)}recip(){return g.recip(this)}max(e){return g.max(this,e)}min(e){return g.min(this,e)}maxabs(e){return g.maxabs(this,e)}minabs(e){return g.minabs(this,e)}clamp(e,t){return g.clamp(this,e,t)}clampMin(e){return g.clampMin(this,e)}clampMax(e){return g.clampMax(this,e)}pLog10(){return g.pLog10(this)}absLog10(){return g.absLog10(this)}log10(){return g.log10(this)}log(e){return g.log(this,e)}log2(){return g.log2(this)}ln(){return g.ln(this)}pow(e){return g.pow(this,e)}pow10(){return g.pow10(this)}pow_base(e){return g.pow_base(this,e)}root(e){return g.root(this,e)}factorial(){return g.factorial(this)}gamma(){return g.gamma(this)}lngamma(){return g.lngamma(this)}exp(){return g.exp(this)}sqr(){return g.pow(this,2)}sqrt(){return g.root(this,2)}cube(){return g.pow(this,3)}cbrt(){return g.root(this,3)}tetrate(e=2,t=l.fromComponents_noNormalize(1,0,1)){return g.tetrate(this,e,t)}iteratedexp(e=2,t=l.fromComponents_noNormalize(1,0,1)){return g.iteratedexp(this,e,t)}iteratedlog(e=10,t=1){return g.iteratedlog(this,e,t)}slog(e=10){return g.slog(this,e)}layeradd10(e){return g.layeradd10(this,e)}layeradd(e,t){return g.layeradd(this,e,t)}lambertw(){return g.lambertw(this)}ssqrt(){return g.ssqrt(this)}pentate(e=2,t=l.fromComponents_noNormalize(1,0,1)){return g.pentate(this,e,t)}sin(){return g.sin(this)}cos(){return g.cos(this)}tan(){return g.tan(this)}asin(){return g.asin(this)}acos(){return g.acos(this)}atan(){return g.atan(this)}sinh(){return g.sinh(this)}cosh(){return g.cosh(this)}tanh(){return g.tanh(this)}asinh(){return g.asinh(this)}acosh(){return g.acosh(this)}atanh(){return g.atanh(this)}};let ge=pe;ge.negate=pe.neg;ge.negated=pe.neg;ge.sgn=pe.sign;ge.plus=pe.add;ge.subtract=pe.sub;ge.minus=pe.sub;ge.multiply=pe.mul;ge.times=pe.mul;ge.divide=pe.div;ge.divideBy=pe.div;ge.dividedBy=pe.div;ge.reciprocal=pe.recip;ge.reciprocate=pe.recip;ge.max=At(l.max);ge.min=At(l.min);ge.minabs=At(l.minabs);ge.maxabs=At(l.maxabs);ge.clampMin=At(l.clampMin);ge.clampMax=At(l.clampMax);ge.logarithm=pe.log;class g extends ge{invert(t){return this.internalInvert&&this.hasVariable()?this.internalInvert.call(this,t,...this.inputs):this.inputs.length===1&&this.hasVariable()?t:(console.error("Cannot invert non-invertible formula"),0)}evaluateIntegral(t){return this.isIntegrable()?this.getIntegralFormula().evaluate(t):(console.error("Cannot evaluate integral of formula without integral"),0)}invertIntegral(t){return!this.isIntegrable()||!this.getIntegralFormula().isInvertible()?(console.error("Cannot invert integral of formula without invertible integral"),0):this.getIntegralFormula().invert(t)}calculateConstantOfIntegration(){const t=this.getIntegralFormula().evaluate(1),n=l.add(this.evaluate(0),this.evaluate(1)).div(2);return l.sub(n,t)}getIntegralFormula(t){if(this.integralFormula!=null&&t==null)return this.integralFormula;if(t==null){if(this.applySubstitution==null){if(t=[],this.internalIntegrate==null)return console.error("Cannot integrate formula with non-integrable operation"),g.constant(0);let n=this.internalIntegrate.call(this,t,...this.inputs);t.forEach(r=>n=r(n)),this.integralFormula=n}else if(this.internalIntegrate)this.integralFormula=this.internalIntegrate.call(this,void 0,...this.inputs);else if(this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable())this.integralFormula=this;else return console.error("Cannot integrate formula without variable"),g.constant(0);return this.integralFormula}else return this.applySubstitution==null?(console.error("Cannot have two complex operations in an integrable formula"),g.constant(0)):(t.push(n=>this.applySubstitution.call(this,n,...this.inputs)),this.internalIntegrateInner?this.internalIntegrateInner.call(this,t,...this.inputs):this.internalIntegrate?this.internalIntegrate.call(this,t,...this.inputs):this.inputs.length===1&&this.internalEvaluate==null&&this.hasVariable()?this:(console.error("Cannot integrate formula without variable"),g.constant(0)))}}function cl(e,t,n=!0,r,i=l.dInf){const a=_e(n),c=_e(r),o=_e(i);return I(()=>{var w,C,S,v;const d=u(o);if(l.eq(d,1))return l.gte(t.value,e.evaluate())?l.dOne:l.dZero;const p=u(a),b=(w=u(c))!=null?w:p?10:0;let h=0;if(l.gt(d,b)){if(!e.isInvertible())return console.error("Cannot calculate max affordable of non-invertible formula with more maxBulkAmount than directSum"),0;if(p){if(!e.isIntegralInvertible())return console.error("Cannot calculate max affordable of formula with non-invertible integral"),0;h=l.floor(e.invertIntegral(l.add(t.value,e.evaluateIntegral()))).sub((C=u(e.innermostVariable))!=null?C:0)}else h=l.floor(e.invert(t.value))}if(h=l.clampMax(h,d),b>0){const $=h;h=l.sub(h,b).clampMin(0);let k;for(p?k=dn(e,h,!0,0):k=e.evaluate(l.add((S=u(e.innermostVariable))!=null?S:0,h));l.lt(h,d)&&l.lt(h,Number.MAX_SAFE_INTEGER)&&l.add($,1).gte(h);){const x=e.evaluate(h.add((v=u(e.innermostVariable))!=null?v:0));if(l.add(k,x).lte(t.value))h=h.add(1),k=l.add(k,x);else break}}return h})}function dn(e,t,n=!0,r){var d;if(l.eq(t,1))return e.evaluate();const i=(d=u(e.innermostVariable))!=null?d:0;let a=l.add(t,i);const c=a;r!=null||(r=n?10:0),a=a.sub(r).clampMin(i);let o=0;if(l.gt(t,r)){if(!e.isInvertible())return console.error("Cannot calculate cost with indirect sum of non-invertible formula"),0;if(n){if(!e.isIntegrable())return console.error("Cannot calculate cost with cumulative cost of non-integrable formula"),0;if(o=l.sub(e.evaluateIntegral(a),e.evaluateIntegral()),c.gt(1e308))return l.add(o,l.sub(c,a).times(e.evaluate(a)))}else if(o=e.evaluate(a),a=a.add(1),c.gt(1e308))return l.sub(c,a).add(1).times(o)}for(let p=a.toNumber();p<c.toNumber();p++)o=l.add(o,e.evaluate(p));return o}const bt=Symbol("PersistentState"),_t=Symbol("DefaultValue"),mn=Symbol("StackTrace"),hn=Symbol("Deleted"),et=Symbol("NonPersistent"),Nt=Symbol("SaveDataPath"),Jt=Symbol("SkipPersistence");function dl(){var e,t;return(t=(e=new Error().stack)==null?void 0:e.split(`
`).slice(3,5).map(n=>n.trim()).join(`
`))!=null?t:""}function pr(e,t){var n;l.isNaN(t)&&(le.hasNaN||(A.autosave=!1,le.hasNaN=!0,le.NaNPath=e[Nt],le.NaNPersistent=e),console.error(`Attempted to save NaN value to ${(n=e[Nt])==null?void 0:n.join(".")}`)),e[bt].value=t}function xe(e,t=!0){const n=ye(e)?e:F(e);ye(e)&&(e=e.value);const r=I({get(){return n.value},set(a){t?pr(i,a):i[bt].value=a}});r[_t]=e;const i={get value(){return n.value},set value(a){t?pr(i,a):i[bt].value=a},__v_isRef:!0,[bt]:n,[_t]:e,[mn]:dl(),[hn]:!1,[et]:r,[Nt]:void 0};return Te.length===0?console.warn("Creating a persistent ref outside of a layer. This is not officially supported",i,`
Created at:
`+i[mn]):St[Te[Te.length-1]].add(i),i}function gl(e){return e!=null&&typeof e=="object"&&bt in e}function re(e){return!(ht in e)&&et in e?e[et]:new Proxy(e,{get(t,n){if(n!==bt)return n===Jt?!0:t[n]},set(t,n,r){return t[n]=r,!0},has(t,n){return n===bt?!1:n===Jt?!0:Reflect.has(t,n)}})}function fl(e){Te.length===0?console.warn("Deleting a persistent ref outside of a layer. Ignoring...",e):St[Te[Te.length-1]].delete(e),e[hn]=!0}Ne.on("addLayer",(e,t)=>{const n=[],r=(i,a=[])=>{let c=!1;return Object.keys(i).forEach(o=>{let d=i[o];if(d!=null&&typeof d=="object"){if(d[Jt]===!0)return;if(ht in d&&(d=d[ht]),gl(d)){if(c=!0,d[hn]){console.warn("Deleted persistent ref present in returned object. Ignoring...",d,`
Created at:
`+d[mn]);return}St[e.id].delete(d);const p=[e.id,...a,o];d[Nt]!=null&&JSON.stringify(p)!==JSON.stringify(d[Nt])&&console.error(`Persistent ref is being saved to \`${p.join(".")}\` when it's already present at \`${d[Nt].join(".")}\`.`,"This can cause unexpected behavior when loading saves between updates."),d[Nt]=p;const b=a.reduce((w,C)=>(C in w||(w[C]={}),w[C]),t),h=b[o];b[o]=d[bt],Kr(b)?h!=null?b[o]=h:b[o]=d[_t]:h!=null?b[o].value=h:b[o].value=d[_t]}else!(d instanceof l)&&!(d instanceof g)&&!ye(d)&&!n.includes(d)&&(typeof d.type=="symbol"&&n.push(d),r(d,[...a,o])&&(rt(d)&&!rt(i)?console.warn("Found array that contains persistent values when adding layer. Keep in mind changing the order of elements in the array will mess with existing player saves.",ht in i?i[ht]:i,o):c=!0))}}),c};r(e[ht]),St[e.id].forEach(i=>{i[hn]||console.error(`Created persistent ref in ${e.id} without registering it to the layer!`,`Make sure to include everything persistent in the returned object.

Created at:
`+i[mn])}),St[e.id].clear()});const Fn=Symbol("RegisterNode"),Vn=Symbol("UnregisterNode"),En=Symbol("Nodes"),An=Symbol("Bounds"),$e=vn({});window.layers=$e;const St={},Te=[];function tn(e,t){return Se(()=>{const n={},r=n.emitter=wr();if(n.on=r.on.bind(r),n.emit=r.emit.bind(r),n.nodes=F({}),n.id=e,Te.push(e),St[e]=new Set,n.minimized=xe(!1,!1),Object.assign(n,t.call(n,n)),Te[Te.length-1]==null||Te[Te.length-1]!==e)throw new Error(`Adding layers stack in invalid state. This should not happen
Stack: ${Te}
Trying to pop ${n.id}`);Te.pop(),T(n,"color"),T(n,"display"),T(n,"classes"),T(n,"style"),T(n,"name"),te(n,"name",n.id),T(n,"minWidth"),te(n,"minWidth",600),T(n,"minimizable"),te(n,"minimizable",!0),T(n,"minimizedDisplay");const i=n.style;return n.style=I(()=>{var c,o;let a=u(n.minWidth);return(typeof a=="number"||!Number.isNaN(parseInt(a)))&&(a=a+"px"),[(c=u(i))!=null?c:"",(o=n.minimized)!=null&&o.value?{flexGrow:"0",flexShrink:"0",width:"60px",minWidth:"",flexBasis:"",margin:"0"}:{flexGrow:"",flexShrink:"",width:"",minWidth:a,flexBasis:a,margin:""}]}),n})}function Or(e,t){if(console.info("Adding layer",e.id),$e[e.id]){console.error("Attempted to add layer with same ID as existing layer",e.id,$e[e.id]);return}te(t,"layers",{}),t.layers[e.id]==null&&(t.layers[e.id]={}),$e[e.id]=e,Ne.emit("addLayer",e,t.layers[e.id])}function pl(e){return $e[e]}function Dr(e){console.info("Removing layer",e.id),Ne.emit("removeLayer",e),$e[e.id]=void 0}function ml(e){Dr(e),Or(e,A)}function hl(e){const t=F(!1);return{openModal:()=>t.value=!0,modal:O(()=>s(Qe,{modelValue:t.value,"onUpdate:modelValue":n=>t.value=n},{header:()=>s("h2",null,[u(e.name)]),body:u(e.display)}))}}Ne.on("update",function(t){Object.values($e).forEach(n=>{n==null||n.emit("preUpdate",t)}),Object.values($e).forEach(n=>{n==null||n.emit("update",t)}),Object.values($e).forEach(n=>{n==null||n.emit("postUpdate",t)})});var vl=Object.freeze(Object.defineProperty({__proto__:null,RegisterNodeInjectionKey:Fn,UnregisterNodeInjectionKey:Vn,NodesInjectionKey:En,BoundsInjectionKey:An,layers:$e,persistentRefs:St,addingLayers:Te,createLayer:tn,addLayer:Or,getLayer:pl,removeLayer:Dr,reloadLayer:ml,setupLayerModal:hl},Symbol.toStringTag,{value:"Module"}));const bl=z({__name:"Context",emits:["updateNodes"],setup(e,{emit:t}){var b;const n=F({}),r=new ResizeObserver(o),i=F(null);Zt(()=>{const h=i.value;h!=null&&r.observe(h)});let a=!0,c=F((b=i.value)==null?void 0:b.getBoundingClientRect());function o(){a&&(a=!1,It(()=>{var h;c.value=(h=i.value)==null?void 0:h.getBoundingClientRect(),Object.values(n.value).filter(w=>w).forEach(w=>w.rect=w.element.getBoundingClientRect()),t("updateNodes",n.value),a=!0}))}Ne.on("fontsLoaded",o);const d={attributes:!1,childList:!0,subtree:!1};sn(Fn,(h,w)=>{const C=new MutationObserver(()=>p(h));C.observe(w,d),n.value[h]={element:w,observer:C,rect:w.getBoundingClientRect()},o()}),sn(Vn,h=>{var w;(w=n.value[h])==null||w.observer.disconnect(),n.value[h]=void 0,o()}),sn(En,n),sn(An,c);function p(h){const w=n.value[h];w!=null&&(w.rect=w.element.getBoundingClientRect(),t("updateNodes",n.value))}return(h,w)=>(_(),M(R,null,[tt(h.$slots,"default",{},void 0,!0),f("div",{ref_key:"resizeListener",ref:i,class:"resize-listener"},null,512)],64))}});var qr=K(bl,[["__scopeId","data-v-2b1dc1bc"]]);const yl=["onPointerdown"],_l={class:"modal-wrapper"},wl=["width"],Cl={class:"modal-header"},Nl={class:"modal-body"},Sl={class:"modal-footer"},kl=f("div",{class:"modal-default-flex-grow"},null,-1),Qe=z({__name:"Modal",props:{modelValue:{type:Boolean},preventClosing:{type:Boolean},width:null},emits:["update:modelValue"],setup(e,{expose:t,emit:n}){const i=Ce(e),a=I(()=>u(i.modelValue)||o.value);function c(){u(i.preventClosing)!==!0&&n("update:modelValue",!1)}const o=F(!1),d=F(null),p=I(()=>{var b,h;return(h=(b=d.value)==null?void 0:b.nodes)!=null?h:null});return t({isOpen:a,nodes:p}),(b,h)=>(_(),G(Zr,{to:"#modal-root"},[s(yr,{name:"modal",onBeforeEnter:h[0]||(h[0]=w=>o.value=!0),onAfterLeave:h[1]||(h[1]=w=>o.value=!1),appear:""},{default:B(()=>[bn(f("div",it({class:"modal-mask",onPointerdown:Ht(c,["self"])},b.$attrs),[f("div",_l,[f("div",{class:"modal-container",width:e.width},[f("div",Cl,[tt(b.$slots,"header",{shown:u(a)},()=>[m(" default header ")])]),f("div",Nl,[s(qr,{ref_key:"contextRef",ref:d},{default:B(()=>[tt(b.$slots,"body",{shown:u(a)},()=>[m(" default body ")])]),_:3},512)]),f("div",Sl,[tt(b.$slots,"footer",{shown:u(a)},()=>[f("div",{class:"modal-default-footer"},[kl,f("button",{class:"button modal-default-button",onClick:c}," Close ")])])])],8,wl)])],16,yl),[[br,e.modelValue]])]),_:3})]))}});const wn=e=>(Le("data-v-4e641da3"),e=e(),Ue(),e),Il=wn(()=>f("div",{class:"vga-modal-header"},[f("h2",null,"Kindly consider taking a break.")],-1)),Ml=wn(()=>f("p",null," You've been actively enjoying this game for awhile recently - and it's great that you've been having a good time! That said, there are dangers to games like these that you should be aware of: ",-1)),Pl=wn(()=>f("p",null," While incremental games can be fun and even healthy in certain contexts, they can exacerbate video game addiction even more than other genres. If you feel like playing incremental games is taking priority over other things in your life, or manipulating your sleep schedule, it may be prudent to seek help. ",-1)),$l=wn(()=>f("p",null,[f("h4",null,"Resources:"),f("span",null,[f("a",{style:{display:"inline"},href:"https://www.samhsa.gov/",target:"_blank"}," SAMHSA "),m(" ("),f("a",{style:{display:"inline"},href:"tel:1-800-662-4357"},"1-800-662-HELP"),m(") ")]),f("br"),f("a",{href:"https://www.reddit.com/r/StopGaming/",target:"_blank"},"r/StopGaming")],-1)),xl=z({__name:"AddictionWarning",setup(e){const t=F(!1);return Ee(()=>{J.disableHealthWarning===!1&&j.showHealthWarning&&le.mouseActivity.filter(n=>n).length>6&&(t.value=!0)}),(n,r)=>{const i=De("SavesManager");return _(),M(R,null,[s(Qe,it({modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=a=>t.value=a)},n.$attrs),{header:B(()=>[Il]),body:B(()=>[Ml,Pl,$l]),_:1},16,["modelValue"]),s(i,{ref:"savesManager"},null,512)],64)}}});var Tl=K(xl,[["__scopeId","data-v-4e641da3"]]);const qe=F(),Ze=F([]),Lt=F([]);function Rl(){var e;((e=qe.value)==null?void 0:e.loggedIn)===!0&&(Ze.value.length>0||qe.value.getSaveList().then(Fr).then(t=>{Lt.value=t.map(n=>n.content.id)}).catch(console.error))}si({supportsSaving:!0,supportsSaveManager:!0,onLoggedInChanged:mr}).then(e=>{qe.value=e,mr(e)}).catch(console.error);function mr(e){e.loggedIn===!0&&(Ze.value.length>0||(e.getSaveList().then(t=>{const n=Fr(t);if(Lt.value=n.map(r=>r.content.id),A.timePlayed<120*1e3&&n.length>0){const r=n.reduce((i,a)=>i.content.time<a.content.time?a:i);dt(r.content)}}).catch(console.error),setInterval(Rl,60*1e3)))}function Fr(e){const t=new Set(j.saves.slice()),n=new Set(new Array(11).fill(0).map((i,a)=>a)),r=Object.keys(e).map(i=>{var o;const{label:a,content:c}=e[i];try{return{slot:parseInt(i),label:a,content:JSON.parse((o=vt(c))!=null?o:"")}}catch{return null}}).filter(i=>i!=null&&typeof i.content.id=="string"&&typeof i.content.time=="number"&&typeof i.content.timePlayed=="number").filter(i=>{var c,o,d,p,b,h;i.label!=null&&(i.content.name=i.label),n.delete(i.slot);const a=j.saves.find(w=>w===i.content.id);if(a==null)j.saves.push(i.content.id),ke(ct(i.content));else{t.delete(a);try{const w=JSON.parse((o=vt((c=localStorage.getItem(a))!=null?c:""))!=null?o:"");if(w==null)return!1;w.id=a,w.time=(d=w.time)!=null?d:0,w.timePlayed=(p=w.timePlayed)!=null?p:0;const C=Math.abs(w.timePlayed-i.content.timePlayed),S=Math.abs(w.time-i.content.time);C<120*1e3&&S<120*1e3?w.time<i.content.time?(ke(ct(i.content)),j.active===a&&dt(i.content)):((h=qe.value)==null||h.save(i.slot,yt.compressToUTF16(Ot(ct(w))),(b=w.name)!=null?b:i.label).catch(console.error),i.content=w):Ze.value.push({id:a,cloud:i.content,local:w,slot:i.slot})}catch{return!1}}return!0});return t.forEach(i=>{var a,c,o;try{if(n.size>0){const d=(a=localStorage.getItem(i))!=null?a:"",p=JSON.parse((c=vt(d))!=null?c:""),b=n.values().next().value;(o=qe.value)==null||o.save(b,d,p.name).then(()=>Lt.value.push(p.id)).catch(console.error),n.delete(b)}}catch{}}),r}const Ol={class:"table"},Dt=z({__name:"Column",setup(e){const t=I(()=>Xt[j.theme].mergeAdjacent);return(n,r)=>(_(),M("div",Ol,[f("div",{class:ne(["col",{mergeAdjacent:u(t)}])},[tt(n.$slots,"default")],2)]))}}),Dl={class:"table"},ql=z({__name:"Row",setup(e){const t=I(()=>Xt[j.theme].mergeAdjacent);return(n,r)=>(_(),M("div",Dl,[f("div",{class:ne(["row",{mergeAdjacent:u(t)}])},[tt(n.$slots,"default")],2)]))}});function Ln(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Xr(e)}function Y(e,t="span"){return typeof e=="function"?z({render:e}):typeof e=="string"?e.length>0?(e=e.trim(),e.charAt(0)!=="<"&&(e=`<${t}>${e}</${t}>`),z({template:e})):z({render:()=>({})}):e}function ie(e){if(ze(e))return typeof e=="function"?e():Y(e);const t=e[Oe];return s(t,e[Fe](),null)}function Xe(...e){let t;return s(ql,null,Ln(t=e.map(ie))?t:{default:()=>[t]})}function Fl(...e){let t;return s(Dt,null,Ln(t=e.map(ie))?t:{default:()=>[t]})}function Ae(e){if(ze(e))return typeof e=="function"?e():typeof e=="string"?s(R,null,[e]):s(e,null,null);const t=e[Oe];return s(t,e[Fe](),null)}function Vl(...e){let t;return s(Dt,null,Ln(t=e.map(Ae))?t:{default:()=>[t]})}function hr(e,t){return e.reduce((n,r)=>s(R,null,[n,t,r]))}function ze(e){return typeof e=="string"?!0:typeof e=="object"?e==null?!1:"render"in e||"component"in e:typeof e=="function"&&e[Yt]===!0}function Vr(e,t){const n=F(null),r=F(void 0);function i(o){n.value||(n.value=setInterval(c,250)),r.value=o}function a(){n.value&&(clearInterval(n.value),n.value=null)}function c(){t&&t.value?t.value():e&&e.value&&e.value(r.value)}return _r(a),{start:i,stop:a,handleHolding:c}}function El(e,t){const n=I(()=>e.filter(r=>We(r.visibility)&&t(r)));return{firstFeature:I(()=>n.value[0]),collapsedContent:O(()=>Fl(...n.value.slice(1))),hasCollapsedContent:I(()=>n.value.length>1)}}function qt(e,t="div"){const n=Re();return Ee(()=>{n.value=Y(we(e),t)}),n}function nn(e,t="div"){const n=Re(null);return Ee(()=>{const r=we(e);n.value=r===""||r==null?null:Y(r,t)}),n}function we(e){return u(u(e))}function E(...e){return e.includes(Object)||e.push(Object),e}function Al(e){return Object.keys(e).reduce((t,n)=>(t[qa(n)]=e[n],t),{})}var Ll=z({props:{element:Object,display:{type:E(Object,String,Function),required:!0},style:E(Object,String,Array),classes:E(Object),direction:E(String),xoffset:E(String),yoffset:E(String),pinned:Object},setup(e){const{element:t,display:n,pinned:r}=Ce(e),i=F(!1),a=I(()=>(we(r)||i.value)&&c.value),c=nn(n),o=Re(Y(O(()=>{const b=we(t);return b==null?"":Ae(b)})));function d(b){const h=r;b.shiftKey&&h&&(h.value=!h.value,b.stopPropagation(),b.preventDefault())}const p=I(()=>we(r)&&Xt[j.theme].showPin);return{Direction:fe,isHovered:i,isShown:a,comp:c,elementComp:o,unref:u,togglePinned:d,showPin:p}}});const Ul={key:0,class:"material-icons pinned"};function Bl(e,t,n,r,i,a){return _(),M("div",{class:ne(["tooltip-container",{shown:e.isShown}]),onMouseenter:t[0]||(t[0]=c=>e.isHovered=!0),onMouseleave:t[1]||(t[1]=c=>e.isHovered=!1),onClickCapture:t[2]||(t[2]=(...c)=>e.togglePinned&&e.togglePinned(...c))},[tt(e.$slots,"default",{},void 0,!0),e.elementComp?(_(),G(ue(e.elementComp),{key:0})):D("",!0),s(yr,{name:"fade"},{default:B(()=>{var c;return[e.isShown?(_(),M("div",{key:0,class:ne(["tooltip",{top:e.unref(e.direction)===e.Direction.Up,left:e.unref(e.direction)===e.Direction.Left,right:e.unref(e.direction)===e.Direction.Right,bottom:e.unref(e.direction)===e.Direction.Down,...e.unref(e.classes)}]),style:Ie([{"--xoffset":e.unref(e.xoffset)||"0px","--yoffset":e.unref(e.yoffset)||"0px"},(c=e.unref(e.style))!=null?c:{}])},[e.showPin?(_(),M("span",Ul,"push_pin")):D("",!0),e.comp?(_(),G(ue(e.comp),{key:1})):D("",!0)],6)):D("",!0)]}),_:1})],34)}var be=K(Ll,[["render",Bl],["__scopeId","data-v-8a8034cc"]]);const Gl={key:0},jl=["onClick","disabled"],zl={key:0},Hl=["onClick"],Wl=z({__name:"DangerButton",props:{disabled:{type:Boolean},skipConfirm:{type:Boolean}},emits:["click","confirmingChanged"],setup(e,{emit:t}){const r=Ce(e),i=F(!1);Ve(i,o=>{t("confirmingChanged",o)});function a(){if(u(r.skipConfirm)){t("click");return}i.value&&t("click"),i.value=!i.value}function c(){i.value=!1}return(o,d)=>(_(),M("span",{class:ne(["container",{confirming:i.value}])},[i.value?(_(),M("span",Gl,"Are you sure?")):D("",!0),f("button",{onClick:Ht(a,["stop"]),class:"button danger",disabled:e.disabled},[i.value?(_(),M("span",zl,"Yes")):tt(o.$slots,"default",{key:1},void 0,!0)],8,jl),i.value?(_(),M("button",{key:1,class:"button",onClick:Ht(c,["stop"])},"No",8,Hl)):D("",!0)],2))}});var Ql=K(Wl,[["__scopeId","data-v-9e8f8406"]]);const Yl=["onSubmit"],Jl={class:"field"},Kl={key:0,class:"field-title"},Zl=["placeholder"],Xl=z({__name:"Text",props:{title:null,modelValue:null,textArea:{type:Boolean},placeholder:null,maxHeight:null,submitOnBlur:{type:Boolean}},emits:["update:modelValue","submit","cancel"],setup(e,{emit:t}){const n=e,r=nn(He(n,"title"),"span"),i=Re(null);Zt(()=>{var d;(d=i.value)==null||d.focus()});const a=I({get(){var d;return(d=u(n.modelValue))!=null?d:""},set(d){t("update:modelValue",d)}});function c(){t("submit")}function o(){n.submitOnBlur!==!1?t("submit"):t("cancel")}return(d,p)=>(_(),M("form",{onSubmit:Ht(c,["prevent"])},[f("div",Jl,[u(r)?(_(),M("span",Kl,[(_(),G(ue(u(r))))])):D("",!0),e.textArea?(_(),G(u(li),{key:1,modelValue:u(a),"onUpdate:modelValue":p[0]||(p[0]=b=>ye(a)?a.value=b:null),placeholder:e.placeholder,maxHeight:e.maxHeight,onBlur:o,ref_key:"field",ref:i},null,8,["modelValue","placeholder","maxHeight"])):bn((_(),M("input",{key:2,type:"text","onUpdate:modelValue":p[1]||(p[1]=b=>ye(a)?a.value=b:null),placeholder:e.placeholder,class:ne({fullWidth:!e.title}),onBlur:o,ref_key:"field",ref:i},null,42,Zl)),[[ei,u(a)]])])],40,Yl))}});var Er=K(Xl,[["__scopeId","data-v-90bd4994"]]);const ft=e=>(Le("data-v-8e747de4"),e=e(),Ue(),e),eo={key:0,class:"handle material-icons"},to={key:1,class:"actions"},no=ft(()=>f("span",{class:"material-icons"},"content_paste",-1)),ro=ft(()=>f("span",{class:"material-icons"},"content_copy",-1)),io=ft(()=>f("span",{class:"material-icons"},"edit",-1)),ao=ft(()=>f("span",{class:"material-icons",style:{margin:"-2px"}},"delete",-1)),so={key:2,class:"actions"},lo=ft(()=>f("span",{class:"material-icons"},"check",-1)),oo=ft(()=>f("span",{class:"material-icons"},"close",-1)),uo={key:3,class:"details"},co=ft(()=>f("span",{class:"material-icons synced"},"cloud",-1)),go=["disabled"],fo=["disabled"],po=ft(()=>f("br",null,null,-1)),mo=["disabled"],ho={key:2},vo={key:4,class:"details"},bo={key:5,class:"details error"},yo=ft(()=>f("br",null,null,-1)),_o=z({__name:"Save",props:{save:null,readonly:{type:Boolean}},emits:["export","open","duplicate","delete","editName"],setup(e,{emit:t}){const n=e,{save:r,readonly:i}=Ce(n),a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),c=qt(I(()=>{var S,v,$,k,x,q,V,ve,Ke,pt,Ut,at,se,he,er,tr,nr,rr,ir,ar,sr,lr,or,ur;return l.lt((k=($=(v=(S=r.value)==null?void 0:S.layers)==null?void 0:v.main)==null?void 0:$.progression)!=null?k:-1,-.1)?"?-? // Progress Unknown":l.lt((ve=(V=(q=(x=r.value)==null?void 0:x.layers)==null?void 0:q.main)==null?void 0:V.progression)!=null?ve:-1,.9)?`1-1 // Cash // ${Me((at=(Ut=(pt=(Ke=r.value)==null?void 0:Ke.layers)==null?void 0:pt.cash)==null?void 0:Ut.points)!=null?at:0)} Cash`:l.lt((tr=(er=(he=(se=r.value)==null?void 0:se.layers)==null?void 0:he.main)==null?void 0:er.progression)!=null?tr:-1,3.9)?`1-2 // Rebirth // ${Me((ar=(ir=(rr=(nr=r.value)==null?void 0:nr.layers)==null?void 0:rr.rebirth)==null?void 0:ir.points)!=null?ar:0)} RP`:`1-3 // Super Rebirth // ${Me((ur=(or=(lr=(sr=r.value)==null?void 0:sr.layers)==null?void 0:lr.super)==null?void 0:or.points)!=null?ur:0)} SRP`})),o=F(!1),d=F(!1),p=F("");Ve(o,()=>{var S;return p.value=(S=r.value.name)!=null?S:""});const b=I(()=>r.value!=null&&r.value.id===A.id&&!u(i)),h=I(()=>{var S;return b.value?A.time:(S=r.value!=null&&r.value.time)!=null?S:0}),w=I(()=>{var S;return!u(i)&&((S=qe.value)==null?void 0:S.loggedIn)===!0&&Lt.value.includes(r.value.id)});function C(){t("editName",p.value),o.value=!1}return(S,v)=>(_(),M("div",{class:ne(["save",{active:u(b),readonly:u(i)}])},[u(i)!==!0?(_(),M("div",eo,"drag_handle")):D("",!0),!o.value&&u(i)!==!0?(_(),M("div",to,[u(r).error==null&&!d.value?(_(),G(xn,{key:0,onClick:v[0]||(v[0]=$=>t("export")),class:"button",left:""},{default:B(()=>[s(be,{display:"Export",direction:u(fe).Left,class:"info"},{default:B(()=>[no]),_:1},8,["direction"])]),_:1})):D("",!0),u(r).error==null&&!d.value?(_(),M("button",{key:1,onClick:v[1]||(v[1]=$=>t("duplicate")),class:"button"},[s(be,{display:"Duplicate",direction:u(fe).Left,class:"info"},{default:B(()=>[ro]),_:1},8,["direction"])])):D("",!0),u(r).error==null&&!d.value?(_(),M("button",{key:2,onClick:v[2]||(v[2]=$=>o.value=!o.value),class:"button"},[s(be,{display:"Edit Name",direction:u(fe).Left,class:"info"},{default:B(()=>[io]),_:1},8,["direction"])])):D("",!0),s(Ql,{disabled:u(b),onClick:v[3]||(v[3]=$=>t("delete")),onConfirmingChanged:v[4]||(v[4]=$=>d.value=$)},{default:B(()=>[s(be,{display:"Delete",direction:u(fe).Left,class:"info"},{default:B(()=>[ao]),_:1},8,["direction"])]),_:1},8,["disabled"])])):u(i)!==!0?(_(),M("div",so,[f("button",{onClick:C,class:"button"},[s(be,{display:"Save",direction:u(fe).Left,class:"info"},{default:B(()=>[lo]),_:1},8,["direction"])]),f("button",{onClick:v[5]||(v[5]=$=>o.value=!o.value),class:"button"},[s(be,{display:"Cancel",direction:u(fe).Left,class:"info"},{default:B(()=>[oo]),_:1},8,["direction"])])])):D("",!0),u(r).error==null&&!o.value?(_(),M("div",uo,[u(w)?(_(),G(be,{key:0,display:"Synced!",direction:u(fe).Right,onClick:v[6]||(v[6]=$=>t("open")),disabled:u(i)},{default:B(()=>[co]),_:1},8,["direction","disabled"])):D("",!0),f("button",{class:"button open",onClick:v[7]||(v[7]=$=>t("open")),disabled:u(i)},[f("h3",null,W(u(r).name),1)],8,go),f("span",{class:"save-version",onClick:v[8]||(v[8]=$=>t("open")),disabled:u(i)},"v"+W(u(r).modVersion),9,fo),po,u(h)?(_(),M("div",{key:1,class:"time",onClick:v[9]||(v[9]=$=>t("open")),disabled:u(i)}," Last played "+W(u(a).format(u(h))),9,mo)):D("",!0),u(c)?(_(),M("div",ho,[(_(),G(ue(u(c)),{onClick:v[10]||(v[10]=$=>t("open")),disabled:u(i)},null,8,["disabled"]))])):D("",!0)])):u(r).error==null&&o.value?(_(),M("div",vo,[s(Er,{modelValue:p.value,"onUpdate:modelValue":v[11]||(v[11]=$=>p.value=$),class:"editname",onSubmit:C},null,8,["modelValue"])])):(_(),M("div",bo,[m(" Error: Failed to load save with id "+W(u(r).id),1),yo,m(W(u(r).error),1)]))],2))}});var $n=K(_o,[["__scopeId","data-v-8e747de4"]]);const Un=e=>(Le("data-v-b1b6a34a"),e=e(),Ue(),e),wo={class:"cloud-saves-modal-header"},Co=Un(()=>f("br",null,null,-1)),No=["onClick"],So={key:0,class:"note"},ko={key:1,class:"note"},Io=["onClick"],Mo={key:0,class:"note"},Po={key:1,class:"note"},$o=["onClick"],xo=Un(()=>f("h2",null,"Both",-1)),To=Un(()=>f("div",{class:"save"},"Keep Both",-1)),Ro=[xo,To],Oo=z({__name:"CloudSaveResolver",setup(e){const t=F(!1),n=F([]),r=I(()=>Ze.value.length>1?"saves":"save"),i=F(null);Ve(()=>Ze.value.length>0,p=>{p&&(n.value=Ze.value.map(({local:b,cloud:h})=>{var w,C;return((w=b.time)!=null?w:0)<((C=h.time)!=null?C:0)?"cloud":"local"}),t.value=!0)},{immediate:!0}),Ve(()=>{var p;return(p=i.value)==null?void 0:p.isOpen},p=>{p===!1&&(Ze.value=[])});function a(p){n.value[p]="local"}function c(p){n.value[p]="cloud"}function o(p){n.value[p]="both"}function d(){var p,b;for(let h=0;h<n.value.length;h++){const{slot:w,local:C,cloud:S}=Ze.value[h];switch(n.value[h]){case"local":(p=qe.value)==null||p.save(w,yt.compressToUTF16(Ot(ct(C))),S.name).catch(console.error);break;case"cloud":ke(ct(S));break;case"both":const v=zt();ke({...ct(S),id:v}),j.saves.push(v),(b=qe.value)==null||b.save(w,yt.compressToUTF16(Ot(ct(C))),S.name).catch(console.error);break}}t.value=!1}return(p,b)=>(_(),G(Qe,{modelValue:t.value,"onUpdate:modelValue":b[0]||(b[0]=h=>t.value=h),width:"960px",ref_key:"modal",ref:i,"prevent-closing":!0},{header:B(()=>[f("div",wo,[f("h2",null,"Cloud "+W(u(r))+" loaded!",1)])]),body:B(()=>[f("div",null," Upon loading, your cloud "+W(u(r))+" "+W(u(Ze).length>1?"appear":"appears")+" to be out of sync with your local "+W(u(r))+". Which "+W(u(r))+" do you want to keep? ",1),Co,(_(!0),M(R,null,ut(u(u(Ze)),(h,w)=>{var C,S,v,$,k,x,q,V;return _(),M("div",{key:h.id,class:"conflict-container"},[f("div",{onClick:ve=>c(w),class:ne({selected:n.value[w]==="cloud"})},[f("h2",null,[m(" Cloud "),((C=h.cloud.time)!=null?C:0)>((S=h.local.time)!=null?S:0)?(_(),M("span",So,"(more recent)")):D("",!0),((v=h.cloud.timePlayed)!=null?v:0)>(($=h.local.timePlayed)!=null?$:0)?(_(),M("span",ko,"(more playtime)")):D("",!0)]),s($n,{save:h.cloud,readonly:!0},null,8,["save"])],10,No),f("div",{onClick:ve=>a(w),class:ne({selected:n.value[w]==="local"})},[f("h2",null,[m(" Local "),((k=h.cloud.time)!=null?k:0)<=((x=h.local.time)!=null?x:0)?(_(),M("span",Mo,"(more recent)")):D("",!0),((q=h.cloud.timePlayed)!=null?q:0)<=((V=h.local.timePlayed)!=null?V:0)?(_(),M("span",Po,"(more playtime)")):D("",!0)]),s($n,{save:h.local,readonly:!0},null,8,["save"])],10,Io),f("div",{onClick:ve=>o(w),class:ne({selected:n.value[w]==="both"}),style:{"flex-basis":"30%"}},Ro,10,$o)])}),128))]),footer:B(()=>[f("div",{class:"cloud-saves-footer"},[f("button",{onClick:d,class:"button"},"Confirm")])]),_:1},8,["modelValue"]))}});var Do=K(Oo,[["__scopeId","data-v-b1b6a34a"]]);function Cn(e,t="points",n=0,r=void 0){const i=ye(e)?e:xe(e);if(i.displayName=t,i.precision=n,i.small=r,!ye(e)){const a=i[et];a.displayName=t,a.precision=n,a.small=r}return i}function Ar(e){const t=xe(e.value);return Ve(e,n=>{Rn.value||l.gt(n,t.value)&&(t.value=n)}),t}function qo(e){const t=xe(e.value);return Ve(e,(n,r)=>{Rn.value||l.gt(n,r)&&(t.value=l.add(t.value,l.sub(n,r)))}),t}const Fo=new l("10^^8"),Vo=new l("1e100");function Bn(e,t){const n=F(0),r=F(0),i=F(0);return Ne.on("update",c=>{if(r.value=0,l.lte(e.value,Vo)){i.value=e.value;return}let o=e.value,d=i.value;if(i.value=o,l.gt(o,d))if(l.gte(o,Fo))o=l.slog(o,1e10),d=l.slog(d,1e10),n.value=o.sub(d).div(c),r.value=-1;else for(;l.div(o,d).log(10).div(c).gte("100")&&r.value<=5&&l.gt(d,0);)o=l.log10(o),d=l.log10(d),n.value=o.sub(d).div(c),r.value++}),I(()=>r.value===0?t?ae(t.value,e.precision,e.small)+" "+e.displayName+"/s":"":ae(n.value)+" OOM"+(r.value<0?"^OOM":"^"+r.value)+"s/sec")}function Ft(e,t){const n=t!=null?t:e.value;return l.eq(e.precision,0)?Pe(e.small?n:l.floor(n)):ae(n,e.precision,e.small)}const Eo=["x1","y1","x2","y2"],Ao=z({__name:"Link",props:{link:null,startNode:null,endNode:null,boundingRect:null},setup(e){const t=e,n=Ce(t),r=I(()=>{const c=n.startNode.value.rect,o=n.boundingRect.value,d=o?{x:c.x+c.width/2-o.x,y:c.y+c.height/2-o.y}:{x:0,y:0};return n.link.value.offsetStart&&(d.x+=n.link.value.offsetStart.x,d.y+=n.link.value.offsetStart.y),d}),i=I(()=>{const c=n.endNode.value.rect,o=n.boundingRect.value,d=o?{x:c.x+c.width/2-o.x,y:c.y+c.height/2-o.y}:{x:0,y:0};return n.link.value.offsetEnd&&(d.x+=n.link.value.offsetEnd.x,d.y+=n.link.value.offsetEnd.y),d}),a=I(()=>Al(t.link));return(c,o)=>(_(),M("line",it({"stroke-width":"15px",stroke:"white"},u(a),{x1:u(r).x,y1:u(r).y,x2:u(i).x,y2:u(i).y}),null,16,Eo))}});const Lo=z({__name:"Links",props:{links:null},setup(e){var d;const n=He(e,"links"),r=F(null),i=fn(En,F({})),a=fn(An,F(void 0)),c=F((d=r.value)==null?void 0:d.getBoundingClientRect());Ve(a,()=>{var p;return c.value=(p=r.value)==null?void 0:p.getBoundingClientRect()}),Zt(()=>{var p;return c.value=(p=r.value)==null?void 0:p.getBoundingClientRect()});const o=I(()=>{var b,h;const p=i.value;return(h=(b=n.value)==null?void 0:b.filter(w=>{var C,S;return((C=p[w.startNode.id])==null?void 0:C.rect)&&((S=p[w.endNode.id])==null?void 0:S.rect)}))!=null?h:[]});return(p,b)=>(_(),M(R,null,[u(o)?(_(),M("svg",ti(it({key:0},p.$attrs)),[(_(!0),M(R,null,ut(u(o),(h,w)=>(_(),G(Ao,{key:w,link:h,boundingRect:c.value,startNode:u(i)[h.startNode.id],endNode:u(i)[h.endNode.id]},null,8,["link","boundingRect","startNode","endNode"]))),128))],16)):D("",!0),f("div",{ref_key:"resizeListener",ref:r,class:"resize-listener"},null,512)],64))}});var Uo=K(Lo,[["__scopeId","data-v-eda31b5c"]]),Bo=z({props:{nodes:{type:E(Array),required:!0},leftSideNodes:E(Array),rightSideNodes:E(Array),branches:E(Array)},components:{Links:Uo},setup(e){const{nodes:t,leftSideNodes:n,rightSideNodes:r}=Ce(e),i=Re();Ee(()=>{const o=we(t);i.value=Y(O(()=>s(R,null,[o.map(d=>s("span",{class:"row tree-row",style:"margin: 50px auto;"},[d.map(Ae)]))])))});const a=Re();Ee(()=>{const o=we(n);a.value=o?Y(O(()=>s("span",{class:"left-side-nodes small"},[o.map(Ae)]))):""});const c=Re();return Ee(()=>{const o=we(r);c.value=o?Y(O(()=>s("span",{class:"side-nodes small"},[o.map(Ae)]))):""}),{unref:u,nodesComp:i,leftNodesComp:a,rightNodesComp:c}}});function Go(e,t,n,r,i,a){const c=De("Links");return _(),M(R,null,[(_(),G(ue(e.nodesComp))),e.leftNodesComp?(_(),G(ue(e.leftNodesComp),{key:0})):D("",!0),e.rightNodesComp?(_(),G(ue(e.rightNodesComp),{key:1})):D("",!0),e.branches?(_(),G(c,{key:2,links:e.unref(e.branches)},null,8,["links"])):D("",!0)],64)}var jo=K(Bo,[["render",Go],["__scopeId","data-v-39ca96d0"]]);const zo={key:0},Ho={key:0,class:"mark star"},Wo=["src"],Qo=z({__name:"MarkNode",props:{mark:{type:[Boolean,String]}},setup(e){return(t,n)=>e.mark?(_(),M("div",zo,[e.mark===!0?(_(),M("div",Ho)):(_(),M("img",{key:1,class:"mark",src:e.mark},null,8,Wo))])):D("",!0)}});var Nn=K(Qo,[["__scopeId","data-v-2207999f"]]);const Yo=z({__name:"Node",props:{id:null},setup(e){const n=Ce(e),r=fn(Fn,()=>{}),i=fn(Vn,()=>{}),a=Re(null),c=I(()=>a.value&&a.value.parentElement);return Ve([c,n.id],([o,d],[p,b])=>{p&&i(u(b)),o&&r(d,o)}),_r(()=>i(u(n.id))),(o,d)=>(_(),M("div",{class:"node",ref_key:"node",ref:a},null,512))}});var je=K(Yo,[["__scopeId","data-v-a48cb382"]]);const Jo=z({props:{display:E(Object,String,Function),visibility:{type:E(Number,Boolean),required:!0},style:E(String,Object,Array),classes:E(Object),onClick:Function,onHold:Function,color:E(String),glowColor:E(String),canClick:{type:E(Boolean),required:!0},mark:E(Boolean,String),id:{type:String,required:!0}},components:{MarkNode:Nn,Node:je},setup(e){const{onClick:t,onHold:n,display:r}=Ce(e),i=nn(r),{start:a,stop:c}=Vr(t,n);return{start:a,stop:c,comp:i,unref:u,Visibility:de,isCoercableComponent:ze,isVisible:We,isHidden:Et}}});function Ko(e,t,n,r,i,a){var d;const c=De("MarkNode"),o=De("Node");return e.isVisible(e.visibility)?(_(),M("div",{key:0,style:Ie({visibility:e.isHidden(e.visibility)?"hidden":void 0}),class:ne({treeNode:!0,can:e.unref(e.canClick),...e.unref(e.classes)}),onClick:t[0]||(t[0]=(...p)=>e.onClick&&e.onClick(...p)),onMousedown:t[1]||(t[1]=(...p)=>e.start&&e.start(...p)),onMouseleave:t[2]||(t[2]=(...p)=>e.stop&&e.stop(...p)),onMouseup:t[3]||(t[3]=(...p)=>e.stop&&e.stop(...p)),onTouchstartPassive:t[4]||(t[4]=(...p)=>e.start&&e.start(...p)),onTouchendPassive:t[5]||(t[5]=(...p)=>e.stop&&e.stop(...p)),onTouchcancelPassive:t[6]||(t[6]=(...p)=>e.stop&&e.stop(...p))},[f("div",{style:Ie([{backgroundColor:e.unref(e.color),boxShadow:`-4px -4px 4px rgba(0, 0, 0, 0.25) inset, 0 0 20px ${e.unref(e.glowColor)}`},(d=e.unref(e.style))!=null?d:[]])},[(_(),G(ue(e.unref(e.comp))))],4),s(c,{mark:e.unref(e.mark)},null,8,["mark"]),s(o,{id:e.id},null,8,["id"])],38)):D("",!0)}var Zo=K(Jo,[["render",Ko],["__scopeId","data-v-e4c9ef56"]]);const Xo=Symbol("TreeNode"),eu=Symbol("Tree");function tu(e,...t){const n=t.reduce((r,i)=>{var a;return Object.assign(r,(a=i.getPersistentData)==null?void 0:a.call(i))},{});return Se(r=>{var c,o,d;const i=(c=e==null?void 0:e.call(r,r))!=null?c:{};i.id=gt("treeNode-"),i.type=Xo,i[Oe]=Zo;for(const p of t)(o=p.preConstruct)==null||o.call(p,i);Object.assign(n),T(i,"visibility"),te(i,"visibility",de.Visible),T(i,"canClick"),te(i,"canClick",!0),T(i,"color"),T(i,"display"),T(i,"glowColor"),T(i,"classes"),T(i,"style"),T(i,"mark");for(const p of t)(d=p.postConstruct)==null||d.call(p,i);if(i.onClick){const p=i.onClick.bind(i);i.onClick=function(b){u(i.canClick)!==!1&&p(b)}}if(i.onHold){const p=i.onHold.bind(i);i.onHold=function(){u(i.canClick)!==!1&&p()}}const a=t.reduce((p,b)=>{var h;return Object.assign(p,(h=b.getGatheredProps)==null?void 0:h.call(b,i))},{});return i[Fe]=function(){const{display:p,visibility:b,style:h,classes:w,onClick:C,onHold:S,color:v,glowColor:$,canClick:k,mark:x,id:q}=this;return{display:p,visibility:b,style:h,classes:w,onClick:C,onHold:S,color:v,glowColor:$,canClick:k,mark:x,id:q,...a}},i})}function nu(e){return Se(t=>{const n=e.call(t,t);return n.id=gt("tree-"),n.type=eu,n[Oe]=jo,n.isResetting=F(!1),n.resettingNode=Re(null),n.reset=function(r){var a,c;const i=n;i.isResetting.value=!0,i.resettingNode.value=r,(a=i.resetPropagation)==null||a.call(i,i,r),(c=i.onReset)==null||c.call(i,r),i.isResetting.value=!1,i.resettingNode.value=null},n.links=I(()=>{var i;return(i=u(n.branches))!=null?i:[]}),T(n,"visibility"),te(n,"visibility",de.Visible),T(n,"nodes"),T(n,"leftSideNodes"),T(n,"rightSideNodes"),T(n,"branches"),n[Fe]=function(){const{nodes:r,leftSideNodes:i,rightSideNodes:a,branches:c}=this;return{nodes:r,leftSideNodes:i,rightSideNodes:a,branches:c}},n})}const ru=function(e,t){var a;const n=u(e.branches);if(n==null)return;const r=[];let i=[t];for(;i.length!==0;){const c=[];for(const o of i)for(const d of n.filter(p=>p.startNode===o))[...r,...i].includes(d.endNode)||(c.push(d.endNode),(a=d.endNode.reset)==null||a.reset());r.push(...i),i=c}};function Gn(e,t=null,n=0){const r=_e(n);return I(()=>t==null||l.gte(e.value,u(r))?Ft(e)+" "+e.displayName:`Reach ${l.eq(t.precision,0)?Pe(u(r)):ae(u(r),t.precision)} ${t.displayName} to unlock (You have ${l.eq(t.precision,0)?Pe(t.value):ae(t.value,t.precision)})`)}function oe(e){return Se(t=>{var r;const n=e.call(t,t);return n.partialDisplay=i=>s("span",{style:u(n.requirementMet)?"":"color: var(--danger)"},[Ft(n.resource,n.cost instanceof g?dn(n.cost,i!=null?i:1,u(n.cumulativeCost),u(n.directSum)):u(n.cost))," ",n.resource.displayName]),n.display=i=>s("div",null,[u(n.requiresPay)?"Costs: ":"Requires: ",Ft(n.resource,n.cost instanceof g?dn(n.cost,i!=null?i:1,u(n.cumulativeCost),u(n.directSum)):u(n.cost))," ",n.resource.displayName]),T(n,"visibility"),te(n,"visibility",de.Visible),T(n,"cost"),T(n,"requiresPay"),te(n,"requiresPay",!0),T(n,"cumulativeCost"),te(n,"cumulativeCost",!0),T(n,"maxBulkAmount"),te(n,"maxBulkAmount",1),T(n,"directSum"),te(n,"pay",function(i){const a=n.cost instanceof g?dn(n.cost,i!=null?i:1,u(n.cumulativeCost),u(n.directSum)):u(n.cost);n.resource.value=l.sub(n.resource.value,a).max(0)}),n.canMaximize=I(()=>{var o;if(!(n.cost instanceof g))return!1;const i=u(n.maxBulkAmount);if(l.lte(i,1))return!1;const a=u(n.cumulativeCost),c=(o=u(n.directSum))!=null?o:a?10:0;return l.lte(i,c)?!0:!(!n.cost.isInvertible()||a===!0&&!n.cost.isIntegrable())}),n.cost instanceof g?n.requirementMet=cl(n.cost,n.resource,(r=n.cumulativeCost)!=null?r:!0,n.directSum,n.maxBulkAmount):n.requirementMet=I(()=>l.gte(n.resource.value,u(n.cost))?1:0),n})}function jn(e){return Se(()=>({requirementMet:I(()=>We(e.visibility)),visibility:de.None,requiresPay:!1}))}function Mt(e,t){return Se(()=>({requirementMet:_e(e),partialDisplay:t==null?void 0:O(()=>Ae(t)),display:t==null?void 0:O(()=>s(R,null,[m("Req: "),Ae(t)])),visibility:t==null?de.None:de.Visible,requiresPay:!1}))}function Sn(e){if(rt(e))return e.every(Sn);const t=u(e.requirementMet);return typeof t=="boolean"?t:l.gt(t,0)}function Lr(e){if(rt(e))return e.map(Lr).reduce(l.min);const t=u(e.requirementMet);return typeof t=="boolean"?t?l.dInf:0:l.gt(t,1)&&u(e.canMaximize)!==!0?1:t}function kn(e,t=1){var n,r;if(rt(e)&&(e=e.filter(i=>We(i.visibility)),e.length===1&&(e=e[0])),rt(e)){e=e.filter(c=>"partialDisplay"in c);const i=e.filter(c=>u(c.requiresPay)),a=e.filter(c=>!u(c.requiresPay));return s(R,null,[i.length>0?s("div",null,[m("Costs:")," ",hr(i.map(c=>c.partialDisplay(t)),s(R,null,[m(", ")]))]):null,a.length>0?s("div",null,[m("Requires:")," ",hr(a.map(c=>c.partialDisplay(t)),s(R,null,[m(", ")]))]):null])}return(r=(n=e.display)==null?void 0:n.call(e))!=null?r:s(R,null,null)}function Ur(e,t=1){var n;rt(e)?e.filter(r=>u(r.requiresPay)).forEach(r=>{var i;return(i=r.pay)==null?void 0:i.call(r,t)}):u(e.requiresPay)&&((n=e.pay)==null||n.call(e,t))}function iu(e,...t){return Se(n=>{var i,a;const r=e.call(n,n);for(const c of t)(i=c.preConstruct)==null||i.call(c,r);r.formula=r.formula(g.variable(r.baseResource)),r.currentGain==null&&(r.currentGain=I(()=>{let c=l.floor(r.formula.evaluate(r.baseResource.value)).max(0);return u(r.buyMax)===!1&&(c=c.min(1)),c})),r.actualGain==null&&(r.actualGain=r.currentGain),r.currentAt==null&&(r.currentAt=I(()=>r.formula.invert(l.floor(u(r.currentGain))))),r.nextAt==null&&(r.nextAt=I(()=>r.formula.invert(l.floor(u(r.currentGain)).add(1)))),r.convert==null&&(r.convert=function(){var o;const c=u(r.currentGain);r.gainResource.value=l.add(r.gainResource.value,c),r.spend(c),(o=r.onConvert)==null||o.call(r,c)}),r.spend==null&&(r.spend=function(){r.baseResource.value=0}),T(r,"currentGain"),T(r,"actualGain"),T(r,"currentAt"),T(r,"nextAt"),T(r,"buyMax"),te(r,"buyMax",!0);for(const c of t)(a=c.postConstruct)==null||a.call(c,r);return r})}function Br(e){return iu(e)}const Gr=e=>(Le("data-v-a9d9ee8a"),e=e(),Ue(),e),au=Gr(()=>f("div",{class:"key"},"Ctrl",-1)),su=Gr(()=>f("div",{class:"key"},"Shift",-1)),lu={class:"key"},ou=z({__name:"Hotkey",props:{hotkey:null},setup(e){const t=e;let n="",r=!1,i=!1,a=!1;return Ee(()=>{n=t.hotkey.key,r=n.startsWith("ctrl+"),r&&(n=n.slice(5)),i=n.startsWith("shift+"),i&&(n=n.slice(6)),a=n.length==1&&n.toLowerCase()!=n.toUpperCase(),a&&(n=n.toUpperCase())}),(c,o)=>(_(),M(R,null,[u(r)?(_(),M(R,{key:0},[au,m("+")],64)):D("",!0),u(i)?(_(),M(R,{key:1},[su,m("+")],64)):D("",!0),f("div",lu,W(u(n)),1)],64))}});var jr=K(ou,[["__scopeId","data-v-a9d9ee8a"]]);const Kt=vn({}),zn=Symbol("Hotkey"),Gt=[")","!","@","#","$","%","^","&","*","("];function Hn(e){return Se(t=>{const n=e.call(t,t);return n.type=zn,T(n,"enabled"),te(n,"enabled",!0),T(n,"description"),n})}Ne.on("addLayer",e=>{qn(e,zn).forEach(t=>{Kt[t.key]=t})});Ne.on("removeLayer",e=>{qn(e,zn).forEach(t=>{Kt[t.key]=void 0})});document.onkeydown=function(e){var r,i;if(((r=e.target)==null?void 0:r.tagName)==="INPUT"||Kn.value&&!A.keepGoing)return;const t=[e.key];e.shiftKey&&e.ctrlKey?(t.splice(0,1),t.push("ctrl+shift+"+e.key.toUpperCase()),t.push("shift+ctrl+"+e.key.toUpperCase()),Gt.includes(e.key)?(t.push("ctrl+shift+"+Gt.indexOf(e.key)),t.push("shift+ctrl+"+Gt.indexOf(e.key))):(t.push("ctrl+shift+"+e.key.toLowerCase()),t.push("shift+ctrl+"+e.key.toLowerCase()))):Gt.includes(e.key)?(t.push("shift+"+e.key),t.push("shift+"+Gt.indexOf(e.key))):e.shiftKey?(t.push("shift+"+e.key.toUpperCase()),t.push("shift+"+e.key.toLowerCase())):e.ctrlKey&&(t.splice(0,1),t.push("ctrl+"+e.key));const n=Kt[(i=t.find(a=>a in Kt))!=null?i:""];n&&u(n.enabled)&&(e.preventDefault(),n.onPress())};la(O(()=>{const e=Object.values(Kt).filter(t=>u(t==null?void 0:t.enabled));return e.length===0?"":s("div",null,[s("div",{style:"column-count: 2"},[e.map(t=>s("div",null,[s(jr,{hotkey:t},null),m(" "),t==null?void 0:t.description]))])])}));const uu=Symbol("Reset");function Wn(e){return Se(t=>{const n=e.call(t,t);return n.id=gt("reset-"),n.type=uu,n.reset=function(){var i;const r=a=>{if(a!=null&&typeof a=="object"&&!(a instanceof l)&&!(a instanceof g)){if(Jt in a&&a[Jt]===!0)return;if(_t in a){const c=a;c.value=c[_t]}else!(a instanceof l)&&!ye(a)&&Object.values(a).forEach(c=>r(c))}};u(n.thingsToReset).forEach(r),Ne.emit("reset",n),(i=n.onReset)==null||i.call(n)},T(n,"thingsToReset"),n})}const un={};Ne.on("removeLayer",e=>{var t;(t=un[e.id])==null||t.call(un),un[e.id]=void 0});function Qn(e,t){return T(t,"display"),T(t,"classes"),T(t,"style"),T(t,"direction"),te(t,"direction",fe.Up),T(t,"xoffset"),T(t,"yoffset"),t.pinnable&&(t.pinned=xe(!1,!1)),It(()=>{const n=e[Oe];e[Oe]=be;const r=e[Fe].bind(e);e[Fe]=function(){const{display:a,classes:c,style:o,direction:d,xoffset:p,yoffset:b,pinned:h}=this;return{element:{[Oe]:n,[Fe]:r},display:a,classes:c,style:u(o),direction:d,xoffset:p,yoffset:b,pinned:h}}.bind(t)}),t}const cu=z({__name:"Collapsible",props:{collapsed:null,display:null,content:null},setup(e){const t=e,n=qt(He(t,"display")),r=qt(He(t,"content"));return(i,a)=>(_(),G(Dt,{class:"collapsible-container"},{default:B(()=>[f("button",{onClick:a[0]||(a[0]=c=>e.collapsed.value=!e.collapsed.value),class:"feature collapsible-toggle"},[(_(),G(ue(u(n))))]),e.collapsed.value?D("",!0):(_(),G(ue(u(r)),{key:0}))]),_:1}))}});var du=K(cu,[["__scopeId","data-v-0e88b12f"]]);var gu=z({props:{display:{type:E(Object,String,Function),required:!0},visibility:{type:E(Number,Boolean),required:!0},style:E(Object,String,Array),classes:E(Object),onClick:Function,onHold:Function,canClick:{type:E(Boolean),required:!0},small:Boolean,mark:E(Boolean,String),id:{type:String,required:!0}},components:{Node:je,MarkNode:Nn},setup(e){const{display:t,onClick:n,onHold:r}=Ce(e),i=Re("");Ee(()=>{var b;const o=we(t);if(o==null){i.value="";return}if(ze(o)){i.value=Y(o);return}const d=Y((b=o.title)!=null?b:"","h3"),p=Y(o.description,"div");i.value=Y(O(()=>s("span",null,[o.title!=null?s("div",null,[s(d,null,null)]):null,s(p,null,null)])))});const{start:a,stop:c}=Vr(n,r);return{start:a,stop:c,comp:i,Visibility:de,isVisible:We,isHidden:Et,unref:u}}});function fu(e,t,n,r,i,a){var d;const c=De("MarkNode"),o=De("Node");return e.isVisible(e.visibility)?(_(),M("button",{key:0,style:Ie([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[]]),onClick:t[0]||(t[0]=(...p)=>e.onClick&&e.onClick(...p)),onMousedown:t[1]||(t[1]=(...p)=>e.start&&e.start(...p)),onMouseleave:t[2]||(t[2]=(...p)=>e.stop&&e.stop(...p)),onMouseup:t[3]||(t[3]=(...p)=>e.stop&&e.stop(...p)),onTouchstartPassive:t[4]||(t[4]=(...p)=>e.start&&e.start(...p)),onTouchendPassive:t[5]||(t[5]=(...p)=>e.stop&&e.stop(...p)),onTouchcancelPassive:t[6]||(t[6]=(...p)=>e.stop&&e.stop(...p)),class:ne({feature:!0,clickable:!0,can:e.unref(e.canClick),locked:!e.unref(e.canClick),small:e.small,...e.unref(e.classes)})},[e.unref(e.comp)?(_(),G(ue(e.unref(e.comp)),{key:0})):D("",!0),s(c,{mark:e.unref(e.mark)},null,8,["mark"]),s(o,{id:e.id},null,8,["id"])],38)):D("",!0)}var zr=K(gu,[["render",fu],["__scopeId","data-v-211328c0"]]);const pu=Symbol("Clickable");function Ct(e,...t){const n=t.reduce((r,i)=>{var a;return Object.assign(r,(a=i.getPersistentData)==null?void 0:a.call(i))},{});return Se(r=>{var c,o,d;const i=(c=e==null?void 0:e.call(r,r))!=null?c:{};i.id=gt("clickable-"),i.type=pu,i[Oe]=zr;for(const p of t)(o=p.preConstruct)==null||o.call(p,i);if(Object.assign(i,n),T(i,"visibility"),te(i,"visibility",de.Visible),T(i,"canClick"),te(i,"canClick",!0),T(i,"classes"),T(i,"style"),T(i,"mark"),T(i,"display"),i.onClick){const p=i.onClick.bind(i);i.onClick=function(b){u(i.canClick)!==!1&&p(b)}}if(i.onHold){const p=i.onHold.bind(i);i.onHold=function(){u(i.canClick)!==!1&&p()}}for(const p of t)(d=p.postConstruct)==null||d.call(p,i);const a=t.reduce((p,b)=>{var h;return Object.assign(p,(h=b.getGatheredProps)==null?void 0:h.call(b,i))},{});return i[Fe]=function(){const{display:p,visibility:b,style:h,classes:w,onClick:C,onHold:S,canClick:v,small:$,mark:k,id:x}=this;return{display:p,visibility:b,style:u(h),classes:w,onClick:C,onHold:S,canClick:v,small:$,mark:k,id:x,...a}},i})}function Hr(e){return Ct(t=>{const n=e.call(t,t);T(n,"showNextAt"),te(n,"showNextAt",!0),te(n,"minimumGain",1),n.resetDescription==null?n.resetDescription=I(()=>l.lt(n.conversion.gainResource.value,1e3)?"Reset for ":""):T(n,"resetDescription"),n.display==null&&(n.display=O(()=>s("span",null,[u(n.resetDescription),s("b",null,[Ft(n.conversion.gainResource,l.max(u(n.conversion.actualGain),u(n.minimumGain)))])," ",n.conversion.gainResource.displayName,u(!0)!=null?s("div",null,[s("br",null,null),u(n.conversion.buyMax)?"Next:":"Req:"," ",Ft(n.conversion.baseResource,!u(n.conversion.buyMax)&&l.gte(u(n.conversion.actualGain),1)?u(n.conversion.currentAt):u(n.conversion.nextAt))," ",n.conversion.baseResource.displayName]):null]))),n.canClick==null&&(n.canClick=I(()=>l.gte(u(n.conversion.actualGain),u(n.minimumGain))));const r=n.onClick;return n.onClick=function(i){u(n.canClick)!==!1&&(n.conversion.convert(),n.tree.reset(n.treeNode),n.resetTime&&(n.resetTime.value=n.resetTime[_t]),r==null||r(i))},n})}function Yn(e){return tu(t=>{const n=e.call(t,t);return te(n,"display",Tr(n.layerID)),T(n,"append"),{...n,onClick:u(n.append)?function(){if(A.tabs.includes(n.layerID)){const r=A.tabs.lastIndexOf(n.layerID);A.tabs.splice(r,1)}else A.tabs.push(n.layerID)}:function(){A.tabs.splice(1,1,n.layerID)}}})}function mu(e){const t=[],n={};let r=!1;function i(){return r||(t.push(...e()),n.base=t.map(o=>_e(o.base)),n.baseText=t.map(o=>_e(o.baseText)),n.visible=t.map(o=>_e(o.visible)),n.title=t.map(o=>_e(o.title)),n.subtitle=t.map(o=>_e(o.subtitle)),r=!0),t}const a=xe({},!1);return[O(()=>{const o=i();let d=!0;const p=o.map((b,h)=>{var k,x,q;if(u(n.visible[h])===!1)return null;const w=s("h3",{onClick:()=>a.value[h]=!a.value[h],style:"cursor: pointer"},[s("span",{class:"modifier-toggle"+(u(a.value[h])?" collapsed":"")},[m("\u25BC")]),u(n.title[h]),u(n.subtitle[h])!=null?s("span",{class:"subtitle"},[m(" ("),u(n.subtitle[h]),m(")")]):null]),C=u(a.value[h])?null:s(R,null,[s("div",{class:"modifier-container"},[s("span",{class:"modifier-description"},[Ae((k=u(n.baseText[h]))!=null?k:"Base")]),s("span",{class:"modifier-amount"},[ae((x=u(n.base[h]))!=null?x:1),b.unit])]),b.modifier.description==null?null:Ae(u(b.modifier.description))]),S=!d;d=!1;const v=(q=u(n.base[h]))!=null?q:1,$=b.modifier.apply(v);return s(R,null,[S?s("br",null,null):null,s("div",{style:{"--unit":j.alignUnits&&b.unit!=null?"'"+b.unit+"'":""}},[w,s("br",null,null),C,s("hr",null,null),s("div",{class:"modifier-container"},[s("span",{class:"modifier-description"},[m("Total")]),s("span",{class:"modifier-amount",style:(b.smallerIsBetter===!0?l.gt($,v!=null?v:1):l.lt($,v!=null?v:1))?"color: var(--danger)":""},[_n($),b.unit])])])])});return s(R,null,[p])}),a]}function hu(e){const t=Object.values(e).reverse(),n=xe(!0,!1),r=I(()=>t.filter(d=>d.earned.value===!1)),{firstFeature:i,collapsedContent:a,hasCollapsedContent:c}=El(t,d=>d.earned.value),o=O(()=>{const d=[...r.value];return i.value&&d.push(i.value),Vl(...d,O(()=>bn(s(du,{collapsed:n,content:a,display:n.value?"Show other completed milestones":"Hide other completed milestones"},null),[[br,u(c)]])))});return{collapseAchievements:n,display:o}}function Pt(e,t,n){const[r,i]=mu(t),a=_e(e);fl(i);const c=F(!1);return O(()=>s(R,null,[s("button",{class:"button",style:{display:"inline-block",fontSize:n!=null?n:"20px"},onClick:()=>c.value=!0},[m("\u{1F6C8}")]),s(Qe,{modelValue:c.value,"onUpdate:modelValue":o=>c.value=o},{header:()=>s("h2",null,[u(a)]),body:r})]))}var vu=z({props:{display:{type:E(String,Object,Function),required:!0},visibility:{type:E(Number,Boolean),required:!0},style:E(String,Object,Array),classes:E(Object),requirements:{type:Object,required:!0},canPurchase:{type:E(Boolean),required:!0},bought:{type:E(Boolean),required:!0},mark:E(Boolean,String),id:{type:String,required:!0},purchase:{type:Function,required:!0}},components:{Node:je,MarkNode:Nn},setup(e){const{display:t,requirements:n,bought:r}=Ce(e),i=Re("");return Ee(()=>{const a=we(t);if(a==null){i.value="";return}if(ze(a)){i.value=Y(a);return}const c=Y(a.title||"","h3"),o=Y(a.description,"div"),d=Y(a.effectDisplay||"");i.value=Y(O(()=>s("span",null,[a.title!=null?s("div",null,[s(c,null,null)]):null,s(o,null,null),a.effectDisplay!=null?s("div",null,[m("Currently: "),s(d,null,null)]):null,r.value?null:s(R,null,[s("br",null,null),kn(n.value)])])))}),{component:i,unref:u,Visibility:de,isVisible:We,isHidden:Et}}});const bu=["disabled"];function yu(e,t,n,r,i,a){var d;const c=De("MarkNode"),o=De("Node");return e.isVisible(e.visibility)?(_(),M("button",{key:0,style:Ie([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:{}]),onClick:t[0]||(t[0]=(...p)=>e.purchase&&e.purchase(...p)),class:ne({feature:!0,upgrade:!0,can:e.unref(e.canPurchase),locked:!e.unref(e.canPurchase),bought:e.unref(e.bought),...e.unref(e.classes)}),disabled:!e.unref(e.canPurchase)},[e.unref(e.component)?(_(),G(ue(e.unref(e.component)),{key:0})):D("",!0),s(c,{mark:e.unref(e.mark)},null,8,["mark"]),s(o,{id:e.id},null,8,["id"])],14,bu)):D("",!0)}var _u=K(vu,[["render",yu],["__scopeId","data-v-9be6bac0"]]);const Wr=Symbol("Upgrade");function ce(e,...t){const n=xe(!1,!1),r=t.reduce((i,a)=>{var c;return Object.assign(i,(c=a.getPersistentData)==null?void 0:c.call(a))},{});return Se(i=>{var d,p;const a=e.call(i,i);a.id=gt("upgrade-"),a.type=Wr,a[Oe]=_u;for(const b of t)(d=b.preConstruct)==null||d.call(b,a);a.bought=n,Object.assign(a,r),a.canPurchase=I(()=>!n.value&&Sn(a.requirements)),a.purchase=function(){var h;const b=a;!u(b.canPurchase)||(Ur(a.requirements),n.value=!0,(h=b.onPurchase)==null||h.call(b))};const c=jn(a);rt(a.requirements)?a.requirements.unshift(c):a.requirements=[c,a.requirements],T(a,"visibility"),te(a,"visibility",de.Visible),T(a,"classes"),T(a,"style"),T(a,"display"),T(a,"mark");for(const b of t)(p=b.postConstruct)==null||p.call(b,a);const o=t.reduce((b,h)=>{var w;return Object.assign(b,(w=h.getGatheredProps)==null?void 0:w.call(h,a))},{});return a[Fe]=function(){const{display:b,visibility:h,style:w,classes:C,requirements:S,canPurchase:v,bought:$,mark:k,id:x,purchase:q}=this;return{display:b,visibility:h,style:u(w),classes:C,requirements:S,canPurchase:v,bought:$,mark:k,id:x,purchase:q,...o}},a})}function Tt(e,t,n=[]){n=n.length===0?qn(e,Wr):n;const r=pn(t)?I(t):t;e.on("update",()=>{u(r)&&n.forEach(i=>i.purchase())})}function ee(e){return Se(t=>{const{multiplier:n,description:r,enabled:i,smallerIsBetter:a}=e.call(t,t),c=_e(n),o=_e(r),d=i==null?void 0:_e(i);return{apply:p=>l.times(p,u(c)),invert:p=>l.div(p,u(c)),getFormula:p=>g.times(p,c),enabled:d,description:r==null?void 0:O(()=>s("div",{class:"modifier-container"},[u(o)!=null?s("span",{class:"modifier-description"},[Ae(u(o))]):null,s("span",{class:"modifier-amount",style:(a===!0?l.gt(u(c),1):l.lt(u(c),1))?"color: var(--danger)":""},[m("\xD7"),_n(u(c))])]))}})}function wu(e){return Se(t=>{const{exponent:n,description:r,enabled:i,supportLowNumbers:a,smallerIsBetter:c}=e.call(t,t),o=_e(n),d=_e(r),p=i==null?void 0:_e(i);return{apply:b=>{let h=b;return a&&(h=l.add(h,1)),h=l.pow(h,u(o)),a&&(h=l.sub(h,1)),h},invert:b=>{let h=b;return a&&(h=l.add(h,1)),h=l.root(h,u(o)),a&&(h=l.sub(h,1)),h},getFormula:b=>a?g.add(b,1).pow(o).sub(1):g.pow(b,o),enabled:p,description:r==null?void 0:O(()=>s("div",{class:"modifier-container"},[u(d)!=null?s("span",{class:"modifier-description"},[Ae(u(d)),a?" (+1 effective)":null]):null,s("span",{class:"modifier-amount",style:(c===!0?l.gt(u(o),1):l.lt(u(o),1))?"color: var(--danger)":""},[m("^"),_n(u(o))])]))}})}function st(e){return Se(()=>{const t=e();return{apply:n=>t.filter(r=>u(r.enabled)!==!1).reduce((r,i)=>i.apply(r),n),invert:t.every(n=>n.invert!=null)?n=>t.filter(r=>u(r.enabled)!==!1).reduceRight((r,i)=>i.invert(r),n):void 0,getFormula:t.every(n=>n.getFormula!=null)?n=>t.reduce((r,i)=>i.enabled==null||i.enabled===!0?i.getFormula(r):g.if(r,i.enabled,a=>i.getFormula(a)),n):void 0,enabled:t.some(n=>n.enabled!=null)?I(()=>t.filter(n=>u(n.enabled)!==!1).length>0):void 0,description:t.some(n=>n.description!=null)?O(()=>s(R,null,[t.filter(n=>u(n.enabled)!==!1).map(n=>u(n.description)).filter(n=>n).map(Ae)])):void 0}})}const Rt=z({__name:"Resource",props:{resource:null,color:null},setup(e){const t=e,n=I(()=>Ft(t.resource));return(r,i)=>(_(),M("h2",{style:Ie({color:e.color,"text-shadow":"0px 0px 10px "+e.color})},W(u(n)),5))}}),kt=z({__name:"Spacer",props:{width:{default:"8px"},height:{default:"17px"}},setup(e){return(t,n)=>(_(),M("div",{style:Ie({width:e.width,height:e.height})},null,4))}}),Cu=z({__name:"Tab",props:{display:null},setup(e){const t=e,{display:n}=Ce(t),r=qt(n);return(i,a)=>(_(),G(ue(u(r))))}}),Nu=Symbol("Tab");function lt(e){return Se(t=>{const n=e.call(t,t);return n.id=gt("tab-"),n.type=Nu,n[Oe]=Cu,n[Fe]=function(){const{display:r}=this;return{display:r}},n})}const Su=z({props:{visibility:{type:E(Number,Boolean),required:!0},display:{type:E(Object,String,Function),required:!0},style:E(String,Object,Array),classes:E(Object),glowColor:E(String),active:Boolean,floating:Boolean},emits:["selectTab"],setup(e,{emit:t}){const{display:n,glowColor:r,floating:i}=Ce(e),a=qt(n),c=I(()=>{let d=we(r);return u(i)?((d==null||d==="")&&(d="var(--highlighted)"),{borderColor:`${e.active?"rgba(255, 255, 255, 0.25)":"rgba(0, 0, 0, 0.25)"}`,backgroundColor:`${d}`}):d==null||d===""?{}:{borderColor:`${e.active?d:"inherit"}`,borderBottomColor:`${e.active?d:"transparent"}`,boxShadow:`${e.active?"inset 0 -15px 10px -15px "+d:"none"}`}});function o(){t("selectTab")}return{selectTab:o,component:a,glowColorStyle:c,unref:u,Visibility:de,isVisible:We,isHidden:Et}}});function ku(e,t,n,r,i,a){var c;return e.isVisible(e.visibility)?(_(),M("button",{key:0,onClick:t[0]||(t[0]=(...o)=>e.selectTab&&e.selectTab(...o)),class:ne(["tabButton",{active:e.active,...e.unref(e.classes)}]),style:Ie([{visibility:e.isHidden(e.visibility)?"hidden":void 0},e.glowColorStyle,(c=e.unref(e.style))!=null?c:{}])},[(_(),G(ue(e.component)))],6)):D("",!0)}var Qr=K(Su,[["render",ku],["__scopeId","data-v-e5bdae70"]]);const Iu=z({__name:"Sticky",setup(e){const t=F("0"),n=new ResizeObserver(i),r=Re(null);function i(){let a=r.value;if(a==null)return;let c=0;for(;a.previousSibling;){const o=a.previousSibling;o.dataset&&"vSticky"in o.dataset&&(c+=o.offsetHeight),a=o}t.value=c+"px"}return It(i),document.fonts.ready.then(i),Zt(()=>{var c;const a=(c=r.value)==null?void 0:c.parentElement;a&&n.observe(a)}),(a,c)=>(_(),M("div",{class:"sticky",style:Ie({top:t.value}),ref_key:"element",ref:r,"data-v-sticky":""},[tt(a.$slots,"default",{},void 0,!0)],4))}});var Mu=K(Iu,[["__scopeId","data-v-cccac690"]]);const Pu=z({props:{visibility:{type:E(Number,Boolean),required:!0},activeTab:{type:E(Object),required:!0},selected:{type:Object,required:!0},tabs:{type:E(Object),required:!0},style:E(String,Object,Array),classes:E(Object),buttonContainerStyle:E(String,Object,Array),buttonContainerClasses:E(Object)},components:{Sticky:Mu,TabButton:Qr},setup(e){const{activeTab:t}=Ce(e),n=I(()=>Xt[j.theme].floatingTabs),r=Re("");Ee(()=>{const o=we(t);if(o==null){r.value="";return}if(ze(o)){r.value=Y(o);return}r.value=Y(u(o.display))});const i=I(()=>{const o=we(t);return ze(o)||!o?void 0:u(o.classes)}),a=I(()=>{const o=we(t);return ze(o)||!o?void 0:u(o.style)});function c(o){const{display:d,style:p,classes:b,glowColor:h,visibility:w}=o;return{display:d,style:u(p),classes:b,glowColor:h,visibility:w}}return{floating:n,tabClasses:i,tabStyle:a,Visibility:de,component:r,gatherButtonProps:c,unref:u,isVisible:We,isHidden:Et}}});function $u(e,t,n,r,i,a){var d,p;const c=De("TabButton"),o=De("Sticky");return e.isVisible(e.visibility)?(_(),M("div",{key:0,class:ne(["tab-family-container",{...e.unref(e.classes),...e.tabClasses}]),style:Ie([{visibility:e.isHidden(e.visibility)?"hidden":void 0},(d=e.unref(e.style))!=null?d:[],(p=e.tabStyle)!=null?p:[]])},[s(o,{class:ne(["tab-buttons-container",e.unref(e.buttonContainerClasses)]),style:Ie(e.unref(e.buttonContainerStyle))},{default:B(()=>[f("div",{class:ne(["tab-buttons",{floating:e.floating}])},[(_(!0),M(R,null,ut(e.unref(e.tabs),(b,h)=>(_(),G(c,it({onSelectTab:w=>e.selected.value=h,floating:e.floating,key:h,active:e.unref(b.tab)===e.unref(e.activeTab)},e.gatherButtonProps(b)),null,16,["onSelectTab","floating","active"]))),128))],2)]),_:1},8,["class","style"]),e.unref(e.activeTab)?(_(),G(ue(e.unref(e.component)),{key:0})):D("",!0)],6)):D("",!0)}var xu=K(Pu,[["render",$u],["__scopeId","data-v-4db6fe3c"]]);const Tu=Symbol("TabButton"),Ru=Symbol("TabFamily");function gn(e,t){Object.keys(e).length===0&&console.error("Cannot create tab family with 0 tabs");const n=xe(Object.keys(e)[0],!1);return Se(r=>{var c;const i=(c=t==null?void 0:t.call(r,r))!=null?c:{};i.id=gt("tabFamily-"),i.type=Ru,i[Oe]=xu,i.tabs=Object.keys(e).reduce((o,d)=>{const p=e[d]();return p.type=Tu,p[Oe]=Qr,T(p,"visibility"),te(p,"visibility",de.Visible),T(p,"tab"),T(p,"display"),T(p,"classes"),T(p,"style"),T(p,"glowColor"),o[d]=p,o},{}),i.selected=n,i.activeTab=I(()=>{const o=u(a.tabs);if(n.value in o&&We(o[n.value].visibility))return u(o[n.value].tab);const d=Object.values(o).find(p=>We(p.visibility));return d?u(d.tab):null}),T(i,"visibility"),te(i,"visibility",de.Visible),T(i,"classes"),T(i,"style"),T(i,"buttonContainerClasses"),T(i,"buttonContainerStyle"),i[Fe]=function(){const{visibility:o,activeTab:d,selected:p,tabs:b,style:h,classes:w,buttonContainerClasses:C,buttonContainerStyle:S}=this;return{visibility:o,activeTab:d,selected:p,tabs:b,style:u(h),classes:w,buttonContainerClasses:C,buttonContainerStyle:S}};const a=i;return a})}const Ou={class:"field"},Du={key:0,class:"field-title"},Jn=z({__name:"Select",props:{title:null,modelValue:null,options:null,placeholder:null,closeOnSelect:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){var c;const n=e,r=nn(He(n,"title"),"span"),i=F((c=n.options.find(o=>o.value===n.modelValue))!=null?c:null);Ve(He(n,"modelValue"),o=>{var d;we(i)!==o&&(i.value=(d=n.options.find(p=>p.value===o))!=null?d:null)});function a(o){t("update:modelValue",o.value)}return(o,d)=>(_(),M("div",Ou,[u(r)?(_(),M("span",Du,[(_(),G(ue(u(r))))])):D("",!0),s(u(oi),{options:e.options,modelValue:i.value,"onUpdate:modelValue":[d[0]||(d[0]=p=>i.value=p),a],min:1,"label-by":"label",placeholder:e.placeholder,"close-on-select":e.closeOnSelect},null,8,["options","modelValue","placeholder","close-on-select"])]))}});var qu=z({props:{visibility:{type:E(Number,Boolean),required:!0},display:E(Object,String,Function),earned:{type:E(Boolean),required:!0},requirements:E(Object,Array),image:E(String),style:E(String,Object,Array),classes:E(Object),mark:E(Boolean,String),small:E(Boolean),id:{type:String,required:!0}},components:{Node:je,MarkNode:Nn},setup(e){const{display:t,requirements:n,earned:r}=Ce(e),i=Re("");return Ee(()=>{const a=we(t);if(a==null){i.value="";return}if(ze(a)){i.value=Y(a);return}const c=Y(a.requirement?a.requirement:O(()=>{var p;return kn((p=we(n))!=null?p:[])}),"h3"),o=Y(a.effectDisplay||"","b"),d=we(r)?Y(a.optionsDisplay||"","span"):"";i.value=Y(O(()=>s("span",null,[s(c,null,null),a.effectDisplay!=null?s("div",null,[s(o,null,null)]):null,a.optionsDisplay!=null?s("div",{class:"equal-spaced"},[s(d,null,null)]):null])))}),{comp:i,unref:u,Visibility:de,isVisible:We,isHidden:Et}}});function Fu(e,t,n,r,i,a){var d;const c=De("MarkNode"),o=De("Node");return e.isVisible(e.visibility)?(_(),M("div",{key:0,style:Ie([{visibility:e.isHidden(e.visibility)?"hidden":void 0,backgroundImage:e.earned&&e.image&&`url(${e.image})`||""},(d=e.unref(e.style))!=null?d:[]]),class:ne({feature:!0,achievement:!0,locked:!e.unref(e.earned),done:e.unref(e.earned),small:e.unref(e.small),...e.unref(e.classes)})},[e.comp?(_(),G(ue(e.comp),{key:0})):D("",!0),s(c,{mark:e.unref(e.mark)},null,8,["mark"]),s(o,{id:e.id},null,8,["id"])],6)):D("",!0)}var Vu=K(qu,[["render",Fu],["__scopeId","data-v-5673325a"]]);Ne.on("setupVue",e=>e.use(ui));const Eu=Cr(),Au=Symbol("Achievement");let $t=function(e){return e.All="all",e.Configurable="configurable",e.Incomplete="incomplete",e.None="none",e}({});function jt(e,...t){const n=xe(!1,!1),r=t.reduce((i,a)=>{var c;return Object.assign(i,(c=a.getPersistentData)==null?void 0:c.call(a))},{});return Se(i=>{var d,p,b;const a=(d=e==null?void 0:e.call(i,i))!=null?d:{};a.id=gt("achievement-"),a.type=Au,a[Oe]=Vu;for(const h of t)(p=h.preConstruct)==null||p.call(h,a);a.earned=n,a.complete=function(){var w,C;if(n.value)return;n.value=!0;const h=a;if((w=h.onComplete)==null||w.call(h),h.display!=null&&u(h.showPopups)===!0){const S=u(h.display);let v;ze(S)?v=Y(S):S.requirement!=null?v=Y(S.requirement):v=kn((C=h.requirements)!=null?C:[]),Eu.info(s("div",null,[s("h3",null,[m("Milestone earned!")]),s("div",null,[s(v,null,null)])]))}},Object.assign(a,r),T(a,"visibility"),te(a,"visibility",de.Visible);const c=a.visibility;a.visibility=ni(()=>{const h=u(a.display);switch(j.msDisplay){default:case $t.All:return u(c);case $t.Configurable:return u(a.earned)&&!(h!=null&&typeof h=="object"&&"optionsDisplay"in h)?de.None:u(c);case $t.Incomplete:return u(a.earned)?de.None:u(c);case $t.None:return de.None}}),T(a,"display"),T(a,"mark"),T(a,"small"),T(a,"image"),T(a,"style"),T(a,"classes"),T(a,"showPopups"),te(a,"showPopups",!0);for(const h of t)(b=h.postConstruct)==null||b.call(h,a);const o=t.reduce((h,w)=>{var C;return Object.assign(h,(C=w.getGatheredProps)==null?void 0:C.call(w,a))},{});if(a[Fe]=function(){const{visibility:h,display:w,requirements:C,earned:S,image:v,style:$,classes:k,mark:x,small:q,id:V}=this;return{visibility:h,display:w,requirements:C,earned:S,image:v,style:u($),classes:k,mark:x,small:q,id:V,...o}},a.requirements){const h=a,w=[jn(h),Mt(()=>!h.earned.value),...rt(a.requirements)?a.requirements:[a.requirements]];Ee(()=>{j.active===A.id&&Sn(w)&&h.complete()})}return a})}Ne.on("loadSettings",e=>{te(e,"msDisplay",$t.All)});const Lu=Object.values($t).map(e=>({label:Tr(e),value:e}));sa(O(()=>s(Jn,{title:O(()=>s("span",{class:"option-title"},[m("Show milestones"),s("desc",null,[m("Select which milestones to display based on criterias.")])])),options:Lu,"onUpdate:modelValue":e=>j.msDisplay=e,modelValue:j.msDisplay},null)));const Uu="super",Z=tn(Uu,function(){const e="Super",t="#d65029",n=Cn(0,"SRP",0,!1),r=Bn(n),i=Ar(n),a=I(()=>l.dOne),c=Br(()=>({formula:v=>v.div(1e14).log(100).pow(2.4).mul(a),baseResource:U.points,gainResource:re(n)})),o=Wn(()=>({thingsToReset:()=>[Z]})),d={};Tt(U,()=>p.one.earned.value===!0,[U.upgs.one]),Tt(U,()=>p.two.earned.value===!0,[U.upgs.two]),Tt(U,()=>p.three.earned.value===!0,[U.upgs.three]);const p={one:jt(()=>({display:{effectDisplay:"Automate an RP upgrade for each SRP milestone, and pre-SR upgrades no longer spend currencies",requirement:"1 SRP"},requirements:[Mt(()=>l.gte(n.value,1))]})),two:jt(()=>({display:{effectDisplay:"RP buyables no longer spend RP",requirement:"3 SRP"},requirements:[Mt(()=>l.gte(n.value,3))]})),three:jt(()=>({display:{effectDisplay:"Cash upgrades are no longer reset on Rebirth, keep a Cash Upgrade on SR per SRP milestone, and keep one RP upgrade per milestone after this one",requirement:"10 SRP"},requirements:[Mt(()=>l.gte(n.value,10))],visibility(){return p.one.earned.value===!0}})),four:jt(()=>({display:{effectDisplay:"Unlock a Cash Buyable, and automate an RP buyable for each milestone after this one",requirement:"25 SRP"},requirements:[Mt(()=>l.gte(n.value,25))],visibility(){return p.two.earned.value===!0}})),five:jt(()=>({display:{effectDisplay:"Unlock the first SR challenge",requirement:"50 SRP"},requirements:[Mt(()=>l.gte(n.value,50))],onComplete(){X.progression.value=l.max(X.progression.value,5)},visibility(){return p.three.earned.value===!0}}))},b=Yn(()=>({layerID:"super",color:t,reset:o,display:"SR",append:I(()=>u(j.appendLayers)),visibility(){return U.upgs.eleven.bought.value===!0||l.gte(X.progression.value,3.9)?0:2}})),h=Qn(b,{display:Gn(n),pinnable:!0}),w=Hr(()=>({conversion:c,tree:X.tree,treeNode:b,display:O(()=>s(R,null,[U.upgs.eleven.bought.value===!0?l.gte(U.points.value,1e16)?`Super Rebirth for ${Pe(c.actualGain.value)} SRP`+(l.gte(c.actualGain.value,1e3)?"":`, next at ${Pe(c.nextAt.value)} RP`):`Reach ${Pe(1e16)} cash to Super Rebirth`:'Purchase RP UPG 11 "Continuity" to Super Rebirth'])),onClick(){X.progression.value=l.max(X.progression.value,4)},canClick(){return l.gte(c.actualGain.value,1)&&U.upgs.eleven.bought.value},classes:I(()=>({super:!0,halfwide:!0}))})),C=Hn(()=>({description:"Super Rebirth for SRP",key:"s",onPress:w.onClick,enabled(){return l.gte(X.progression.value,3.9)}})),S=hu(p);return{name:e,color:t,points:n,tooltip:h,effects:d,display:O(()=>s(R,null,[s("br",null,null),m("You have "),s(Rt,{resource:n,color:t},null),m(" SRP, multiplying:"),s("br",null,null),m(" Cash gain \xD7"),ae(l.max(n.value,0).add(1).pow(1.75)),s("br",null,null),m("RP gain \xD7"),ae(l.max(n.value,0).add(1).pow(1.25)),l.gt(a.value,"1e1000")?s("div",null,[m("("),r.value,m(")")]):null,s(kt,null,null),ie(w),s(kt,null,null),ie(S.display)])),treeNode:b,hotkey:C,minimizable:!1,achs:p,best:i,achDisp:S}});function Bu(){if(L.machine.value.length<1)return"Inactive // "+L.machine.value.length+"/"+L.machineUtils.maxModes.value;const e=["Cash","Neutral","Rebirth"];let t="in ";if(L.machine.value.length<2)t=t+e[L.machine.value[0]]+" Mode";else{t=t+" the ";for(let n=0;n<L.machine.value.length;n++){const r=L.machine.value[n];t=t+e[r]+", "}t=t.substring(0,t.length-2)+" Modes"}return t+` // ${L.machine.value.length}/${L.machineUtils.maxModes.value}`}const Gu="cash",L=tn(Gu,function(){const e=Cn(0,"Cash",2,!1),t=xe([]),n=Ar(e),r=qo(e),i=I(()=>v.cash.apply(C.one.bought.value?1:0));Ne.on("update",V=>{e.value=l.add(e.value,l.times(i.value,V)),l.gt(o.c.value,.5)&&t.value.includes(0)!==!0&&U.upgs.five.bought.value===!0&&k.cash.onClick(),l.gt(o.n.value,.5)&&t.value.includes(1)!==!0&&U.upgs.five.bought.value===!0&&k.neut.onClick(),l.gt(o.r.value,.5)&&t.value.includes(2)!==!0&&U.upgs.five.bought.value===!0&&k.rp.onClick()});const a=Bn(e,i),c={canDisable:I(()=>!1),maxModes:I(()=>{let V=0;return C.twelve.bought.value&&V++,U.upgs.seven.bought.value===!0&&V++,U.upgs.eleven.bought.value===!0&&V++,V})},o={c:xe(0,!1),n:xe(0,!1),r:xe(0,!1)},d="Cash",p="#0b9000",b=Yn(()=>({layerID:"cash",color:p,reset:w,display:"$",append:I(()=>u(j.appendLayers))})),h=Qn(b,{display:Gn(e),pinnable:!0}),w=Wn(()=>({thingsToReset:()=>[v,e,n,r,a,t,Z.achs.three.earned.value===!0?l.gt(U.points.value,0)?null:[C.four,C.five,C.six,C.seven,C.eight,C.nine,C.ten,C.eleven,C.twelve]:C]})),C={one:ce(()=>({requirements:oe(()=>({resource:re(e),cost:0,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Begin generating 1 cash/s",title:"The Start..."},classes:I(()=>({cash:!0}))})),two:ce(()=>({requirements:oe(()=>({resource:re(e),cost:10,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Quadruple cash gain"},classes:I(()=>({cash:!0}))})),three:ce(()=>({requirements:oe(()=>({resource:re(e),cost:50,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Boost cash gain based on cash",effectDisplay:O(()=>s(R,null,[s("span",null,[m("\xD7"),ae(l.max(0,e.value).add(1).log(5).add(1))])]))},classes:I(()=>({cash:!0}))})),four:ce(()=>({requirements:oe(()=>({resource:re(e),cost:300,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Quadruple cash gain again"},classes:I(()=>({cash:!0}))})),five:ce(()=>({requirements:oe(()=>({resource:re(e),cost:1600,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Boost cash gain based on cash again",effectDisplay:O(()=>s(R,null,[s("span",null,[m("\xD7"),ae(l.max(0,e.value).add(1).log(8).add(1).pow(.8))])]))},classes:I(()=>({cash:!0})),style:I(()=>({"border-bottom-left-radius":U.upgs.four.bought.value===!0?"0":"var(--border-radius) !important"}))})),six:ce(()=>({requirements:oe(()=>({resource:re(e),cost:5500,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Boost cash gain based on cash, yet again",effectDisplay:O(()=>s(R,null,[s("span",null,[m("\xD7"),ae(l.max(0,e.value).add(1).log(6).add(1).pow(.6))])]))},classes:I(()=>({cash:!0}))})),seven:ce(()=>({requirements:oe(()=>({resource:re(e),cost:17e3,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Raise previous boosts ^1.2"},classes:I(()=>({cash:!0}))})),eight:ce(()=>({requirements:oe(()=>({resource:re(e),cost:2e5,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Unlock Rebirth",title:"Repitition"},classes:I(()=>({cash:!0})),style:I(()=>({"border-bottom-right-radius":U.upgs.four.bought.value===!0?"0":"var(--border-radius) !important"}))})),nine:ce(()=>({requirements:oe(()=>({resource:re(e),cost:8e7,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Boost cash gain based on cash, yet another time",effectDisplay:O(()=>s(R,null,[s("span",null,[m("\xD7"),ae(l.max(0,e.value).add(1).log(1e5).add(1).pow(1.5))])]))},visibility(){return U.upgs.four.bought.value},classes:I(()=>({cash:!0}))})),ten:ce(()=>({requirements:oe(()=>({resource:re(e),cost:7e8,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Boost cash gain based on cash, for the last time",effectDisplay:O(()=>s(R,null,[s("span",null,[m("\xD7"),ae(l.max(0,e.value).add(1).log(100).add(1))])]))},visibility(){return U.upgs.four.bought.value},classes:I(()=>({cash:!0}))})),eleven:ce(()=>({requirements:oe(()=>({resource:re(e),cost:1e10,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Double RP gain"},visibility(){return U.upgs.four.bought.value},classes:I(()=>({cash:!0}))})),twelve:ce(()=>({requirements:oe(()=>({resource:re(e),cost:25e9,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Unlock The Machine",title:"Beep Boop"},visibility(){return U.upgs.four.bought.value},classes:I(()=>({cash:!0})),onPurchase(){X.progression.value=l.max(X.progression.value,2)}}))},S={},v={cash:st(()=>[ee(()=>({multiplier:4,enabled:C.two.bought,description:"Cash UPG 2"})),ee(()=>({multiplier(){return l.max(0,e.value).add(1).log(5).add(1)},enabled:C.three.bought,description:"Cash UPG 3"})),ee(()=>({multiplier:4,enabled:C.four.bought,description:"Cash UPG 4"})),ee(()=>({multiplier(){return l.max(0,e.value).add(1).log(8).add(1).pow(.8)},enabled:C.five.bought,description:"Cash UPG 5"})),ee(()=>({multiplier(){return l.max(0,e.value).add(1).log(6).add(1).pow(.6)},enabled:C.six.bought,description:"Cash UPG 6"})),wu(()=>({exponent:1.2,enabled:C.seven.bought,description:"Cash UPG 7"})),ee(()=>({multiplier(){return l.max(0,e.value).add(1).log(1e5).add(1).pow(1.5)},enabled:C.nine.bought,description:"Cash UPG 9"})),ee(()=>({multiplier(){return l.max(0,e.value).add(1).log(100).add(1)},enabled:C.ten.bought,description:"Cash UPG 10"})),ee(()=>({multiplier(){return v.machine.cash.cash.apply(8)},enabled(){return t.value.includes(0)},description:"Machine Cash Mode"})),ee(()=>({multiplier(){return v.machine.neut.cash.apply(3)},enabled(){return t.value.includes(1)},description:"Machine Neutral Mode"})),ee(()=>({multiplier(){return l.max(U.points.value,0).add(1).log(10).add(1).pow(2)},enabled(){return l.gte(X.progression.value,.9)},description:"RP Effect"})),ee(()=>({multiplier(){let V=l.dZero;return U.upgs.one.bought.value===!0&&(V=V.add(1)),U.upgs.two.bought.value===!0&&(V=V.add(1)),U.upgs.three.bought.value===!0&&(V=V.add(1)),U.upgs.four.bought.value===!0&&(V=V.add(1)),U.upgs.five.bought.value===!0&&(V=V.add(1)),U.upgs.six.bought.value===!0&&(V=V.add(1)),U.upgs.seven.bought.value===!0&&(V=V.add(1)),l.pow(2,V).min(100)},enabled:U.upgs.one.bought,description:"RP UPG 1"})),ee(()=>({multiplier(){return l.max(U.points.value,0).add(1).log(3).add(1)},enabled:U.upgs.nine.bought,description:"RP UPG 9"})),ee(()=>({multiplier(){return l.max(Z.points.value,0).add(1).pow(1.75)},enabled(){return l.gte(X.progression.value,3.9)},description:"SRP Effect"}))]),machine:{overall:{cash:st(()=>[ee(()=>({multiplier(){return v.machine.cash.cash.apply(8)},enabled(){return t.value.includes(0)},description:"Cash Mode"})),ee(()=>({multiplier(){return v.machine.neut.cash.apply(3)},enabled(){return t.value.includes(1)},description:"Neutral Mode"}))]),rp:st(()=>[ee(()=>({multiplier(){return v.machine.neut.rp.apply(2)},enabled(){return t.value.includes(1)},description:"Neutral Mode"})),ee(()=>({multiplier(){return v.machine.rp.rp.apply(4)},enabled(){return t.value.includes(2)},description:"Rebirth Mode"}))])},cash:{cash:st(()=>[ee(()=>({multiplier:2.25,enabled:U.upgs.eleven.bought,description:"RP UPG 11"}))])},neut:{cash:st(()=>[ee(()=>({multiplier:1.5,enabled:U.upgs.eleven.bought,description:"RP UPG 11"}))]),rp:st(()=>[ee(()=>({multiplier:1.5,enabled:U.upgs.eleven.bought,description:"RP UPG 11"}))])},rp:{rp:st(()=>[ee(()=>({multiplier:2.25,enabled:U.upgs.eleven.bought,description:"RP UPG 11"}))])}}},$={c:Ct(()=>({onClick(){o.c.value=l.lte(o.c.value,.5)?1:0},canClick(){return l.gte(X.progression.value,2.9)},style(){return{"min-height":"50px",width:"50px","background-color":l.gt(o.c.value,.5)?"var(--accent2)":"var(--danger)"}},visibility(){return l.gte(X.progression.value,2.9)?0:1},display:{description:O(()=>s(R,null,[m("AUTO"),s("br",null,null),l.gt(o.c.value,.5)?"ON":"OFF"]))}})),n:Ct(()=>({onClick(){o.n.value=l.lte(o.n.value,.5)?1:0},canClick(){return l.gte(X.progression.value,2.9)},style(){return{"min-height":"50px",width:"50px","background-color":l.gt(o.n.value,.5)?"var(--accent2)":"var(--danger)"}},visibility(){return l.gte(X.progression.value,2.9)?0:1},display:{description:O(()=>s(R,null,[m("AUTO"),s("br",null,null),l.gt(o.n.value,.5)?"ON":"OFF"]))}})),r:Ct(()=>({onClick(){o.r.value=l.lte(o.r.value,.5)?1:0},canClick(){return l.gte(X.progression.value,2.9)},style(){return{"min-height":"50px",width:"50px","background-color":l.gt(o.r.value,.5)?"var(--accent2)":"var(--danger)"}},visibility(){return l.gte(X.progression.value,2.9)?0:1},display:{description:O(()=>s(R,null,[m("AUTO"),s("br",null,null),l.gt(o.r.value,.5)?"ON":"OFF"]))}}))},k={cash:Ct(()=>({onClick(){t.value.includes(0)===!0?t.value=t.value.filter(V=>V!==0):t.value.length<c.maxModes.value&&t.value.push(0)},canClick(){return t.value.includes(0)===!0?c.canDisable.value?t.value.length<=c.maxModes.value:!1:t.value.length<c.maxModes.value},display:O(()=>s(R,null,[s("h2",null,[t.value.includes(0)===!0?"Disable":"Enable"])])),style:{"min-height":"50px"}})),neut:Ct(()=>({onClick(){t.value.includes(1)===!0?t.value=t.value.filter(V=>V!==1):t.value.length<c.maxModes.value&&t.value.push(1)},canClick(){return t.value.includes(1)===!0?c.canDisable.value?t.value.length<=c.maxModes.value:!1:t.value.length<c.maxModes.value},display:O(()=>s(R,null,[s("h2",null,[t.value.includes(1)===!0?"Disable":"Enable"])])),style:{"min-height":"50px"}})),rp:Ct(()=>({onClick(){t.value.includes(2)===!0?t.value=t.value.filter(V=>V!==2):t.value.length<c.maxModes.value&&t.value.push(2)},canClick(){return t.value.includes(2)===!0?c.canDisable.value?t.value.length<=c.maxModes.value:!1:t.value.length<c.maxModes.value},display:O(()=>s(R,null,[s("h2",null,[t.value.includes(2)===!0?"Disable":"Enable"])])),style:{"min-height":"50px"}}))},x=gn({cash:()=>({display:"Cash",glowColor:p,tab:lt(()=>({display:O(()=>s(R,null,[s("br",null,null),m("You have "),s(Rt,{resource:e,color:p},null),m(" Cash"),ie(q.cashGain),l.gt(i.value,0)?s("div",null,[m("("),a.value,m(")"),s(je,{id:"oomps"},null)]):null,s(kt,null,null),s(Dt,null,{default:()=>[Xe(C.one,C.two,C.three,C.four),Xe(C.five,C.six,C.seven,C.eight),Xe(C.nine,C.ten,C.eleven,C.twelve)]})]))}))}),machine:()=>({display:"Machine",glowColor:"#666",visibility(){return l.gte(X.progression.value,1.9)?0:2},tab:lt(()=>({display:O(()=>s(R,null,[s("br",null,null),m("You have "),s(Rt,{resource:e,color:p},null),m(" Cash"),ie(q.cashGain),l.gt(i.value,0)?s("div",null,[m("("),a.value,m(")"),s(je,{id:"oomps"},null)]):null,s(kt,null,null),s("h2",null,[m("The Machine")]),ie(q.machine),s("br",null,null),s("sup",{style:"color: var(--highlighted)"},[m("Currently "),Bu()]),s("div",{style:"background-color: rgba(102, 102, 102, 25%); width: 470px; min-height: 50px; border-radius: var(--border-radius); padding: 10px; border: 4px solid rgba(0, 0, 0, 0.25);"},[s("table",null,[s("tr",null,[s("td",{style:"width: 270px;"},[s("h3",null,[m("Cash Mode")]),ie(q.machineC),s("br",null,null),s("sup",{style:"color: var(--highlighted)"},[t.value.includes(0)===!0?"Enabled":"Disabled"]),s("br",null,null),s("h5",null,[m("\xD7"),ae(v.machine.cash.cash.apply(8)),m(" Cash")]),s("br",null,null)]),s("td",{style:"width: 150px;"},[ie(k.cash)]),s("td",{style:"width: 50px;"},[ie($.c)])]),s("tr",null,[s("td",null,[s("h3",null,[m("Neutral Mode")]),ie(q.machineN),s("br",null,null),s("sup",{style:"color: var(--highlighted)"},[t.value.includes(1)===!0?"Enabled":"Disabled"]),s("br",null,null),s("h5",null,[m("\xD7"),ae(v.machine.neut.cash.apply(3)),m(" Cash, \xD7"),ae(v.machine.neut.rp.apply(2)),m(" RP")]),s("br",null,null)]),s("td",null,[ie(k.neut)]),s("td",{style:"width: 50px;"},[ie($.n)])]),s("tr",null,[s("td",null,[s("h3",null,[m("Rebirth Mode")]),ie(q.machineR),s("br",null,null),s("sup",{style:"color: var(--highlighted)"},[t.value.includes(2)===!0?"Enabled":"Disabled"]),s("br",null,null),s("h5",null,[m("\xD7"),ae(v.machine.rp.rp.apply(4)),m(" RP")]),s("br",null,null)]),s("td",null,[ie(k.rp)]),s("td",{style:"width: 50px;"},[ie($.r)])])])])]))}))})},()=>({visibility:!0})),q={cashGain:Pt("Cash",()=>[{title:"Cash Gain",modifier:v.cash,base(){return C.one.bought.value===!0?1:0}}]),machine:Pt("The Machine",()=>[{title:"Cash Bonus",modifier:v.machine.overall.cash,base:1},{title:"RP Bonus",modifier:v.machine.overall.rp,base:1}]),machineC:Pt("Cash Mode",()=>[{title:"Cash Bonus",modifier:v.machine.cash.cash,base:8}]),machineN:Pt("Neutral Mode",()=>[{title:"Cash Bonus",modifier:v.machine.neut.cash,base:3},{title:"RP Bonus",modifier:v.machine.neut.rp,base:2}]),machineR:Pt("Rebirth Mode",()=>[{title:"RP Bonus",modifier:v.machine.rp.rp,base:4}])};return{name:d,color:p,tooltip:h,display:O(()=>s(R,null,[l.gte(X.progression.value,1.9)?ie(x):s(R,null,[s("br",null,null),m("You have "),s(Rt,{resource:e,color:p},null),m(" Cash"),ie(q.cashGain),l.gt(i.value,0)?s("div",null,[m("("),a.value,m(")"),s(je,{id:"oomps"},null)]):null,s(kt,null,null),s(Dt,null,{default:()=>[Xe(C.one,C.two,C.three,C.four),Xe(C.five,C.six,C.seven,C.eight),Xe(C.nine,C.ten,C.eleven,C.twelve)]})])])),treeNode:b,points:e,best:n,tabs:x,total:r,pointGain:i,oomps:a,upgs:C,effects:v,reset:w,machine:t,machineClickables:k,machineUtils:c,minimizable:!1,autoMachine:o,buys:S}}),ju=Symbol("Repeatable");function vr(e,...t){const n=xe(0),r=t.reduce((i,a)=>{var c;return Object.assign(i,(c=a.getPersistentData)==null?void 0:c.call(a))},{});return Se(i=>{var w,C,S;const a=e.call(i,i);a.id=gt("repeatable-"),a.type=ju,a[Oe]=zr;for(const v of t)(w=v.preConstruct)==null||w.call(v,a);a.amount=n,a.amount[_t]=(C=a.initialAmount)!=null?C:0,Object.assign(a,r);const c={requirementMet:I(()=>l.sub(u(a.limit),a.amount.value)),requiresPay:!1,visibility:de.None,canMaximize:!0},o=jn(a);rt(a.requirements)?(a.requirements.unshift(o),a.requirements.push(c)):a.requirements=[o,a.requirements,c],a.maxed=I(()=>l.gte(a.amount.value,u(a.limit))),T(a,"classes");const d=a.classes;a.classes=I(()=>{const v=u(d)||{};return a.maxed.value&&(v.bought=!0),v}),a.amountToIncrease=I(()=>l.clampMin(Lr(a.requirements),1)),a.canClick=I(()=>Sn(a.requirements));const p=a.onClick;a.onClick=function(v){var x;const $=a;if(!u($.canClick))return;const k=(x=u(a.amountToIncrease))!=null?x:1;Ur(a.requirements,k),$.amount.value=l.add($.amount.value,k),p==null||p(v)},T(a,"display");const b=a.display;a.display=O(()=>{var $,k,x;const v=u(b);if(ze(v)){const q=Y(v);return s(q,null,null)}if(v!=null){const q=a,V=Y(($=v.title)!=null?$:"","h3"),ve=Y((k=v.description)!=null?k:""),Ke=Y((x=v.effectDisplay)!=null?x:"");return s("span",null,[v.title==null?null:s("div",null,[s(V,null,null)]),v.description==null?null:s(ve,null,null),v.showAmount===!1?null:s("div",null,[s("br",null,null),s(R,null,[m("Amount: "),Pe(q.amount.value)]),l.isFinite(u(q.limit))?s(R,null,[m(" / "),Pe(u(q.limit))]):void 0]),v.effectDisplay==null?null:s("div",null,[s("br",null,null),m("Currently: "),s(Ke,null,null)]),q.maxed.value?null:s("div",null,[s("br",null,null),kn(q.requirements,u(a.amountToIncrease))])])}return""}),T(a,"visibility"),te(a,"visibility",de.Visible),T(a,"limit"),te(a,"limit",l.dInf),T(a,"style"),T(a,"mark"),T(a,"small");for(const v of t)(S=v.postConstruct)==null||S.call(v,a);const h=t.reduce((v,$)=>{var k;return Object.assign(v,(k=$.getGatheredProps)==null?void 0:k.call($,a))},{});return a[Fe]=function(){const{display:v,visibility:$,style:k,classes:x,onClick:q,canClick:V,small:ve,mark:Ke,id:pt}=this;return{display:v,visibility:$,style:u(k),classes:x,onClick:q,canClick:V,small:ve,mark:Ke,id:pt,...h}},a})}const zu="rebirth",U=tn(zu,function(){const e="Rebirth",t="#c60029",n=Cn(0,"RP",0,!1),r=Bn(n),i=I(()=>p.rp.apply(1)),a=Br(()=>({formula:v=>v.div(1e5).sqrt().mul(i),baseResource:L.points,gainResource:re(n)})),c=Wn(()=>({thingsToReset:()=>[n,r,o,d]})),o={one:ce(()=>({requirements:oe(()=>({resource:re(n),cost:1,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Double cash generation for each Rebirth upgrade owned. Caps at \xD7100"},classes:I(()=>({rebirth:!0}))})),two:ce(()=>({requirements:oe(()=>({resource:re(n),cost:3,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Automate the first four Cash upgrades"},classes:I(()=>({rebirth:!0}))})),three:ce(()=>({requirements:oe(()=>({resource:re(n),cost:10,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Automate the next four Cash upgrades"},classes:I(()=>({rebirth:!0}))})),four:ce(()=>({requirements:oe(()=>({resource:re(n),cost:50,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Unlock the next four Cash upgrades"},classes:I(()=>({rebirth:!0}))})),five:ce(()=>({requirements:oe(()=>({resource:re(n),cost:2e3,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Unlock Auto Machine"},classes:I(()=>({rebirth:!0})),onPurchase(){X.progression.value=l.max(X.progression.value,3)}})),six:ce(()=>({requirements:oe(()=>({resource:re(n),cost:25e3,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Unlock Rebirth Buyables"},classes:I(()=>({rebirth:!0}))})),seven:ce(()=>({requirements:oe(()=>({resource:re(n),cost:25e4,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Increase maximum machine modes enabled by one"},classes:I(()=>({rebirth:!0}))})),eight:ce(()=>({requirements:oe(()=>({resource:re(n),cost:1e6,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Automate the next four cash upgrades"},classes:I(()=>({rebirth:!0}))})),nine:ce(()=>({requirements:oe(()=>({resource:re(n),cost:5e6,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Boost cash gain based on RP",effectDisplay:O(()=>s(R,null,[m("\xD7"),ae(l.max(n.value,0).add(1).log(3).add(1))]))},classes:I(()=>({rebirth:!0}))})),ten:ce(()=>({requirements:oe(()=>({resource:re(L.points),cost:2e14,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Boost RP gain based on Cash",effectDisplay:O(()=>s(R,null,[m("\xD7"),ae(l.max(L.points.value,0).add(1).log(1e4).add(1))]))},classes:I(()=>({cash:!0}))})),eleven:ce(()=>({requirements:oe(()=>({resource:re(n),cost:1e10,requiresPay(){return Z.achs.one.earned.value!==!0}})),display:{description:"Improve all currently unlocked machine modes, increase maximum machine modes enabled by one again, and unlock the next reset layer."},classes:{rebirth:!0,wide:!0}}))},d={one:vr(()=>({requirements:[oe(()=>({resource:re(n),cost:g.variable(d.one.amount).step(35,v=>v.pow(2)).pow_base(2).mul(15e3),requiresPay(){return Z.achs.two.earned.value!==!0}}))],display:{description:"Boost RP gain",showAmount:!1,effectDisplay:O(()=>s(R,null,[m("\xD7"),ae(l.pow(l.add(l.mul(.05,d.two.amount.value),1.25),d.one.amount.value)),s("br",null,null),m("Amount: "),Pe(d.one.amount.value)]))},visibility(){return o.six.bought.value===!0?0:2},classes:{rebirth:!0,wide:!0}})),two:vr(()=>({requirements:[oe(()=>({resource:re(n),cost:g.variable(d.two.amount).step(10,v=>v.pow(3)).pow_base(1.5).sub(1).pow_base(8).mul(1e5),requiresPay(){return Z.achs.two.earned.value!==!0}}))],display:{description:"Increase previous buyable's effect's base",showAmount:!1,effectDisplay:O(()=>s(R,null,[m("+"),ae(l.mul(.05,d.two.amount.value)),s("br",null,null),m("Amount: "),Pe(d.two.amount.value)]))},visibility(){return o.six.bought.value===!0?0:2},classes:{rebirth:!0,wide:!0}}))};Tt(L,o.two.bought,[L.upgs.one,L.upgs.two,L.upgs.three,L.upgs.four]),Tt(L,o.three.bought,[L.upgs.five,L.upgs.six,L.upgs.seven,L.upgs.eight]),Tt(L,o.eight.bought,[L.upgs.nine,L.upgs.ten,L.upgs.eleven,L.upgs.twelve]);const p={rp:st(()=>[ee(()=>({multiplier:2,description:"Cash UPG 11",enabled:L.upgs.eleven.bought})),ee(()=>({multiplier(){return L.effects.machine.neut.rp.apply(2)},enabled(){return L.machine.value.includes(1)},description:"Machine Neutral Mode"})),ee(()=>({multiplier(){return L.effects.machine.rp.rp.apply(4)},enabled(){return L.machine.value.includes(2)},description:"Machine Rebirth Mode"})),ee(()=>({multiplier(){return l.pow(l.add(l.mul(.05,d.two.amount.value),1.25),d.one.amount.value)},description:"RP BUY 1",enabled:o.six.bought})),ee(()=>({multiplier(){return l.max(L.points.value,0).add(1).log(1e4).add(1)},description:"RP UPG 10",enabled:o.ten.bought})),ee(()=>({multiplier(){return l.max(Z.points.value,0).add(1).pow(1.25)},enabled(){return l.gte(X.progression.value,3.9)},description:"SRP Effect"})),ee(()=>({multiplier:0,description:"Unable to Rebirth",enabled(){return L.upgs.eight.bought.value!==!0}}))]),rpCash:st(()=>[ee(()=>({multiplier(){return l.max(n.value,0).add(1).log(10).add(1).pow(2)},description:"Initial Amount"}))])},b=Yn(()=>({layerID:"rebirth",color:t,reset:c,display:"R",append:I(()=>u(j.appendLayers)),visibility(){return L.upgs.eight.bought.value===!0||l.gte(X.progression.value,.9)?0:2}})),h=Qn(b,{display:Gn(n),pinnable:!0}),w=Hr(()=>({conversion:a,tree:X.tree,treeNode:b,display:O(()=>s(R,null,[L.upgs.eight.bought.value===!0?l.gte(L.points.value,1e5)?`Rebirth for ${Pe(a.actualGain.value)} RP`+(l.gte(a.actualGain.value,1e3)?"":`, next at ${Pe(a.nextAt.value)} cash`):`Reach ${Pe(1e5)} cash to Rebirth`:'Purchase Cash UPG 8 "Repitition" to Rebirth'])),onClick(){X.progression.value=l.max(X.progression.value,1)},canClick(){return l.gte(a.actualGain.value,1)&&L.upgs.eight.bought.value},classes:I(()=>({rebirth:!0,halfwide:!0}))})),C=Hn(()=>({description:"Rebirth for RP",key:"r",onPress:w.onClick,enabled(){return l.gte(X.progression.value,.9)}})),S={rpGain:Pt("Rebirth",()=>[{title:"RP Gain",modifier:p.rp,base(){return l.div(L.points.value,1e5).sqrt()}}])};return{name:e,color:t,points:n,tooltip:h,effects:p,display:O(()=>s(R,null,[s("br",null,null),m("You have "),s(Rt,{resource:n,color:t},null),m(" RP"),ie(S.rpGain),s("br",null,null),m("Multiplying cash gain by \xD7"),ae(l.max(n.value,0).add(1).log(10).add(1).pow(2)),l.gt(i.value,"1e1000")?s("div",null,[m("("),r.value,m(")")]):null,s(kt,null,null),ie(w),s(kt,null,null),Xe(d.one,d.two),s(Dt,null,{default:()=>[Xe(o.one,o.two,o.three,o.four),Xe(o.five,o.six,o.seven,o.eight),Xe(o.nine,o.ten,o.eleven)]})])),treeNode:b,hotkey:C,upgs:o,buys:d,minimizable:!1}}),X=tn("main",function(){const e=Cn(0,"progress"),t=nu(()=>({nodes:[[L.treeNode],[U.treeNode],[Z.treeNode]],branches:[{startNode:U.treeNode,endNode:L.treeNode,visibility:L.upgs.eight.bought.value===!0||l.gte(e.value,.9)?1:0},{startNode:Z.treeNode,endNode:U.treeNode,visibility:U.upgs.eleven.bought.value===!0||l.gte(e.value,3.9)?1:0}],resetPropagation:ru})),n=Hn(()=>({description:"Toggle Pause",key:"/",onPress(){A.devSpeed=A.devSpeed===1?0:1}}));return{name:"Tree",links:t.links,minimizable:!0,display:O(()=>s(R,null,[A.devSpeed!=null&&A.devSpeed!==0&&A.devSpeed!==1?s("div",null,[m("Dev Speed: "),ae(A.devSpeed),m("x"),s(je,{id:"devspeed"},null)]):A.devSpeed===0?s("div",null,[m("Game Paused"),s(je,{id:"paused"},null)]):s("br",null,null),A.offlineTime!=null&&A.offlineTime!==0?s("div",null,[m("Offline Time: "),en(A.offlineTime),s(je,{id:"offline"},null)]):s("br",null,null),m("You have "),s(Rt,{resource:L.points,color:L.color},null),m(" Cash"),l.gt(L.pointGain.value,0)?s("div",null,[m("("),L.oomps.value,m(")"),s(je,{id:"oomps"},null)]):null,ie(t)])),tree:t,hotkey:n,progression:e}}),Hu=e=>[X,U,L,Z],Kn=I(()=>!1);function Wu(e,t){}var Qu=Object.freeze(Object.defineProperty({__proto__:null,main:X,getInitialLayers:Hu,hasWon:Kn,fixOldSave:Wu},Symbol.toStringTag,{value:"Module"}));const Yu={class:"field"},Ju=z({__name:"Toggle",props:{title:null,modelValue:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=I(()=>{var a;return Y((a=u(n.title))!=null?a:"<span></span>","span")}),i=I({get(){return!!n.modelValue},set(a){t("update:modelValue",a)}});return(a,c)=>(_(),M("label",Yu,[bn(f("input",{type:"checkbox",class:"toggle","onUpdate:modelValue":c[0]||(c[0]=o=>ye(i)?i.value=o:null)},null,512),[[ri,u(i)]]),(_(),G(ue(u(r))))]))}});var ot=K(Ju,[["__scopeId","data-v-11046116"]]);const rn=e=>(Le("data-v-2ed85231"),e=e(),Ue(),e),Ku={class:"game-over-modal-header"},Zu=["src","alt"],Xu={class:"game-over-modal-title"},ec=rn(()=>f("h2",null,"Congratulations!",-1)),tc={key:0},nc=rn(()=>f("br",null,null,-1)),rc=rn(()=>f("div",null," Please check the Discord to discuss the game or to check for new content updates! ",-1)),ic=rn(()=>f("br",null,null,-1)),ac=["href"],sc=rn(()=>f("span",{class:"material-icons game-over-modal-discord"},"discord",-1)),lc=z({__name:"GameOverScreen",setup(e){const{title:t,logo:n,discordName:r,discordLink:i,versionNumber:a,versionTitle:c}=J,o=I(()=>en(A.timePlayed)),d=I(()=>Kn.value&&!A.keepGoing),p=He(A,"autosave");function b(){A.keepGoing=!0}function h(){dt(xt())}return(w,C)=>(_(),G(Qe,{"model-value":u(d)},{header:B(()=>[f("div",Ku,[u(n)?(_(),M("img",{key:0,class:"game-over-modal-logo",src:u(n),alt:u(t)},null,8,Zu)):D("",!0),f("div",Xu,[ec,f("h4",null,"You've beaten "+W(u(t))+" v"+W(u(a))+": "+W(u(c)),1)])])]),body:B(({shown:S})=>[S?(_(),M("div",tc,[f("div",null,"It took you "+W(u(o))+" to beat the game.",1),nc,rc,ic,f("div",null,[f("a",{href:u(i),class:"game-over-modal-discord-link"},[sc,m(" "+W(u(r)),1)],8,ac)]),s(ot,{title:"Autosave",modelValue:u(p),"onUpdate:modelValue":C[0]||(C[0]=v=>ye(p)?p.value=v:null)},null,8,["modelValue"])])):D("",!0)]),footer:B(()=>[f("div",{class:"game-over-footer"},[f("button",{onClick:b,class:"button"},"Keep Going"),f("button",{onClick:h,class:"button danger"},"Play Again")])]),_:1},8,["model-value"]))}});var oc=K(lc,[["__scopeId","data-v-2ed85231"]]);const Zn=e=>(Le("data-v-69cb5d1a"),e=e(),Ue(),e),uc=Zn(()=>f("div",{class:"header"},[f("h2",null,"Saves Manager")],-1)),cc={key:0,style:{color:"var(--danger)"}},dc={class:"modal-footer"},gc={class:"field"},fc=Zn(()=>f("span",{class:"field-title"},"Create Save",-1)),pc={class:"field-buttons"},mc={class:"footer"},hc=Zn(()=>f("div",{style:{"flex-grow":"1"}},null,-1)),vc=z({__name:"SavesManager",setup(e,{expose:t}){const n=F(!1),r=F(null);t({open(){n.value=!0}});const i=F(!1),a=F(""),c=F(null);Ve(a,k=>{k?It(()=>{var x;try{if(k=(x=vt(k))!=null?x:"",k===""){console.warn("Unable to determine preset encoding",k),i.value=!0;return}const q=JSON.parse(k);if(typeof q!="object"){i.value=!0;return}const V=zt();q.id=V,ke(q),a.value="",i.value=!1,j.saves.push(V)}catch{i.value=!0}}):i.value=!1});let o={},d=F(Object.keys(o).reduce((k,x)=>(k.push({label:x.split("/").slice(-1)[0].slice(0,-4),value:o[x]}),k),[]));Ve(n,k=>{k&&ra()});const p=I(()=>j.saves.reduce((k,x)=>(k[x]=na(x),k),{})),b=I(()=>{var k;return((k=qe.value)==null?void 0:k.loggedIn)===!0&&j.saves.length<Lt.value.length});function h(k){let x;switch(A.id===k?x=Ot(A):x=JSON.stringify(p.value[k]),J.exportEncoding){default:console.warn(`Unknown save encoding: ${J.exportEncoding}. Defaulting to lz`);case"lz":x=yt.compressToUTF16(x);break;case"base64":x=btoa(unescape(encodeURIComponent(x)));break;case"plain":break}const q=document.createElement("textarea");q.value=x,document.body.appendChild(q),q.select(),q.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(q)}function w(k){A.id===k&&ke();const x={...p.value[k],id:zt()};ke(x),j.saves.push(x.id)}function C(k){var x;((x=qe.value)==null?void 0:x.loggedIn)===!0&&qe.value.getSaveList().then(q=>{var ve;const V=Object.keys(q).find(Ke=>{const pt=q[Ke].content;try{if(JSON.parse(pt).id===k)return!0}catch{return!1}});V!=null&&((ve=qe.value)==null||ve.save(parseInt(V),"","").catch(console.error))}),j.saves=j.saves.filter(q=>q!==k),localStorage.removeItem(k),ln(k)}function S(k){p.value[A.id].time=A.time,ke(),ln(A.id),dt(p.value[k]),ln(k)}function v(k){var q;if(c.value=k,It(()=>{c.value=null}),k=(q=vt(k))!=null?q:"",k===""){console.warn("Unable to determine preset encoding",k);return}const x=JSON.parse(k);x.id=zt(),ke(x),j.saves.push(x.id),S(x.id)}function $(k,x){const q=p.value[k];q!=null&&(q.name=x,A.id===k?(A.name=x,ke()):(ke(q),ln(k)))}return(k,x)=>(_(),G(Qe,{modelValue:n.value,"onUpdate:modelValue":x[4]||(x[4]=q=>n.value=q),ref_key:"modal",ref:r},{header:B(()=>[uc]),body:B(({shown:q})=>[u(b)?(_(),M("div",cc," Not all saves are synced! You may need to delete stale saves. ")):D("",!0),q?(_(),G(u(ci),{key:1,list:u(j).saves,handle:".handle",itemKey:V=>V},{item:B(({element:V})=>[s($n,{save:u(p)[V],onOpen:ve=>S(V),onExport:ve=>h(V),onEditName:ve=>$(V,ve),onDuplicate:ve=>w(V),onDelete:ve=>C(V)},null,8,["save","onOpen","onExport","onEditName","onDuplicate","onDelete"])]),_:1},8,["list","itemKey"])):D("",!0)]),footer:B(()=>[f("div",dc,[s(Er,{modelValue:a.value,"onUpdate:modelValue":x[0]||(x[0]=q=>a.value=q),title:"Import Save",placeholder:"Paste your save here!",class:ne({importingFailed:i.value})},null,8,["modelValue","class"]),f("div",gc,[fc,f("div",pc,[f("button",{class:"button",onClick:x[1]||(x[1]=q=>S(u(xt)().id))},"New Game"),Object.keys(u(d)).length>0?(_(),G(Jn,{key:0,options:u(d),modelValue:c.value,"onUpdate:modelValue":x[2]||(x[2]=q=>v(q)),closeOnSelect:"",placeholder:"Select preset",class:"presets"},null,8,["options","modelValue"])):D("",!0)])]),f("div",mc,[hc,f("button",{class:"button modal-default-button",onClick:x[3]||(x[3]=q=>n.value=!1)}," Close ")])])]),_:1},8,["modelValue"]))}});var Yr=K(vc,[["__scopeId","data-v-69cb5d1a"]]);const In=e=>(Le("data-v-33d30568"),e=e(),Ue(),e),bc=In(()=>f("div",{class:"nan-modal-header"},[f("h2",null,"NaN value detected!")],-1)),yc={key:0},_c=In(()=>f("br",null,null,-1)),wc=["href"],Cc=In(()=>f("span",{class:"material-icons nan-modal-discord"},"discord",-1)),Nc=In(()=>f("br",null,null,-1)),Sc={class:"nan-footer"},kc=z({__name:"NaNScreen",setup(e){const{discordName:t,discordLink:n}=J,r=F(!0),i=F(!0),a=He(le,"hasNaN"),c=F(null);Ve(a,w=>{w?(r.value=A.autosave,i.value=A.devSpeed===0):(A.autosave=r.value,A.devSpeed=i.value?0:null)});const o=I(()=>{var w;return(w=le.NaNPath)==null?void 0:w.join(".")}),d=I(()=>le.NaNPersistent!=null?le.NaNPersistent.value:null);function p(){le.NaNPersistent!=null&&(le.NaNPersistent.value=new l(0),le.hasNaN=!1)}function b(){le.NaNPersistent&&(le.NaNPersistent.value=new l(1),le.hasNaN=!1)}function h(){le.NaNPersistent&&(le.NaNPersistent.value=new l(NaN),le.hasNaN=!1)}return(w,C)=>(_(),M(R,null,[s(Qe,it({modelValue:u(a),"onUpdate:modelValue":C[4]||(C[4]=S=>ye(a)?a.value=S:null)},w.$attrs),{header:B(()=>[bc]),body:B(()=>[f("div",null,[m(' Attempted to assign "'+W(u(o))+'" to NaN',1),u(d)?(_(),M("span",yc,W(" ")+"(previously "+W(u(ae)(u(d)))+")",1)):D("",!0),m(". Auto-saving has been "+W(r.value?"enabled":"disabled")+". Check the console for more details, and consider sharing it with the developers on discord. ",1)]),_c,f("div",null,[f("a",{href:u(n)||"https://discord.gg/yJ4fjnjU54",class:"nan-modal-discord-link"},[Cc,m(" "+W(u(t)||"Profectus & Friends"),1)],8,wc)]),Nc,s(ot,{title:"Autosave",modelValue:r.value,"onUpdate:modelValue":C[0]||(C[0]=S=>r.value=S)},null,8,["modelValue"]),u(J).enablePausing?(_(),G(ot,{key:0,title:"Pause game",modelValue:i.value,"onUpdate:modelValue":C[1]||(C[1]=S=>i.value=S)},null,8,["modelValue"])):D("",!0)]),footer:B(()=>[f("div",Sc,[f("button",{onClick:C[2]||(C[2]=S=>{var v;return(v=c.value)==null?void 0:v.open()}),class:"button"},"Open Saves Manager"),f("button",{onClick:p,class:"button"},"Set to 0"),f("button",{onClick:b,class:"button"},"Set to 1"),u(d)&&u(l).neq(u(d),0)&&u(l).neq(u(d),1)?(_(),M("button",{key:0,onClick:C[3]||(C[3]=S=>a.value=!1),class:"button"}," Set to previous ")):D("",!0),f("button",{onClick:h,class:"button danger"},"Ignore")])]),_:1},16,["modelValue"]),s(Yr,{ref_key:"savesManager",ref:c},null,512)],64))}});var Ic=K(kc,[["__scopeId","data-v-33d30568"]]);const Mc=z({components:{Context:qr,ErrorVue:Nr},props:{index:{type:Number,required:!0},display:{type:E(Object,String,Function),required:!0},minimizedDisplay:E(Object,String,Function),minimized:{type:Object,required:!0},name:{type:E(String),required:!0},color:E(String),minimizable:E(Boolean),nodes:{type:Object,required:!0}},emits:["setMinimized"],setup(e){const{display:t,index:n,minimized:r,minimizedDisplay:i}=Ce(e),a=qt(t),c=nn(i),o=I(()=>J.allowGoBack&&n.value>0&&!we(r));function d(){A.tabs.splice(u(e.index),1/0)}function p(h){e.nodes.value=h}const b=F([]);return ii((h,w,C)=>(console.warn(`Error caught in "${e.name}" layer`,h,w,C),b.value.push(h instanceof Error?h:new Error(JSON.stringify(h))),!1)),{component:a,minimizedComponent:c,showGoBack:o,updateNodes:p,unref:u,goBack:d,errors:b}}}),Pc={key:1};function $c(e,t,n,r,i,a){const c=De("ErrorVue"),o=De("Context");return e.errors.length>0?(_(),G(c,{key:0,errors:e.errors},null,8,["errors"])):(_(),M("div",it({key:1,class:"layer-container",style:{"--layer-color":e.unref(e.color)}},e.$attrs),[e.showGoBack?(_(),M("button",{key:0,class:"goBack material-icons",onClick:t[0]||(t[0]=(...d)=>e.goBack&&e.goBack(...d))},"close")):D("",!0),e.unref(e.minimized)?(_(),M("button",{key:1,class:"layer-tab minimized",onClick:t[1]||(t[1]=d=>e.$emit("setMinimized",!1))},[e.minimizedComponent?(_(),G(ue(e.minimizedComponent),{key:0})):(_(),M("div",Pc,W(e.unref(e.name)),1))])):(_(),M("div",{key:2,class:ne(["layer-tab",{showGoBack:e.showGoBack}])},[s(o,{onUpdateNodes:e.updateNodes},{default:B(()=>[(_(),G(ue(e.component)))]),_:1},8,["onUpdateNodes"])],2)),e.unref(e.minimizable)?(_(),M("button",{key:3,class:"minimize",onClick:t[2]||(t[2]=d=>e.$emit("setMinimized",!0))}," \u25BC ")):D("",!0)],16))}var xc=K(Mc,[["render",$c],["__scopeId","data-v-7fe4aede"]]);const an=e=>(Le("data-v-8efbafca"),e=e(),Ue(),e),Tc=an(()=>f("div",{class:"header"},[f("h2",null,"Changelog")],-1)),Rc=an(()=>f("details",{open:""},[f("summary",null,[m("v1.0 Universal - "),f("time",null,"2024-XX-XX")]),m(" Port to Profectus, Rebalance, and Major Content update "),f("ul",null,[f("li",{class:"breaking"},"Ported to Profectus"),f("li",{class:"breaking"},"Fully rebalanced existing content"),f("li",{class:"feature"},"Breakdown Modals"),f("li",{class:"feature"},"Help Menu"),f("li",{class:"feature"},"Save Bank"),f("li",{class:"feature"},"Auto Machine"),f("li",{class:"feature"},"Universal Time"),f("li",{class:"fix"},"Fixed multiple NaN bugs"),f("li",{class:"fix"},"Fixed multiple typos"),f("li",{class:"change"},"Changed various colours"),f("li",{class:"change"},"Changed Achievements"),f("li",{class:"change"},"Changed Certain features")])],-1)),Oc=an(()=>f("details",null,[f("summary",null,[m("v0.3 Hyper - "),f("time",null,"2024-04-13")]),m(" v0.3.1 Matter Paths - "),f("time",null,"2024-05-15"),f("br"),m(" Addition of the Matter Paths "),f("ul",null,[f("li",{class:"feature"},"Matter Paths"),f("li",{class:"feature"},"Matter"),f("li",{class:"feature"},"Antimatter"),f("li",{class:"feature"},"Dark Matter & Black Hole"),f("li",{class:"feature"},"Exotic Matter & Hypotheory"),f("li",{class:"feature"},"Hotkeys"),f("li",{class:"fix"},"Fixed multiple NaN bugs"),f("li",{class:"fix"},"Fixed multiple typos"),f("li",{class:"fix"},"Fixed a certain Power milestone"),f("li",{class:"change"},"Softcap visual overhaul")]),m(" v0.3 Hyper - "),f("time",null,"2024-04-13"),f("br"),m(" Addition of the third reset layer "),f("ul",null,[f("li",{class:"balancing"},"Rebalanced Power"),f("li",{class:"feature"},"Hyper Rebirth"),f("li",{class:"feature"},"Hyper Cash"),f("li",{class:"feature"},"Hyper Paths"),f("li",{class:"fix"},"Fixed Power unlock"),f("li",{class:"change"},"Changed some text"),f("li",{class:"change"},"Changed challenge visuals")])],-1)),Dc=an(()=>f("details",null,[f("summary",null,[m("v0.2 Super - "),f("time",null,"2024-04-07")]),m(" v0.2.1 Power - "),f("time",null,"2024-04-09"),f("br"),m(" Addition of an extremely unbalanced polynomial currency "),f("ul",null,[f("li",{class:"feature"},"Power"),f("li",{class:"feature"},"Challenges"),f("li",{class:"feature"},"Pylons")]),m(" v0.2 Super - "),f("time",null,"2024-04-07"),f("br"),m(" Addition of the second reset layer "),f("ul",null,[f("li",{class:"feature"},"Super Rebirth"),f("li",{class:"feature"},"Secret Achievements"),f("li",{class:"fix"},"Fixed a NaN bug")])],-1)),qc=an(()=>f("details",null,[f("summary",null,[m("v0.1 Rebirth - "),f("time",null,"2024-04-04")]),m(" Initial released version of the game "),f("ul",null,[f("li",{class:"feature"},"Cash"),f("li",{class:"feature"},"Rebirth"),f("li",{class:"feature"},"The Machine"),f("li",{class:"feature"},"Achievements")])],-1)),Fc=z({__name:"Changelog",setup(e,{expose:t}){const n=F(!1);return t({open(){n.value=!0}}),(r,i)=>(_(),G(Qe,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=a=>n.value=a)},{header:B(()=>[Tc]),body:B(()=>[Rc,Oc,Dc,qc]),_:1},8,["modelValue"]))}});var Vc=K(Fc,[["__scopeId","data-v-8efbafca"]]);const Ye=e=>(Le("data-v-6c4a97fa"),e=e(),Ue(),e),Ec={class:"info-modal-header"},Ac=["src","alt"],Lc={class:"info-modal-title"},Uc={key:0},Bc={key:0},Gc=Ye(()=>f("div",null,[m("Created by:"),f("br"),f("a",{target:"_blank",href:"https://banacubed.github.io/",style:{width:"fit-content",display:"inline"}},[f("span",{class:"material-icons user-thingy"},"lightbulb terminal palette"),m("BanaCubed")]),f("br"),f("span",{style:{width:"fit-content",display:"inline"}},[f("span",{class:"material-icons user-thingy"},"lightbulb palette"),m("adoplayzz")]),f("br"),f("span",{style:{width:"fit-content",display:"inline"}},[f("span",{class:"material-icons user-thingy"},"lightbulb"),m("Create_Incremental_Boy")]),f("br"),f("span",{style:{width:"fit-content",display:"inline"}},[f("span",{class:"material-icons user-thingy"},"lightbulb"),m("EchoingLycanthrope")]),f("br"),f("span",{style:{width:"fit-content",display:"inline"}},[f("span",{class:"material-icons user-thingy"},"lightbulb"),m("EdenGameMaster")]),f("br"),f("span",{style:{width:"fit-content",display:"inline"}},[f("span",{class:"material-icons user-thingy"},"lightbulb"),m("galaxyuser63274")]),f("br"),f("span",{style:{width:"fit-content",display:"inline"}},[f("span",{class:"material-icons user-thingy"},"lightbulb"),m("Shadow69420")]),f("br"),f("br"),f("span",{id:"key"},[f("span",{class:"material-icons"},"lightbulb"),m(" Idea // "),f("span",{class:"material-icons"},"terminal"),m(" Code // "),f("span",{class:"material-icons"},"palette"),m(" Art // "),f("span",{class:"material-icons"},"translate"),m(" Translation"),f("br"),m(" For name change or addition of links contact @banacubed on discord"),f("br"),m(" Ideas can be submitted in the "),f("a",{style:{display:"inline",width:"fit-content"},target:"_self",href:"https://galaxy.click/forum/thread/255"},"original forum"),m(" on galaxy")])],-1)),jc=Ye(()=>f("br",null,null,-1)),zc=Ye(()=>f("div",null," Made in Profectus, by thepaperpilot with inspiration from Acameada and Jacorb ",-1)),Hc=Ye(()=>f("br",null,null,-1)),Wc=Ye(()=>f("span",{class:"material-icons user-thingy"},"history",-1)),Qc=Ye(()=>f("br",null,null,-1)),Yc=Ye(()=>f("br",null,null,-1)),Jc={style:{"margin-left":"calc(30% - 24px)"}},Kc=["href"],Zc=Ye(()=>f("span",{class:"material-icons info-modal-discord"},"discord",-1)),Xc=Ye(()=>f("div",null,[f("a",{href:"https://discord.gg/yJ4fjnjU54",class:"info-modal-discord-link",target:"_blank"},[f("span",{class:"material-icons info-modal-discord"},"discord"),m(" Profectus & Friends ")])],-1)),ed=Ye(()=>f("div",null,[f("a",{href:"https://discord.gg/F3xveHV",class:"info-modal-discord-link",target:"_blank"},[f("span",{class:"material-icons info-modal-discord"},"discord"),m(" The Modding Tree ")])],-1)),td=Ye(()=>f("br",null,null,-1));var nd=z({__name:"Info",props:{changelog:null},setup(e,{expose:t}){const n=e,{title:r,logo:i,author:a,discordName:c,discordLink:o,versionNumber:d,versionTitle:p}=J,b=Ce(n),h=F(!1),w=I(()=>en(A.timePlayed));I(()=>Y(O(()=>s(R,null,[On.map(ie)])))),t({open(){h.value=!0}});function C(){var S;(S=u(b.changelog))==null||S.open()}return(S,v)=>(_(),G(Qe,{modelValue:h.value,"onUpdate:modelValue":v[0]||(v[0]=$=>h.value=$)},{header:B(()=>[f("div",Ec,[u(i)?(_(),M("img",{key:0,class:"info-modal-logo",src:u(i),alt:u(r)},null,8,Ac)):D("",!0),f("div",Lc,[f("h2",null,W(u(r)),1),f("h4",null,[m(" v"+W(u(d)),1),u(p)?(_(),M("span",Uc,": "+W(u(p)),1)):D("",!0)])])])]),body:B(({shown:$})=>[$?(_(),M("div",Bc,[Gc,jc,zc,Hc,f("span",{style:{width:"fit-content",display:"inline"},class:"link",onClick:C},[Wc,m("Changelog")]),Qc,Yc,f("div",Jc,[f("div",null,[u(o)?(_(),M("a",{key:0,href:u(o),class:"info-modal-discord-link",target:"_blank"},[Zc,m(" "+W(u(c)),1)],8,Kc)):D("",!0)]),Xc,ed]),td,f("div",null,"Time Played: "+W(u(w)),1)])):D("",!0)]),_:1},8,["modelValue"]))}});var rd=K(nd,[["__scopeId","data-v-6c4a97fa"]]);const id={class:"info-modal-header"},ad=["src","alt"],sd={class:"info-modal-title"},ld={key:0};var od=z({__name:"Help",props:{changelog:null},setup(e,{expose:t}){const n=e,{title:r,logo:i,author:a,discordName:c,discordLink:o,versionNumber:d,versionTitle:p}=J;Ce(n);const b=F(!1);I(()=>en(A.timePlayed));const h=I(()=>Y(O(()=>s(R,null,[ie(C)]))));t({open(){b.value=!0}}),gn({cash:()=>({display:"Cash",glowColor:L.color,tab:lt(()=>({display:O(()=>s(R,null,[s("br",null,null),s("span",null,[s("h2",null,[m("Cash")]),m(" "),s("br",null,null),s("sup",{style:"color: var(--highlighted)"},[m("Updated 2024-11-03")]),m(" "),s("br",null,null),m("This section of the game is very straightforward, just buy the upgrades whenever you can. "),s("br",null,null),s("br",null,null)])]))}))}),rebirth:()=>({display:"Rebirth",glowColor:U.color,visibility(){return l.gte(X.progression.value,.9)},tab:lt(()=>({display:O(()=>s(R,null,[s("br",null,null),s("span",null,[s("h2",null,[m("Rebirth")]),m(" "),s("br",null,null),s("sup",{style:"color: var(--highlighted)"},[m("Updated 2024-11-03")]),m(" "),s("br",null,null),m("TBA // To Be Added")])]))}))})});const w=gn({cash:()=>({display:"Cash",glowColor:L.color,tab:lt(()=>({display:O(()=>s(R,null,[s("br",null,null),s("span",null,[s("h2",null,[m("Cash")]),m(" "),s("br",null,null),s("br",null,null),m("$ is a shortening of Cash "),s("br",null,null),m(" "),s("br",null,null),L.upgs.three.bought.value?s("span",null,[m("Cash UPG 3\u2007\u2007\u2007\u2007 log"),s("sub",null,[m("5")]),m("($+1)+1"),s("br",null,null)]):null,L.upgs.five.bought.value?s("span",null,[m("Cash UPG 5\u2007\u2007\u2007 (log"),s("sub",null,[m("8")]),m("($+1)+1)"),s("sup",null,[m("0.8")]),s("br",null,null)]):null,L.upgs.six.bought.value?s("span",null,[m("Cash UPG 6\u2007\u2007\u2007 (log"),s("sub",null,[m("6")]),m("($+1)+1)"),s("sup",null,[m("0.6")]),s("br",null,null)]):null,L.upgs.nine.bought.value?s("span",null,[m("Cash UPG 9\u2007\u2007\u2007 (log"),s("sub",null,[m("100,000")]),m("($+1)+1)"),s("sup",null,[m("1.5")]),s("br",null,null)]):null,L.upgs.ten.bought.value?s("span",null,[m("Cash UPG 10 \u2007\u2007\u2007log"),s("sub",null,[m("100")]),m("($+1)+1"),s("br",null,null)]):null])]))}))}),rebirth:()=>({display:"Rebirth",glowColor:U.color,visibility(){return l.gte(X.progression.value,.9)},tab:lt(()=>({display:O(()=>s(R,null,[s("br",null,null),s("span",null,[s("h2",null,[m("Rebirth")]),m(" "),s("br",null,null),s("br",null,null),m("RP is a shortening of Rebirth Points "),s("br",null,null),m(" "),s("br",null,null),s("span",null,[m("RP Gain\u2007\u2007\u2007\u2007\u2007\u2007 ($/100,000)"),s("sup",null,[m("0.5")]),s("br",null,null)]),s("span",null,[m("RP Effect\u2007\u2007\u2007\u2007 (log"),s("sub",null,[m("10")]),m("(RP+1)+1)"),s("sup",null,[m("2")]),s("br",null,null)]),U.upgs.one.bought.value?s("span",null,[m("RP UPG 3\u2007\u2007\u2007\u2007\u2007\u2007 2"),s("sup",null,[m("Upgrades")]),s("br",null,null)]):null,U.upgs.nine.bought.value?s("span",null,[m("RP UPG 9\u2007\u2007\u2007\u2007\u2007\u2007 log"),s("sub",null,[m("3")]),m("(RP+1)+1"),s("br",null,null)]):null,U.upgs.ten.bought.value?s("span",null,[m("RP UPG 10\u2007\u2007\u2007\u2007\u2007 log"),s("sub",null,[m("10,000")]),m("($+1)+1"),s("br",null,null)]):null,U.upgs.six.bought.value?s("span",null,[m("RP BUY 1\u2007\u2007\u2007\u2007\u2007\u2007 1.25"),s("sup",null,[m("Amount")]),m(" (Base)"),s("br",null,null)]):null,U.upgs.six.bought.value?s("span",null,[m("RP BUY 2\u2007\u2007\u2007\u2007\u2007\u2007 0.05\xD7Amount"),s("br",null,null)]):null])]))}))}),super:()=>({display:"Super",glowColor:Z.color,visibility(){return l.gte(X.progression.value,3.9)},tab:lt(()=>({display:O(()=>s(R,null,[s("br",null,null),s("span",null,[s("h2",null,[m("Super Rebirth")]),m(" "),s("br",null,null),s("br",null,null),m("SRP is a shortening of Rebirth Points "),s("br",null,null),m(" "),s("br",null,null),s("span",null,[m("SRP Gain\u2007\u2007\u2007\u2007\u2007\u2007\u2007 log"),s("sub",null,[m("100")]),m("(RP/1e14)"),s("sup",null,[m("2.4")]),s("br",null,null)]),s("span",null,[m("SRP to Cash\u2007\u2007\u2007 (SRP+1)"),s("sup",null,[m("1.75")]),s("br",null,null)]),s("span",null,[m("SRP to RP\u2007\u2007\u2007\u2007\u2007 (SRP+1)"),s("sup",null,[m("1.25")]),s("br",null,null)])])]))}))})}),C=gn({general:()=>({display:"General",glowColor:"var(--accent1)",tab:lt(()=>({display:O(()=>s(R,null,[s("br",null,null),s("span",null,[s("h2",null,[m("Welcome")]),m(" "),s("br",null,null),m("Welcome to the Help Modal! "),s("br",null,null),m("This Modal contains two main tabs: "),s("br",null,null),m("- General "),s("br",null,null),m("- Formulae "),s("br",null,null),s("br",null,null),s("br",null,null),s("h2",null,[m("Notes")]),s("br",null,null),m("When a buyable spends nothing, it always buys max"),s("br",null,null),s("br",null,null),s("br",null,null),s("h2",null,[m("Hotkeys")]),m(" "),s("br",null,null),On.map(ie)])]))}))}),formula:()=>({display:"Formulae",glowColor:"var(--accent3)",tab:lt(()=>({display:O(()=>s(R,null,[s("br",null,null),s("span",null,[m("Upgrade formulae only appear when owned "),s("br",null,null),m(" "),s("br",null,null)]),ie(w)]))}))})});return(S,v)=>(_(),G(Qe,{modelValue:b.value,"onUpdate:modelValue":v[0]||(v[0]=$=>b.value=$)},{header:B(()=>[f("div",id,[u(i)?(_(),M("img",{key:0,class:"info-modal-logo",src:u(i),alt:u(r)},null,8,ad)):D("",!0),f("div",sd,[f("h2",null,W(u(r))+" Help",1),f("h4",null," v"+W(u(d))+": "+W(u(p)),1)])])]),body:B(({shown:$})=>[$?(_(),M("div",ld,[(_(),G(ue(u(h))))])):D("",!0)]),_:1},8,["modelValue"]))}});var ud=K(od,[["__scopeId","data-v-118d5405"]]);const cd={class:"header"},dd=f("h2",null,"Settings",-1),gd={class:"option-tabs"},fd={key:0},pd={key:1};var md=z({__name:"Options",setup(e,{expose:t}){j.notation=j.notation||0,j.language=j.language||"en";const n=F(!1),r=F("behaviour");function i(at){return at==r.value}function a(at){r.value=at}t({isTab:i,setTab:a,save:ke,open(){n.value=!0}});const c=[{label:"Scientific",value:0},{label:"Standard",value:1},{label:"Logarithmic",value:2},{label:"Mixed Scientific",value:3},{label:"Mixed Logarithmic",value:4}],o=I(()=>Y(O(()=>s(R,null,[Sr.map(ie)])))),{showTPS:d,notation:p,language:b,unthrottled:h,alignUnits:w,appendLayers:C,showHealthWarning:S}=Ce(j),{autosave:v,offlineProd:$}=Ce(A),k=I({get(){return A.devSpeed===0},set(at){A.devSpeed=at?0:null}}),x=O(()=>s("span",{class:"option-title"},[m("Unthrottled"),s("desc",null,[m("Allow the game to run as fast as possible. Not battery friendly.")])])),q=O(()=>s("span",{class:"option-title"},[m("Offline Production"),s(be,{display:"Save-specific",direction:fe.Right},{default:()=>[m("*")]}),s("desc",null,[m("Simulate production that occurs while the game is closed.")])]));O(()=>s("span",{class:"option-title"},[m("Append Layers"),s("desc",null,[m("Whether opening a layer appends it to previous layers or replaces them.")])])),O(()=>s("span",{class:"option-title"},[m("Show videogame addiction warning"),s("desc",null,[m("Show a helpful warning after playing for a long time about video game addiction and encouraging you to take a break.")])]));const V=O(()=>s("span",{class:"option-title"},[m("Autosave"),s(be,{display:"Save-specific",direction:fe.Right},{default:()=>[m("*")]}),s("desc",null,[m("Automatically save the game every second or when the game is closed.")])])),ve=O(()=>s("span",{class:"option-title"},[m("Pause game"),s(be,{display:"Save-specific",direction:fe.Right},{default:()=>[m("*")]}),s("desc",null,[m("Stop everything from moving."),s("br",null,null),m("Pressing "),s(jr,{hotkey:X.hotkey},null),m(" toggles this.")])])),Ke=O(()=>s("span",{class:"option-title"},[m("Notation"),s("desc",null,[m("How numbers are displayed."),s("br",null,null),m("Currently unfinished porting from \u03B23.")])]));O(()=>s("span",{class:"option-title"},[m("Language"),s("desc",null,[m("The language the game uses."),s("br",null,null),m("The game was developed in English.")])]));const pt=O(()=>s("span",{class:"option-title"},[m("Show TPS"),s("desc",null,[m("Show TPS meter at the bottom-left corner of the page.")])])),Ut=O(()=>s("span",{class:"option-title"},[m("Align modifier units"),s("desc",null,[m("Align numbers to the beginning of the unit in modifier view.")])]));return(at,se)=>(_(),G(Qe,{modelValue:n.value,"onUpdate:modelValue":se[10]||(se[10]=he=>n.value=he)},{header:B(()=>[f("div",cd,[dd,f("div",gd,[f("button",{class:ne({selected:i("behaviour")}),onClick:se[0]||(se[0]=he=>a("behaviour"))},"Behaviour",2),f("button",{class:ne({selected:i("appearance")}),onClick:se[1]||(se[1]=he=>a("appearance"))},"Appearance",2)])])]),body:B(()=>[i("behaviour")?(_(),M("div",fd,[s(ot,{title:u(x),modelValue:u(h),"onUpdate:modelValue":se[2]||(se[2]=he=>ye(h)?h.value=he:null)},null,8,["title","modelValue"]),u(J).enablePausing?(_(),G(ot,{key:0,title:u(ve),modelValue:u(k),"onUpdate:modelValue":se[3]||(se[3]=he=>ye(k)?k.value=he:null)},null,8,["title","modelValue"])):D("",!0),s(ot,{title:u(q),modelValue:u($),"onUpdate:modelValue":se[4]||(se[4]=he=>ye($)?$.value=he:null)},null,8,["title","modelValue"]),s(ot,{title:u(V),modelValue:u(v),"onUpdate:modelValue":se[5]||(se[5]=he=>ye(v)?v.value=he:null)},null,8,["title","modelValue"]),u(v)?D("",!0):(_(),G(xn,{key:1,class:"button save-button",onClick:se[6]||(se[6]=he=>u(ke)())},{default:B(()=>[m("Manually save")]),_:1}))])):D("",!0),i("appearance")?(_(),M("div",pd,[s(Jn,{title:u(Ke),options:c,modelValue:u(p),"onUpdate:modelValue":se[7]||(se[7]=he=>ye(p)?p.value=he:null)},null,8,["title","modelValue"]),(_(),G(ue(u(o)))),s(ot,{title:u(pt),modelValue:u(d),"onUpdate:modelValue":se[8]||(se[8]=he=>ye(d)?d.value=he:null)},null,8,["title","modelValue"]),s(ot,{title:u(Ut),modelValue:u(w),"onUpdate:modelValue":se[9]||(se[9]=he=>ye(w)?w.value=he:null)},null,8,["title","modelValue"])])):D("",!0)]),_:1},8,["modelValue"]))}});const Je=e=>(Le("data-v-f89b7a12"),e=e(),Ue(),e),hd=["src","alt"],vd={key:1,class:"title"},bd=Je(()=>f("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),yd=Je(()=>f("div",{style:{"flex-grow":"1",cursor:"unset"}},null,-1)),_d={class:"discord"},wd={class:"discord-links"},Cd={key:0},Nd=["href"],Sd=Je(()=>f("li",null,[f("a",{href:"https://discord.gg/yJ4fjnjU54",target:"_blank"},"Profectus & Friends")],-1)),kd=Je(()=>f("li",null,[f("a",{href:"https://discord.gg/F3xveHV",target:"_blank"},"The Modding Tree")],-1)),Id={href:"https://forums.moddingtree.com/",target:"_blank"},Md=Je(()=>f("span",{class:"material-icons"},"forum",-1)),Pd=Je(()=>f("span",{class:"material-icons"},"info",-1)),$d=Je(()=>f("span",{class:"material-icons"},"settings",-1)),xd=Je(()=>f("span",{class:"material-icons"},"settings",-1)),Td=Je(()=>f("span",{class:"material-icons"},"info",-1)),Rd=Je(()=>f("span",{class:"material-icons"},"help",-1)),Od=Je(()=>f("div",{style:{"flex-grow":"1"}},null,-1)),Dd=z({__name:"Nav",setup(e){const t=F(null),n=F(null),r=F(null),i=F(null),a=F(null),{useHeader:c,banner:o,title:d,discordName:p,discordLink:b,versionNumber:h}=J;function w(){window.open(b,"mywindow")}const C=I(()=>{var S;return((S=qe.value)==null?void 0:S.loggedIn)===!0&&!Lt.value.includes(j.active)});return(S,v)=>(_(),M(R,null,[u(c)?(_(),M("div",it({key:0,class:"nav"},S.$attrs),[u(o)?(_(),M("img",{key:0,src:u(o),class:"banner",alt:u(d)},null,8,hd)):(_(),M("div",vd,W(u(d)),1)),f("div",{onClick:v[0]||(v[0]=$=>{var k;return(k=a.value)==null?void 0:k.open()}),class:"version-container"},[s(be,{display:"Changelog",direction:u(fe).Down,class:"version"},{default:B(()=>[f("span",null,"v"+W(u(h)),1)]),_:1},8,["direction"])]),bd,yd,f("div",_d,[f("span",{onClick:w,class:"material-icons"},"discord"),f("ul",wd,[u(b)?(_(),M("li",Cd,[f("a",{href:u(b),target:"_blank"},W(u(p)),9,Nd)])):D("",!0),Sd,kd])]),f("div",null,[f("a",Id,[s(be,{display:"Forums",direction:u(fe).Down,yoffset:"5px"},{default:B(()=>[Md]),_:1},8,["direction"])])]),f("div",{onClick:v[1]||(v[1]=$=>{var k;return(k=n.value)==null?void 0:k.open()})},[s(be,{display:"Info",direction:u(fe).Down,class:"info"},{default:B(()=>[Pd]),_:1},8,["direction"])]),f("div",{onClick:v[2]||(v[2]=$=>{var k;return(k=r.value)==null?void 0:k.open()})},[s(be,{display:"Saves",direction:u(fe).Down,xoffset:"-20px"},{default:B(()=>[f("span",{class:ne(["material-icons",{needsSync:u(C)}])},"library_books",2)]),_:1},8,["direction"])]),f("div",{onClick:v[3]||(v[3]=$=>{var k;return(k=i.value)==null?void 0:k.open()})},[s(be,{display:"Settings",direction:u(fe).Down,xoffset:"-66px"},{default:B(()=>[$d]),_:1},8,["direction"])])],16)):(_(),M("div",it({key:1,class:"overlay-nav"},S.$attrs),[f("div",{onClick:v[4]||(v[4]=$=>{var k;return(k=i.value)==null?void 0:k.open()})},[s(be,{display:"Settings",direction:u(fe).Right},{default:B(()=>[xd]),_:1},8,["direction"])]),f("div",{onClick:v[5]||(v[5]=$=>{var k;return(k=r.value)==null?void 0:k.open()})},[s(be,{display:"Saves",direction:u(fe).Right},{default:B(()=>[f("span",{class:ne(["material-icons",{needsSync:u(C)}])},"library_books",2)]),_:1},8,["direction"])]),f("div",{onClick:v[6]||(v[6]=$=>{var k;return(k=n.value)==null?void 0:k.open()})},[s(be,{display:"Info",direction:u(fe).Right},{default:B(()=>[Td]),_:1},8,["direction"])]),f("div",{onClick:v[7]||(v[7]=$=>{var k;return(k=t.value)==null?void 0:k.open()})},[s(be,{display:"Help",direction:u(fe).Right},{default:B(()=>[Rd]),_:1},8,["direction"])]),Od],16)),s(ud,{ref_key:"help",ref:t,changelog:a.value},null,8,["changelog"]),s(rd,{ref_key:"info",ref:n,changelog:a.value},null,8,["changelog"]),s(Yr,{ref_key:"savesManager",ref:r},null,512),s(md,{ref_key:"options",ref:i},null,512),s(Vc,{ref_key:"changelog",ref:a},null,512)],64))}});var Jr=K(Dd,[["__scopeId","data-v-f89b7a12"]]);const qd={class:"inner-tab"},Fd=z({__name:"Game",setup(e){const t=He(A,"tabs"),n=I(()=>Object.keys($e)),r=J.useHeader;function i(a){const{display:c,minimized:o,name:d,color:p,minimizable:b,nodes:h,minimizedDisplay:w}=a;return{display:c,minimized:o,name:d,color:p,minimizable:b,nodes:h,minimizedDisplay:w}}return(a,c)=>(_(),M("div",{class:ne(["tabs-container",{useHeader:u(r)}])},[(_(!0),M(R,null,ut(u(t),(o,d)=>{var p,b;return _(),M("div",{key:d,class:ne(["tab",u((p=u($e)[o])==null?void 0:p.classes)]),style:Ie(u((b=u($e)[o])==null?void 0:b.style))},[d===0&&!u(r)?(_(),G(Jr,{key:0})):D("",!0),f("div",qd,[u(n).includes(o)?(_(),G(xc,it({key:0},i(u($e)[o]),{index:d,onSetMinimized:h=>u($e)[o].minimized.value=h}),null,16,["index","onSetMinimized"])):(_(),G(ue(o),{key:1,index:d},null,8,["index"]))])],6)}),128))],2))}});var Vd=K(Fd,[["__scopeId","data-v-dcd207b4"]]);const Ed=e=>(Le("data-v-f8f861a6"),e=e(),Ue(),e),Ad={key:0,class:"tpsDisplay"},Ld=Ed(()=>f("div",{class:"tpsDisplay2"},"v1.0 \u03B24",-1)),Ud=z({__name:"TPS",setup(e){const t=I(()=>l.div(le.lastTenTicks.length,le.lastTenTicks.reduce((n,r)=>n+r,0)));return(n,r)=>(_(),M(R,null,[u(t).isNan()?D("",!0):(_(),M("div",Ad,"TPS: "+W(u(Pe)(u(t))),1)),Ld],64))}});var Bd=K(Ud,[["__scopeId","data-v-f8f861a6"]]);var Gd=z({__name:"App",setup(e){const t=J.useHeader,n=I(()=>Xt[j.theme].variables),r=He(j,"showTPS"),i=He(le,"errors"),a=I(()=>Y(O(()=>s(R,null,[oa.map(ie)]))));return(c,o)=>u(i).length>0?(_(),M("div",{key:0,class:"error-container",style:Ie(u(n))},[s(Nr,{errors:u(i)},null,8,["errors"])],4)):(_(),M(R,{key:1},[f("div",{id:"modal-root",style:Ie(u(n))},null,4),f("div",{class:ne(["app",{useHeader:u(t)}]),style:Ie(u(n))},[u(t)?(_(),G(Jr,{key:0})):D("",!0),s(Vd),u(u(r))?(_(),G(Bd,{key:1})):D("",!0),s(Tl),s(oc),s(Ic),s(Do),(_(),G(ue(u(a))))],6)],64))}});var jd=K(Gd,[["__scopeId","data-v-1ba599d8"]]);function zd(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:c}=e;let o,d,p,b;const h=async(C=!0)=>{await p,C&&(o==null||o.addEventListener("controlling",S=>{S.isUpdate&&window.location.reload()})),await(b==null?void 0:b())};async function w(){if("serviceWorker"in navigator){const{Workbox:C,messageSW:S}=await Wt(()=>import("./workbox-window.4a8794bb.js"),[]);b=async()=>{d&&d.waiting&&await S(d.waiting,{type:"SKIP_WAITING"})},o=new C("./sw.js",{scope:"./",type:"classic"}),o.addEventListener("activated",v=>{v.isUpdate||r==null||r()});{const v=()=>{n==null||n()};o.addEventListener("waiting",v),o.addEventListener("externalwaiting",v)}o.register({immediate:t}).then(v=>{d=v,a?a("./sw.js",v):i==null||i(v)}).catch(v=>{c==null||c(v)})}}return p=w(),h}function Hd(e={}){const{immediate:t=!0,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:a,onRegisterError:c}=e,o=F(!1),d=F(!1);return{updateServiceWorker:zd({immediate:t,onNeedRefresh(){o.value=!0,n==null||n()},onOfflineReady(){d.value=!0,r==null||r()},onRegistered:i,onRegisteredSW:a,onRegisterError:c}),offlineReady:d,needRefresh:o}}const Xn=console.error;console.error=function(...e){Xn(...e)};window.onerror=function(e,t,n,r,i){return le.errors.push(i instanceof Error?i:new Error(JSON.stringify(i))),Xn(i),!0};window.onunhandledrejection=function(e){le.errors.push(e.reason instanceof Error?e.reason:new Error(JSON.stringify(e.reason))),Xn(e.reason)};document.title=J.title;window.projInfo=J;J.id===""&&console.error("Project ID is empty!","Please select a unique ID for this project in /src/data/projInfo.json");requestAnimationFrame(async()=>{console.log(`%cMade in Profectus%c
Learn more at www.moddingtree.com`,"font-weight: bold; font-size: 24px; color: #A3BE8C; background: #2E3440; padding: 4px 8px; border-radius: 8px;","padding: 4px;"),await ta();const{globalBus:e}=await Wt(()=>Promise.resolve().then(function(){return ea}),void 0),{startGameLoop:t}=await Wt(()=>import("./gameLoop.b2a075b0.js"),["assets/gameLoop.b2a075b0.js","assets/@fontsource.f66d05e7.css","assets/vue.742ed486.js","assets/lz-string.bfbf8ec3.js","assets/@vue.6b211d3c.js","assets/nanoevents.1080beb7.js","assets/unofficial-galaxy-sdk.21372393.js","assets/vue-textarea-autosize.35804eaf.js","assets/vue-next-select.f685f7dc.js","assets/vue-next-select.9e6f4164.css","assets/vue-toastification.7f629511.js","assets/vue-toastification.4b5f8ac8.css","assets/vuedraggable.9ea763fc.js","assets/sortablejs.1710774d.js"]),n=window.vue=ai(jd);n.config.errorHandler=function(r,i,a){console.error(r,a,i)},e.emit("setupVue",n),n.mount("#app"),It(()=>{const r=Cr(),{updateServiceWorker:i}=Hd({onNeedRefresh(){r.info("New content available, click here to update.",{timeout:!1,closeOnClick:!1,draggable:!1,icon:{iconClass:"material-icons",iconChildren:"refresh",iconTag:"i"},rtl:!1,onClick(){i()}})},onOfflineReady(){r.info("App ready to work offline")},onRegisterError:console.warn,onRegistered(a){a&&setInterval(()=>a.update(),60*60*1e3)}})}),t()});export{l as D,Wt as _,le as a,J as b,Qu as c,Ne as g,Rn as l,A as p,j as s};
